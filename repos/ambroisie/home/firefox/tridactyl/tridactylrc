" Shamelessly taken from bovine3dom's example configuration file from the docs

" Basics {{{
" Use dark color scheme
colorscheme dark

" Make tridactyl open Vim in my prefered terminal
" FIXME: make it follow my prefered terminal
set editorcmd termite --class tridactyl_editor -e 'vim %f'
" }}}

" Binds {{{
" Reddit et al. {{{
" Toggle comments on Reddit, Hacker News, Lobste.rs
bind ;c hint -Jc [class*="expand"],[class*="togg"],[class="comment_folder"]

" Make `gu` take me back to subreddit from comments
bindurl reddit.com gu urlparent 3

" Only hint search results on Google
bindurl www.google.com f hint -Jc #search div:not(.action-menu) > a
bindurl www.google.com F hint -Jbc #search div:not(.action-menu) > a

" Only hint search results on DuckDuckGo
bindurl ^https://duckduckgo.com f hint -Jc [class~=result__a]
bindurl ^https://duckduckgo.com F hint -Jbc [class~=result__a]

" Only hint item pages on Hacker News
bindurl news.ycombinator.com ;f hint -Jc .age > a
bindurl news.ycombinator.com ;F hint -Jtc .age > a
" }}}

" Better bindings {{{
" Handy multiwindow binds
bind gd tabdetach
bind gD composite tabduplicate; tabdetach

" Duplicate a tab without detaching window
bind <Space>d tabduplicate

" Make yy use canonical links on the few websites that support them
bind yy clipboard yankcanon
" }}}

" Search {{{
" Case insensitive only if fully lowercase
set findcase smart

" Search forward/backward
bind / fillcmdline find
bind ? fillcmdline find -?

" Go to next/previous match
bind n findnext 1
bind N findnext -1

" Because :nohls never works
bind <Space><Space> nohlsearch

" Use browser's native find when using Ctrl-F
unbind <C-f>
" }}}
" }}}

" Redirections {{{
" Always redirect Reddit to the old site
autocmd DocStart ^http(s?)://www.reddit.com js tri.excmds.urlmodify("-t", "www", "old")
" Use a better Twitter front-end
autocmd DocStart ^http(s?)://twitter.com js tri.excmds.urlmodify("-t", "twitter.com", "nitter.net")
" }}}

" Disabled websites {{{
blacklistadd netflix.com
blacklistadd primevideo.com
blacklistadd jellyfin.belanyi.fr
" }}}

" vim: set filetype=vim foldmethod=marker:
