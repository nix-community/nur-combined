import{a8 as Fe,g as qe,a9 as Ze,aa as e,ab as _,ac as Y,ad as J,ae as Se,af as ee,ag as q,r as j,ah as ae,ai as Ce,aj as re,ak as Ve,al as z,am as V,an as E,ao as G,ap as U,aq as Q,ar as O,as as A,at as P,au as I,av as $e,aw as Ge,ax as k,ay as X,az as Te,aA as K,aB as Ue,aC as Qe,aD as Be,aE as Re,aF as He,aG as We,aH as Ke,aI as F,aJ as ne,aK as Ye,aL as Je,aM as Xe,aN as es,aO as H,aP as ss,aQ as as,aR as le,aS as ts,aT as rs,aU as ns,aV as ls,aW as is,aX as De,aY as os,aZ as cs,a7 as ds,a_ as Ee,a$ as ze,b0 as te,b1 as Oe,b2 as us,b3 as hs,b4 as ps,b5 as xs,b6 as ms,b7 as js,b8 as gs,b9 as fe,ba as be,bb as fs,bc as bs,bd as W,be as ve,bf as ye,bg as vs,bh as we,bi as Ne}from"./index-DV5vAjQm.js";import{q as ys,E as ws,V as Ns}from"./ExploreSearchCombobox-BJbkwezM.js";import{D as Ae}from"./DeleteConfirmationDialog-D1N1r2Jm.js";import{S as se,C as _s}from"./Cypher-CuQNkP8l.js";import{u as Ss}from"./useConfiguration-CjBq8UAR.js";import"./useSearch-BB_-T_X7.js";import"./CypherEditor-B5mKnHUQ.js";const Cs=Fe;var $s=Ze;function Ts(t,s){return $s(t,s)}var Ds=Ts;const Es=qe(Ds),M=(t,s,a,n)=>{var c,m,o;console.error(t);const r=`privilege-zones_${s}-${a}`,x={anchorOrigin:{vertical:"top",horizontal:"right"}};let l=`An unexpected error occurred while ${s} the ${a}. Please try again.`;if(Cs(t)){const i=((m=(c=t.response)==null?void 0:c.data)==null?void 0:m.errors)??[],d=i.length?i[0].message:((o=t.response)==null?void 0:o.statusText)||void 0;d&&(l=`An unexpected error occurred while ${s} the ${a}. Message: ${d}. Please try again.`)}n(l,r,x)},zs=({selectorId:t,selectorData:s,onClick:a})=>t===""||s===void 0||s.is_default?null:e.jsx(_,{"data-testid":"privilege-zones_save_selector-form_delete-button",variant:"text",onClick:a,children:e.jsxs("span",{children:[e.jsx(Y,{icon:J})," Delete Selector"]})}),Os=({control:t})=>{var C,y;const s=Se(),a=ee(),{selectorId:n="",tagId:r,tagType:x,tagTypeDisplay:l}=q(),{dispatch:c,selectorType:m,selectorQuery:o}=j.useContext(se),i=s.state;j.useEffect(()=>{i&&c({type:"set-selector-type",selectorType:ae})},[]);const d=Ce({queryKey:["privilege-zones","tags",r],queryFn:async()=>(await ne.getAssetGroupTag(r)).data.data.tag,enabled:r!==""}),{isLoading:T,isError:g}=ys(d,o),{addNotification:v}=re(),[S,N]=j.useState(!1),u=Ve(),L=j.useCallback(async()=>{try{if(!r||!n)throw new Error(`Missing required entity IDs; tagId: ${r} , selectorId: ${n}`);await u.mutateAsync({tagId:r,selectorId:n}),v("Selector was deleted successfully!",void 0,{anchorOrigin:{vertical:"top",horizontal:"right"}}),N(!1),a(`/${z}/${x}/${r}/${V}`)}catch(h){M(h,"deleting","selector",v)}},[r,n,a,u,v,x]),f=j.useCallback(()=>N(!1),[]);return T?e.jsx(E,{}):g?e.jsx("div",{children:"There was an error fetching the selector information."}):e.jsxs("div",{className:"max-lg:w-full w-96 h-[36rem] ",children:[e.jsxs(G,{className:"p-3",children:[e.jsx(U,{className:"text-xl font-bold",children:"Defining Selector"}),e.jsxs(Q,{children:[n!==""&&e.jsx("div",{className:"mb-4",children:e.jsx(O,{control:t,name:"disabled",render:({field:h})=>e.jsxs(A,{children:[e.jsx(P,{children:"Selector Status"}),e.jsx(I,{children:e.jsx($e,{...h,value:"","data-testid":"privilege-zones_save_selector-form_disable-switch",disabled:o.data===void 0?!1:!o.data.allow_disable,checked:!h.value,onCheckedChange:$=>{h.onChange(!$)}})}),e.jsx(Ge,{children:h.value?"Disabled":"Enabled"}),e.jsx(k,{})]})})}),e.jsxs("p",{className:"font-bold",children:[l,": ",e.jsx("span",{className:"font-normal",children:(C=d.data)==null?void 0:C.name})]}),e.jsx("div",{className:"flex flex-col gap-6 mt-6",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx(O,{control:t,name:"name",rules:{required:"Please provide a name for the Selector"},render:({field:h})=>e.jsxs(A,{children:[e.jsx(P,{children:"Name"}),e.jsx(I,{children:e.jsx(X,{...h,type:"text",autoComplete:"off","data-testid":"privilege-zones_save_selector-form_name-input"})}),e.jsx(k,{})]})}),e.jsx(O,{control:t,name:"description",render:({field:h})=>e.jsxs(A,{children:[e.jsx(P,{children:"Description"}),e.jsx(I,{children:e.jsx(Te,{onChange:h.onChange,value:h.value,"data-testid":"privilege-zones_save_selector-form_description-input",placeholder:"Description Input",rows:3})}),e.jsx(k,{})]})}),e.jsxs("div",{children:[e.jsx(K,{className:"text-base font-bold",htmlFor:"selector-seed-type-select",children:"Selector Type"}),e.jsxs(Ue,{"data-testid":"privilege-zones_save_selector-form_type-select",value:m.toString(),onValueChange:h=>{h===F.toString()?c({type:"set-selector-type",selectorType:F}):h===ae.toString()&&c({type:"set-selector-type",selectorType:ae})},children:[e.jsx(Qe,{"aria-label":"select selector seed type",id:"selector-seed-type-select",children:e.jsx(Be,{placeholder:"Choose a Selector Type"})}),e.jsx(Re,{children:e.jsx(He,{children:Object.entries(We).map(([h,$])=>e.jsx(Ke,{value:h,children:$},h))})})]})]})]})})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(zs,{selectorId:n,selectorData:o.data,onClick:()=>{N(!0)}}),e.jsx(_,{"data-testid":"privilege-zones_save_selector-form_cancel-button",variant:"secondary",onClick:()=>a(-1),children:"Cancel"}),e.jsx(_,{"data-testid":"privilege-zones_save_selector-form_save-button",variant:"primary",type:"submit",children:n===""?"Save":"Save Edits"})]}),e.jsx(Ae,{open:S,itemName:((y=o.data)==null?void 0:y.name)||"Selector",itemType:"selector",onConfirm:L,onCancel:f})]})},As=()=>{const{selectedObjects:t,dispatch:s}=j.useContext(se),[a,n]=j.useState(""),r=l=>{s({type:"add-selected-object",node:l}),n("")},x=l=>{s({type:"remove-selected-object",node:l})};return e.jsxs(G,{className:"rounded-lg min-h-[36rem] h-[36rem]",children:[e.jsxs(U,{className:"px-6 first:pt-6 text-xl font-bold",children:[e.jsx("div",{className:"flex justify-between",children:e.jsx("span",{children:"Object Selector"})}),e.jsx(Ye,{className:"pt-3 font-normal",children:"Use the input field to add objects to the list"})]}),e.jsxs(Q,{className:"px-6",children:[e.jsx("div",{className:"flex content-center mt-3",children:e.jsx("div",{className:"w-full my-2",children:e.jsx(ws,{labelText:"Search Objects To Add",inputValue:a,selectedItem:null,handleNodeEdited:n,handleNodeSelected:r,variant:"standard"})})}),e.jsx("div",{className:"overflow-auto h-[400px]",children:e.jsx(Je,{className:"mt-5 w-full table-fixed",role:"table","aria-label":"Selected Objects",children:e.jsx(Xe,{className:"first:border-t-[1px] last:border-b-[1px] border-neutral-light-5 dark:border-netural-dark-5",children:t.map((l,c)=>e.jsxs(es,{className:"border-y p-0 *:p-0 *:h-12",children:[e.jsx(H,{className:"*:p-0 text-center w-[30px]",children:e.jsx(_,{variant:"text",onClick:()=>x(l),"aria-label":`Remove ${l.name||l.objectid}`,children:e.jsx(Y,{icon:J})})}),e.jsx(H,{className:"text-center w-[60px]",children:e.jsx(ss,{nodeType:l.type||""})}),e.jsx(H,{className:"mr-4 truncate",children:e.jsx(as,{tooltip:l.name||l.objectid,contentProps:{className:"max-w-80 dark:bg-neutral-dark-5 border-0"},children:e.jsx("div",{className:"truncate ml-2",children:l.name||l.objectid})})}),l.memberCount&&e.jsxs(H,{className:"text-center px-2 w-[116px]",children:[l.memberCount," Members"]})]},l.objectid+c))})})})]})]})},Is=(t,s,a)=>t===a?rs:s==="zones"?ns:ls,Ps=({control:t})=>{const{seeds:s,selectorType:a,selectorQuery:n}=j.useContext(se),{tagType:r,tagId:x}=q(),l=le(),c=Is(x,r,l==null?void 0:l.toString()),m=Ce({queryKey:["privilege-zones","preview-selectors",a,s,c],queryFn:async({signal:i})=>ne.assetGroupTagsPreviewSelectors({seeds:s,expansion:c},{signal:i}).then(d=>d.data.data.members),retry:!1,refetchOnWindowFocus:!1,enabled:s.length>0});if(n.isLoading)return e.jsx(E,{});if(n.isError)return e.jsx("div",{children:"There was an error fetching the selector data"});const o=s.values().next().value;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:ts("w-full grow h-[36rem] md:w-96 xl:max-w-[36rem] 2xl:max-w-full",{"md:w-60":a===F}),children:[e.jsx(O,{control:t,name:"seeds",render:({field:i})=>e.jsx(A,{children:e.jsx(I,{children:e.jsx(X,{...i,value:Array.from(s),className:"hidden w-0"})})})}),a===F?e.jsx(As,{}):e.jsx(_s,{preview:!1,initialInput:o==null?void 0:o.value})]}),e.jsxs(G,{className:"xl:max-w-[26rem] sm:w-96 md:w-96 lg:w-lg grow max-lg:mb-10 2xl:max-w-full min-h-[36rem]",children:[e.jsx(U,{className:"pl-6 first:py-6 text-xl font-bold",children:"Sample Results"}),e.jsxs(Q,{className:"pl-4",children:[e.jsxs("div",{className:"font-bold pl-2 mb-2",children:[e.jsx("span",{children:"Type"}),e.jsx("span",{className:"ml-8",children:"Object Name"})]}),e.jsx(Ns,{nodes:m.data??[],itemSize:46,heightScalar:10})]})]})]})},ks=(t,s)=>{if(t===void 0)return s;const a={...s},n={},r=t.disabled_at!==null;return t.name!==a.name&&(n.name=a.name),t.description!==a.description&&(n.description=a.description),a.disabled!==r&&(n.disabled=a.disabled),Es(a.seeds,t.seeds)||(n.seeds=a.seeds),n},Ls=(t,s)=>t===""||s===void 0||typeof s.disabled_at=="string"?!1:(s.disabled_at===null,!0),Ms={selectorType:F,seeds:[],selectedObjects:[]},Fs=(t,s)=>{switch(s.type){case"add-selected-object":return{...t,seeds:[...t.seeds,{type:F,value:s.node.objectid}],selectedObjects:[...t.selectedObjects,{objectid:s.node.objectid,name:s.node.name||s.node.objectid,type:s.node.type}]};case"remove-selected-object":return{...t,seeds:t.seeds.filter(a=>a.value!==s.node.objectid),selectedObjects:t.selectedObjects.filter(a=>a.objectid!==s.node.objectid)};case"set-selected-objects":return{...t,selectedObjects:s.nodes};case"set-selector-type":return{...t,selectorType:s.selectorType,seeds:[],selectedObjects:[]};case"set-seeds":return{...t,seeds:s.seeds};default:return t}},qs=()=>{const t=Se(),{tagId:s,selectorId:a="",tagType:n}=q(),r=ee(),{addNotification:x}=re(),[{selectorType:l,seeds:c,selectedObjects:m},o]=j.useReducer(Fs,Ms),i=is(s,a),d=De(),T=os(s),g=cs(s),v=j.useCallback(async()=>{try{if(!s||!a)throw new Error(`Missing required entity IDs; tagId: ${s}, selectorId: ${a}`);const u=ks(i.data,{...d.getValues(),seeds:c});if(ds(u)){x("No changes to selector detected",`privilege-zones_update-selector_no-changes-warn_${a}`,{anchorOrigin:{vertical:"top",horizontal:"right"}});return}await T.mutateAsync({tagId:s,selectorId:a,updatedValues:{...u,id:parseInt(a)}}),x("Selector was updated successfully!",`privilege-zones_update-selector_success_${a}`,{anchorOrigin:{vertical:"top",horizontal:"right"}}),r(-1)}catch(u){M(u,"updating","selector",x)}},[s,a,T,x,r,i.data,d,c]),S=j.useCallback(async()=>{try{if(!s)throw new Error(`Missing required ID. tagId: ${s}`);await g.mutateAsync({tagId:s,values:{...d.getValues(),seeds:c}}),x("Selector was created successfully!",void 0,{anchorOrigin:{vertical:"top",horizontal:"right"}}),r(`/${z}/${n}/${s}/${V}`)}catch(u){M(u,"creating","selector",x)}},[s,r,g,x,t,d,c]),N=j.useCallback(()=>{a!==""?v():S()},[a,S,v]);return j.useEffect(()=>{const u=new AbortController;if(i.data){const{name:L,description:f,seeds:C}=i.data;d.reset({name:L,description:f,seeds:C,disabled:!Ls(a,i.data)});const y=async()=>{const h=new Map,$=i.data.seeds.map(w=>`"${w.value}"`),Z=`match(n) where n.objectid in [${$==null?void 0:$.join(",")}] return n`;await ne.cypherSearch(Z,{signal:u.signal}).then(w=>{Object.values(w.data.data.nodes).forEach(b=>{h.set(b.objectId,b)})}).catch(w=>console.error("Failed to resolve seed nodes",w));const B=i.data.seeds.map(w=>{const b=h.get(w.value);return b!==void 0?{objectid:b.objectId,name:b.label,type:b.kind}:{objectid:w.value}});o({type:"set-selected-objects",nodes:B})};i.data.seeds.length>0&&o({type:"set-selector-type",selectorType:i.data.seeds[0].type}),o({type:"set-seeds",seeds:i.data.seeds}),y()}return()=>u.abort()},[i.data,d,a]),i.isLoading?e.jsx(E,{}):i.isError?e.jsx("div",{children:"There was an error fetching the selector information."}):e.jsx(se.Provider,{value:{dispatch:o,seeds:c,selectorType:l,selectedObjects:m,selectorQuery:i},children:e.jsx(Ee,{...d,children:e.jsxs("form",{onSubmit:d.handleSubmit(N),className:"flex max-xl:flex-wrap gap-6 mb-6 mt-6 max-w-[120rem] justify-between pointer-events-auto",children:[e.jsx(Os,{control:d.control}),e.jsx(Ps,{control:d.control})]})})})},Zs=()=>{const t=ee(),{tagId:s,zoneId:a,labelId:n,tagType:r,tagTypeDisplay:x,isZonePage:l,isLabelPage:c}=q(),{tagId:m}=ze(),o=le(),i=Ss(),d=l&&a!=="",T=c&&n,g=y=>{t(`/${z}/${r}/${y}/${te}`,{replace:!0}),t(`/${z}/${r}/${y}/${Oe}/${te}`)},v=()=>t(`/${z}/${r}/${s}/${V}`),S=()=>t(`/${z}/${r}/${r==="zones"?m:o}/${V}`),N=i&&d&&a!==(m==null?void 0:m.toString()),u=()=>!(a===""&&!n||n===(o==null?void 0:o.toString())||a===(m==null?void 0:m.toString())),f=c&&!n?"Create new Label":l&&a===""?"Create new Zone":T?"Edit Label Details":d?"Edit Zone Details":"Tag Details",C=s===(m==null?void 0:m.toString())||s===(o==null?void 0:o.toString());return{privilegeZoneAnalysisEnabled:i,disableNameInput:C,formTitle:f,tagType:r,tagTypeDisplay:x,isLabelPage:c,isZonePage:l,isUpdateZoneLocation:d,showAnalysisToggle:N,showDeleteButton:u,handleCreateNavigate:g,handleUpdateNavigate:v,handleDeleteNavigate:S}},_e=250,Vs=()=>{var xe,me,je;const[t,s]=j.useState(!1),a=ee(),{addNotification:n}=re(),{tagId:r}=q(),{privilegeZoneAnalysisEnabled:x,disableNameInput:l,isLabelPage:c,isUpdateZoneLocation:m,showAnalysisToggle:o,showDeleteButton:i,formTitle:d,tagType:T,tagTypeDisplay:g,handleCreateNavigate:v,handleUpdateNavigate:S,handleDeleteNavigate:N}=Zs(),u=T.slice(0,-1),L=us(),f=hs(r),{ZoneList:C,SalesMessage:y}=j.useContext(ps),h=m&&y,$=m&&C,Z=De({defaultValues:{name:"",description:"",analysis_enabled:!1,position:-1}}),{isDirty:B,dirtyFields:w}=Z.formState,{control:b,getValues:ie,handleSubmit:Ie,reset:oe,setValue:Pe}=Z,ce=xs(),de=ms(r),ue=js(),he=j.useCallback(async p=>{try{const D={name:p.name,description:p.description,position:null,type:c?gs:fe},R=await ce.mutateAsync({values:D});n(`${g} was created successfully!`,void 0,{anchorOrigin:{vertical:"top",horizontal:"right"}}),v(R.id)}catch(D){M(D,"creating",u,n)}},[ce,n,v,u,g,c]),pe=j.useCallback(async p=>{try{if(!B){n("No changes detected",`privilege-zones_update-tag_no-changes-warn_${r}`,{anchorOrigin:{vertical:"top",horizontal:"right"}});return}const D=Object.keys(p).reduce((R,ge)=>(R[ge]=ie(ge),R),{});(!x||c)&&delete D.analysis_enabled,await de.mutateAsync({updatedValues:D,tagId:r}),n(`${g} was updated successfully!`,`privilege-zones_update-${u}_success_${r}`,{anchorOrigin:{vertical:"top",horizontal:"right"}}),S()}catch(D){M(D,"updating",u,n)}},[r,S,n,de,u,g,B,x,c,ie]),ke=j.useCallback(async()=>{try{await ue.mutateAsync(r),n(`${g} was deleted successfully!`,`privilege-zones_delete-${u}_success_${r}`,{anchorOrigin:{vertical:"top",horizontal:"right"}}),s(!1),N()}catch(p){M(p,"deleting",u,n)}},[r,ue,n,N,u,g]),Le=j.useCallback(p=>{r===""?he(p):pe(w)},[r,he,pe,w]),Me=j.useCallback(()=>s(!1),[]);return j.useEffect(()=>{f.data&&oe({name:f.data.name,description:f.data.description,position:f.data.position,analysis_enabled:f.data.analysis_enabled||!1})},[f.data,oe]),f.isLoading?e.jsxs("form",{className:"flex gap-x-6 mt-6",children:[e.jsxs("div",{className:"flex flex-col justify-between min-w-96 w-[672px]",children:[e.jsxs(G,{className:"p-3 mb-4",children:[e.jsx(U,{children:e.jsx(be,{children:d})}),e.jsx(E,{className:""}),e.jsxs(Q,{children:[e.jsx("div",{className:"flex justify-between",children:e.jsx("span",{children:`${g} Information`})}),e.jsxs("div",{className:"flex flex-col gap-6 mt-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(K,{children:"Name"}),e.jsx(E,{className:"h-10 w-full"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(K,{children:"Description"}),e.jsx(E,{className:"h-16 w-full"})]}),o&&e.jsxs("div",{className:"grid gap-2",children:[e.jsx(K,{children:"Enable Analysis"}),e.jsx(E,{className:"h-3 w-6"})]})]})]})]}),h&&e.jsx(y,{}),e.jsxs("div",{className:"flex justify-end gap-6 mt-4 min-w-96 max-w-[672px]",children:[i()&&e.jsx(_,{"data-testid":"privilege-zones_save_tag-form_delete-button",variant:"text",onClick:()=>{s(!0)},children:e.jsxs("span",{children:[e.jsx(Y,{icon:J,className:"mr-2"}),`Delete ${g}`]})}),e.jsx(_,{"data-testid":"privilege-zones_save_tag-form_cancel-button",variant:"secondary",onClick:()=>{a(-1)},children:"Cancel"}),e.jsx(_,{"data-testid":"privilege-zones_save_tag-form_save-button",variant:"primary",children:r===""?"Define Selector":"Save Edits"})]})]}),e.jsx(E,{className:"w-[28rem] p-3"})]}):f.isError?e.jsx("div",{children:"There was an error fetching the tag information."}):e.jsxs(Ee,{...Z,children:[e.jsxs("form",{className:"flex gap-x-6 mt-6",children:[e.jsxs("div",{className:"flex flex-col justify-between min-w-96 w-[672px]",children:[e.jsxs(G,{className:"p-3 mb-4",children:[e.jsx(U,{children:e.jsx(be,{children:d})}),e.jsxs(Q,{children:[e.jsx("div",{className:"flex justify-between",children:e.jsx("span",{children:`${g} Information`})}),e.jsxs("div",{className:"flex flex-col gap-6 mt-6",children:[e.jsx(O,{control:b,name:"name",rules:{required:`Please provide a name for the ${g}`,maxLength:{value:_e,message:`Name cannot exceed ${_e} characters. Please provide a shorter name`}},render:({field:p})=>e.jsxs(A,{children:[e.jsx(P,{"aria-labelledby":"name",children:"Name"}),e.jsx(I,{children:e.jsx(X,{...p,type:"text",autoComplete:"off",disabled:l,"data-testid":"privilege-zones_save_tag-form_name-input"})}),e.jsx(k,{})]})}),e.jsx(O,{control:b,name:"description",render:({field:p})=>e.jsxs(A,{children:[e.jsx(P,{children:"Description"}),e.jsx(I,{children:e.jsx(Te,{onChange:p.onChange,value:p.value,"data-testid":"privilege-zones_save_tag-form_description-input",placeholder:"Description Input",rows:3})}),e.jsx(k,{})]})}),o&&e.jsx(O,{control:b,name:"analysis_enabled",render:({field:p})=>e.jsxs(A,{children:[e.jsx(P,{children:"Enable Analysis"}),e.jsx(I,{children:e.jsx($e,{...p,value:"","data-testid":"privilege-zones_save_tag-form_enable-analysis-toggle",checked:p.value||!1,onCheckedChange:p.onChange})}),e.jsx(k,{})]})}),e.jsx("div",{className:"hidden",children:e.jsx(O,{control:b,name:"position",render:({field:p})=>e.jsxs(A,{children:[e.jsx(P,{children:"Position"}),e.jsx(I,{children:e.jsx(X,{"data-testid":"privilege-zones_save_tag-form_position-input",type:"number",...p,value:p.value||-1})}),e.jsx(k,{})]})})})]})]})]}),h&&e.jsx(y,{}),e.jsxs("div",{className:"flex justify-end gap-6 mt-4 min-w-96 max-w-[672px]",children:[i()&&e.jsx(_,{"data-testid":"privilege-zones_save_tag-form_delete-button",variant:"text",onClick:()=>{s(!0)},children:e.jsxs("span",{children:[e.jsx(Y,{icon:J,className:"mr-2"}),`Delete ${g}`]})}),e.jsx(_,{"data-testid":"privilege-zones_save_tag-form_cancel-button",variant:"secondary",onClick:()=>{a(-1)},children:"Cancel"}),e.jsx(_,{"data-testid":"privilege-zones_save_tag-form_save-button",variant:"primary",onClick:Ie(Le),children:r===""?"Define Selector":"Save Edits"})]})]}),$&&e.jsx(C,{zones:((xe=L.data)==null?void 0:xe.filter(p=>p.type===fe))||[],setPosition:p=>{Pe("position",p,{shouldDirty:!0})},name:((me=f.data)==null?void 0:me.name)||"New Zone"})]}),e.jsx(Ae,{isLoading:f.isLoading,itemName:((je=f.data)==null?void 0:je.name)||u,itemType:u,onCancel:Me,onConfirm:ke,open:t})]})},Ks=()=>{const t=location.pathname.includes(Oe),{tagType:s,tagTypeDisplay:a,tagTypeDisplayPlural:n,tagId:r}=q(),{tagId:x}=ze(),l=le();return e.jsxs("div",{children:[e.jsx(fs,{className:"my-6",children:e.jsxs(bs,{children:[e.jsx(W,{children:e.jsx(ve,{asChild:!0,children:e.jsx(ye,{"data-testid":"privilege-zones_save_details-breadcrumb",to:`/${z}/${s}/${s===vs?x:l}/${V}`,children:n})})}),e.jsx(we,{}),t?e.jsxs(e.Fragment,{children:[e.jsx(W,{children:e.jsx(ve,{asChild:!0,children:e.jsx(ye,{"data-testid":"privilege-zones_save_tag-breadcrumb",to:`/${z}/${s}/${r}/${te}`,children:`${a} Details`})})}),e.jsx(we,{}),e.jsx(W,{children:e.jsx(Ne,{children:"Selector"})})]}):e.jsx(e.Fragment,{children:e.jsx(W,{children:e.jsx(Ne,{children:`${a} Details`})})})]})}),t?e.jsx(qs,{}):e.jsx(Vs,{})]})};export{Ks as default};
