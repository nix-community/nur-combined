import{bZ as c,r as d,dt as u,ai as E,aJ as A}from"./index-DV5vAjQm.js";const b={"active-directory":"active-directory",azure:"azure",all:"all"},y=n=>n&&n in b?n:null,P=()=>{const[n,e]=c();return{environmentId:n.get("environmentId"),environmentAggregation:y(n.get("environmentAggregation")),setEnvironmentParams:d.useCallback((t,r)=>u(e,["environmentId","environmentAggregation"],r)(t),[e])}},o={all:["available-environments"],getKey:n=>n!=null&&n.length?[...o.all,...n]:o.all};function h(n){const{queryKey:e,...t}=n??{};return E({queryKey:o.getKey(e),queryFn:({signal:r})=>A.getAvailableEnvironments({signal:r}).then(i=>i.data.data),...t})}const f=(n,e)=>{const{environmentId:t,environmentAggregation:r,setEnvironmentParams:i}=P(),s=n??t,g=h({select:a=>a.find(l=>l.id===s),refetchOnWindowFocus:!1,enabled:!!s,...e}),v=a=>{i({environmentId:a,environmentAggregation:null})},m=a=>{i({environmentAggregation:a})};return{...g,environment:g.data,environmentAggregation:r,setEnvironment:v,setEnvironmentAggregation:m}};export{o as a,f as b,P as c,b as e,y as p,h as u};
