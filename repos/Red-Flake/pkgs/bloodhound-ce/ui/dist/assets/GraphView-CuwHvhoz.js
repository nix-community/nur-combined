var TE=Object.defineProperty;var cd=r=>{throw TypeError(r)};var CE=(r,t,e)=>t in r?TE(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var Q=(r,t,e)=>CE(r,typeof t!="symbol"?t+"":t,e),au=(r,t,e)=>t.has(r)||cd("Cannot "+e);var W=(r,t,e)=>(au(r,t,"read from private field"),e?e.call(r):t.get(r)),ze=(r,t,e)=>t.has(r)?cd("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),Qt=(r,t,e,n)=>(au(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),Lr=(r,t,e)=>(au(r,t,"access private method"),e);var Qi=(r,t,e,n)=>({set _(o){Qt(r,t,o,e)},get _(){return W(r,t,n)}});import{c1 as Ju,c2 as ec,r as V,c3 as tc,c4 as Oa,c5 as Ve,c6 as _n,aa as $,c7 as An,c8 as Uf,c9 as rc,ca as Bf,cb as RE,cc as Wf,cd as zf,ce as Ti,cf as Sa,cg as su,ch as PE,ci as IE,cj as OE,ck as jf,c as H,g as Vn,cl as Hf,R as uu,cm as Iu,cn as oo,co as ha,cp as DE,cq as NE,bI as Qr,cr as cu,cs as qf,ct as GE,cu as FE,aj as nc,cv as Ci,cw as Yf,cx as Vf,aJ as Ou,ai as ME,cy as Lt,cz as kE,cA as $E,cB as UE,cC as BE,ab as Ta,ac as ic,cD as WE,cE as zE,cF as jE,bz as Da,cG as HE,cH as qE,cI as Zf,cJ as Ea,cK as Kf,cL as Jr,cM as YE,cN as VE,cO as ZE,cP as KE,cQ as XE,bm as QE,aI as JE,cR as ex,al as ld,bg as tx,am as hd,bA as rx,cS as nx,cT as ix,bG as Xf,aS as dd,cU as ox,cV as ax,cW as sx,cX as ux,cY as cx,cZ as lx,c_ as hx,bF as dx,c$ as fx,d0 as oc,d1 as Qf,d2 as px,d3 as gx,d4 as fd,d5 as vx,d6 as mx,d7 as yx,d8 as bx,d9 as pd,da as gd,db as _x,dc as wx,dd as Ex,de as lu,df as xx,dg as Ax,dh as Lx,di as Sx}from"./index-DV5vAjQm.js";import{u as Tx,a as Cx,b as Rx,c as Px,d as Ix,N as Ox,P as Dx,C as Nx,E as vd,W as Gx,e as Fx,f as Mx,i as kx,G as $x,g as Ux,h as Bx}from"./PathfindingSearch-BrYhzNgH.js";import{F as Wx}from"./FeatureFlag-CkWkBsnO.js";import{K as zx,a as jx}from"./KeyboardArrowRight-_w151gzY.js";import{W as hu,a as Hx}from"./EntityInfoDataTable-A7rM9L2l.js";import"./useSearch-BB_-T_X7.js";import"./capitalize-CoGxfxlT.js";import"./ExploreSearchCombobox-BJbkwezM.js";import"./CypherEditor-B5mKnHUQ.js";let pi;function Jf(){if(pi)return pi;const r=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",r.appendChild(t),r.dir="rtl",r.style.fontSize="14px",r.style.width="4px",r.style.height="1px",r.style.position="absolute",r.style.top="-1000px",r.style.overflow="scroll",document.body.appendChild(r),pi="reverse",r.scrollLeft>0?pi="default":(r.scrollLeft=1,r.scrollLeft===0&&(pi="negative")),document.body.removeChild(r),pi}function qx(r,t){const e=r.scrollLeft;if(t!=="rtl")return e;switch(Jf()){case"negative":return r.scrollWidth-r.clientWidth+e;case"reverse":return r.scrollWidth-r.clientWidth-e;default:return e}}function Yx(r){return ec("MuiTab",r)}const zn=Ju("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Vx=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],Zx=r=>{const{classes:t,textColor:e,fullWidth:n,wrapped:o,icon:s,label:u,selected:l,disabled:h}=r,d={root:["root",s&&u&&"labelIcon",`textColor${Uf(e)}`,n&&"fullWidth",o&&"wrapped",l&&"selected",h&&"disabled"],iconWrapper:["iconWrapper"]};return rc(d,Yx,t)},Kx=An(Bf,{name:"MuiTab",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:e}=r;return[t.root,e.label&&e.icon&&t.labelIcon,t[`textColor${Uf(e.textColor)}`],e.fullWidth&&t.fullWidth,e.wrapped&&t.wrapped]}})(({theme:r,ownerState:t})=>Ve({},r.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${zn.iconWrapper}`]:Ve({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:r.spacing(1)},t.iconPosition==="end"&&{marginLeft:r.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${zn.selected}`]:{opacity:1},[`&.${zn.disabled}`]:{opacity:(r.vars||r).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(r.vars||r).palette.text.secondary,[`&.${zn.selected}`]:{color:(r.vars||r).palette.primary.main},[`&.${zn.disabled}`]:{color:(r.vars||r).palette.text.disabled}},t.textColor==="secondary"&&{color:(r.vars||r).palette.text.secondary,[`&.${zn.selected}`]:{color:(r.vars||r).palette.secondary.main},[`&.${zn.disabled}`]:{color:(r.vars||r).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:r.typography.pxToRem(12)})),Xx=V.forwardRef(function(t,e){const n=tc({props:t,name:"MuiTab"}),{className:o,disabled:s=!1,disableFocusRipple:u=!1,fullWidth:l,icon:h,iconPosition:d="top",indicator:g,label:v,onChange:f,onClick:y,onFocus:x,selected:w,selectionFollowsFocus:A,textColor:R="inherit",value:T,wrapped:S=!1}=n,C=Oa(n,Vx),E=Ve({},n,{disabled:s,disableFocusRipple:u,selected:w,icon:!!h,iconPosition:d,label:!!v,fullWidth:l,textColor:R,wrapped:S}),I=Zx(E),G=h&&v&&V.isValidElement(h)?V.cloneElement(h,{className:_n(I.iconWrapper,h.props.className)}):h,M=ee=>{!w&&f&&f(ee,T),y&&y(ee)},D=ee=>{A&&!w&&f&&f(ee,T),x&&x(ee)};return $.jsxs(Kx,Ve({focusRipple:!u,className:_n(I.root,o),ref:e,role:"tab","aria-selected":w,disabled:s,onClick:M,onFocus:D,ownerState:E,tabIndex:w?0:-1},C,{children:[d==="top"||d==="start"?$.jsxs(V.Fragment,{children:[G,v]}):$.jsxs(V.Fragment,{children:[v,G]}),g]}))});function Qx(r){return(1+Math.sin(Math.PI*r-Math.PI/2))/2}function Jx(r,t,e,n={},o=()=>{}){const{ease:s=Qx,duration:u=300}=n;let l=null;const h=t[r];let d=!1;const g=()=>{d=!0},v=f=>{if(d){o(new Error("Animation cancelled"));return}l===null&&(l=f);const y=Math.min(1,(f-l)/u);if(t[r]=s(y)*(e-h)+h,y>=1){requestAnimationFrame(()=>{o(null)});return}requestAnimationFrame(v)};return h===e?(o(new Error("Element already at target position")),g):(requestAnimationFrame(v),g)}const e1=["onChange"],t1={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function r1(r){const{onChange:t}=r,e=Oa(r,e1),n=V.useRef(),o=V.useRef(null),s=()=>{n.current=o.current.offsetHeight-o.current.clientHeight};return RE(()=>{const u=Wf(()=>{const h=n.current;s(),h!==n.current&&t(n.current)}),l=zf(o.current);return l.addEventListener("resize",u),()=>{u.clear(),l.removeEventListener("resize",u)}},[t]),V.useEffect(()=>{s(),t(n.current)},[t]),$.jsx("div",Ve({style:t1,ref:o},e))}function n1(r){return ec("MuiTabScrollButton",r)}const i1=Ju("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),o1=["className","slots","slotProps","direction","orientation","disabled"],a1=r=>{const{classes:t,orientation:e,disabled:n}=r;return rc({root:["root",e,n&&"disabled"]},n1,t)},s1=An(Bf,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:e}=r;return[t.root,e.orientation&&t[e.orientation]]}})(({ownerState:r})=>Ve({width:40,flexShrink:0,opacity:.8,[`&.${i1.disabled}`]:{opacity:0}},r.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${r.isRtl?-90:90}deg)`}})),u1=V.forwardRef(function(t,e){var n,o;const s=tc({props:t,name:"MuiTabScrollButton"}),{className:u,slots:l={},slotProps:h={},direction:d}=s,g=Oa(s,o1),f=Ti().direction==="rtl",y=Ve({isRtl:f},s),x=a1(y),w=(n=l.StartScrollButtonIcon)!=null?n:zx,A=(o=l.EndScrollButtonIcon)!=null?o:jx,R=Sa({elementType:w,externalSlotProps:h.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y}),T=Sa({elementType:A,externalSlotProps:h.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y});return $.jsx(s1,Ve({component:"div",className:_n(x.root,u),ref:e,role:null,ownerState:y,tabIndex:null},g,{children:d==="left"?$.jsx(w,Ve({},R)):$.jsx(A,Ve({},T))}))});function c1(r){return ec("MuiTabs",r)}const du=Ju("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),l1=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],md=(r,t)=>r===t?r.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r.firstChild,yd=(r,t)=>r===t?r.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r.lastChild,da=(r,t,e)=>{let n=!1,o=e(r,t);for(;o;){if(o===r.firstChild){if(n)return;n=!0}const s=o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||s)o=e(r,o);else{o.focus();return}}},h1=r=>{const{vertical:t,fixed:e,hideScrollbar:n,scrollableX:o,scrollableY:s,centered:u,scrollButtonsHideMobile:l,classes:h}=r;return rc({root:["root",t&&"vertical"],scroller:["scroller",e&&"fixed",n&&"hideScrollbar",o&&"scrollableX",s&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",u&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",l&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},c1,h)},d1=An("div",{name:"MuiTabs",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:e}=r;return[{[`& .${du.scrollButtons}`]:t.scrollButtons},{[`& .${du.scrollButtons}`]:e.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,e.vertical&&t.vertical]}})(({ownerState:r,theme:t})=>Ve({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},r.vertical&&{flexDirection:"column"},r.scrollButtonsHideMobile&&{[`& .${du.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),f1=An("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(r,t)=>{const{ownerState:e}=r;return[t.scroller,e.fixed&&t.fixed,e.hideScrollbar&&t.hideScrollbar,e.scrollableX&&t.scrollableX,e.scrollableY&&t.scrollableY]}})(({ownerState:r})=>Ve({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},r.fixed&&{overflowX:"hidden",width:"100%"},r.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},r.scrollableX&&{overflowX:"auto",overflowY:"hidden"},r.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),p1=An("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(r,t)=>{const{ownerState:e}=r;return[t.flexContainer,e.vertical&&t.flexContainerVertical,e.centered&&t.centered]}})(({ownerState:r})=>Ve({display:"flex"},r.vertical&&{flexDirection:"column"},r.centered&&{justifyContent:"center"})),g1=An("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(r,t)=>t.indicator})(({ownerState:r,theme:t})=>Ve({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},r.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},r.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},r.vertical&&{height:"100%",width:2,right:0})),v1=An(r1,{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),bd={},m1=V.forwardRef(function(t,e){const n=tc({props:t,name:"MuiTabs"}),o=Ti(),s=o.direction==="rtl",{"aria-label":u,"aria-labelledby":l,action:h,centered:d=!1,children:g,className:v,component:f="div",allowScrollButtonsMobile:y=!1,indicatorColor:x="primary",onChange:w,orientation:A="horizontal",ScrollButtonComponent:R=u1,scrollButtons:T="auto",selectionFollowsFocus:S,slots:C={},slotProps:E={},TabIndicatorProps:I={},TabScrollButtonProps:G={},textColor:M="primary",value:D,variant:ee="standard",visibleScrollbar:se=!1}=n,fe=Oa(n,l1),he=ee==="scrollable",te=A==="vertical",me=te?"scrollTop":"scrollLeft",Me=te?"top":"left",ke=te?"bottom":"right",He=te?"clientHeight":"clientWidth",Ze=te?"height":"width",J=Ve({},n,{component:f,allowScrollButtonsMobile:y,indicatorColor:x,orientation:A,vertical:te,scrollButtons:T,textColor:M,variant:ee,visibleScrollbar:se,fixed:!he,hideScrollbar:he&&!se,scrollableX:he&&!te,scrollableY:he&&te,centered:d&&!he,scrollButtonsHideMobile:!y}),ge=h1(J),Xe=Sa({elementType:C.StartScrollButtonIcon,externalSlotProps:E.startScrollButtonIcon,ownerState:J}),br=Sa({elementType:C.EndScrollButtonIcon,externalSlotProps:E.endScrollButtonIcon,ownerState:J}),[sr,_r]=V.useState(!1),[pt,Sn]=V.useState(bd),[zt,ur]=V.useState(!1),[Kn,Xn]=V.useState(!1),[Tn,yo]=V.useState(!1),[St,Cn]=V.useState({overflow:"hidden",scrollbarWidth:0}),bo=new Map,Qe=V.useRef(null),Or=V.useRef(null),_o=()=>{const K=Qe.current;let ie;if(K){const Ee=K.getBoundingClientRect();ie={clientWidth:K.clientWidth,scrollLeft:K.scrollLeft,scrollTop:K.scrollTop,scrollLeftNormalized:qx(K,o.direction),scrollWidth:K.scrollWidth,top:Ee.top,bottom:Ee.bottom,left:Ee.left,right:Ee.right}}let be;if(K&&D!==!1){const Ee=Or.current.children;if(Ee.length>0){const nt=Ee[bo.get(D)];be=nt?nt.getBoundingClientRect():null}}return{tabsMeta:ie,tabMeta:be}},cr=su(()=>{const{tabsMeta:K,tabMeta:ie}=_o();let be=0,Ee;if(te)Ee="top",ie&&K&&(be=ie.top-K.top+K.scrollTop);else if(Ee=s?"right":"left",ie&&K){const wr=s?K.scrollLeftNormalized+K.clientWidth-K.scrollWidth:K.scrollLeft;be=(s?-1:1)*(ie[Ee]-K[Ee]+wr)}const nt={[Ee]:be,[Ze]:ie?ie[Ze]:0};if(isNaN(pt[Ee])||isNaN(pt[Ze]))Sn(nt);else{const wr=Math.abs(pt[Ee]-nt[Ee]),Dn=Math.abs(pt[Ze]-nt[Ze]);(wr>=1||Dn>=1)&&Sn(nt)}}),gt=(K,{animation:ie=!0}={})=>{ie?Jx(me,Qe.current,K,{duration:o.transitions.duration.standard}):Qe.current[me]=K},nn=K=>{let ie=Qe.current[me];te?ie+=K:(ie+=K*(s?-1:1),ie*=s&&Jf()==="reverse"?-1:1),gt(ie)},Rn=()=>{const K=Qe.current[He];let ie=0;const be=Array.from(Or.current.children);for(let Ee=0;Ee<be.length;Ee+=1){const nt=be[Ee];if(ie+nt[He]>K){Ee===0&&(ie=K);break}ie+=nt[He]}return ie},qa=()=>{nn(-1*Rn())},Pn=()=>{nn(Rn())},Ya=V.useCallback(K=>{Cn({overflow:null,scrollbarWidth:K})},[]),In=()=>{const K={};K.scrollbarSizeListener=he?$.jsx(v1,{onChange:Ya,className:_n(ge.scrollableX,ge.hideScrollbar)}):null;const be=he&&(T==="auto"&&(zt||Kn)||T===!0);return K.scrollButtonStart=be?$.jsx(R,Ve({slots:{StartScrollButtonIcon:C.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Xe},orientation:A,direction:s?"right":"left",onClick:qa,disabled:!zt},G,{className:_n(ge.scrollButtons,G.className)})):null,K.scrollButtonEnd=be?$.jsx(R,Ve({slots:{EndScrollButtonIcon:C.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:br},orientation:A,direction:s?"left":"right",onClick:Pn,disabled:!Kn},G,{className:_n(ge.scrollButtons,G.className)})):null,K},Dr=su(K=>{const{tabsMeta:ie,tabMeta:be}=_o();if(!(!be||!ie)){if(be[Me]<ie[Me]){const Ee=ie[me]+(be[Me]-ie[Me]);gt(Ee,{animation:K})}else if(be[ke]>ie[ke]){const Ee=ie[me]+(be[ke]-ie[ke]);gt(Ee,{animation:K})}}}),Qn=su(()=>{he&&T!==!1&&yo(!Tn)});V.useEffect(()=>{const K=Wf(()=>{Qe.current&&cr()}),ie=zf(Qe.current);ie.addEventListener("resize",K);let be;return typeof ResizeObserver<"u"&&(be=new ResizeObserver(K),Array.from(Or.current.children).forEach(Ee=>{be.observe(Ee)})),()=>{K.clear(),ie.removeEventListener("resize",K),be&&be.disconnect()}},[cr]),V.useEffect(()=>{const K=Array.from(Or.current.children),ie=K.length;if(typeof IntersectionObserver<"u"&&ie>0&&he&&T!==!1){const be=K[0],Ee=K[ie-1],nt={root:Qe.current,threshold:.99},wr=Fi=>{ur(!Fi[0].isIntersecting)},Dn=new IntersectionObserver(wr,nt);Dn.observe(be);const wo=Fi=>{Xn(!Fi[0].isIntersecting)},Eo=new IntersectionObserver(wo,nt);return Eo.observe(Ee),()=>{Dn.disconnect(),Eo.disconnect()}}},[he,T,Tn,g==null?void 0:g.length]),V.useEffect(()=>{_r(!0)},[]),V.useEffect(()=>{cr()}),V.useEffect(()=>{Dr(bd!==pt)},[Dr,pt]),V.useImperativeHandle(h,()=>({updateIndicator:cr,updateScrollButtons:Qn}),[cr,Qn]);const Jn=$.jsx(g1,Ve({},I,{className:_n(ge.indicator,I.className),ownerState:J,style:Ve({},pt,I.style)}));let on=0;const Ni=V.Children.map(g,K=>{if(!V.isValidElement(K))return null;const ie=K.props.value===void 0?on:K.props.value;bo.set(ie,on);const be=ie===D;return on+=1,V.cloneElement(K,Ve({fullWidth:ee==="fullWidth",indicator:be&&!sr&&Jn,selected:be,selectionFollowsFocus:S,onChange:w,textColor:M,value:ie},on===1&&D===!1&&!K.props.tabIndex?{tabIndex:0}:{}))}),Gi=K=>{const ie=Or.current,be=PE(ie).activeElement;if(be.getAttribute("role")!=="tab")return;let nt=A==="horizontal"?"ArrowLeft":"ArrowUp",wr=A==="horizontal"?"ArrowRight":"ArrowDown";switch(A==="horizontal"&&s&&(nt="ArrowRight",wr="ArrowLeft"),K.key){case nt:K.preventDefault(),da(ie,be,yd);break;case wr:K.preventDefault(),da(ie,be,md);break;case"Home":K.preventDefault(),da(ie,null,md);break;case"End":K.preventDefault(),da(ie,null,yd);break}},On=In();return $.jsxs(d1,Ve({className:_n(ge.root,v),ownerState:J,ref:e,as:f},fe,{children:[On.scrollButtonStart,On.scrollbarSizeListener,$.jsxs(f1,{className:ge.scroller,ownerState:J,style:{overflow:St.overflow,[te?`margin${s?"Left":"Right"}`:"marginBottom"]:se?void 0:-St.scrollbarWidth},ref:Qe,children:[$.jsx(p1,{"aria-label":u,"aria-labelledby":l,"aria-orientation":A==="vertical"?"vertical":null,className:ge.flexContainer,ownerState:J,onKeyDown:Gi,ref:Or,role:"tablist",children:Ni}),sr&&Jn]}),On.scrollButtonEnd]}))}),fu="text-secondary dark:text-secondary-variant-2 hover:underline",y1=({open:r})=>{const[t,e]=V.useState(r);return V.useEffect(()=>e(r),[r]),$.jsx(IE,{open:t,onClose:()=>e(!1),headerText:"Upload Data to Start Mapping Your Environment",description:$.jsxs("div",{className:"font-normal",id:OE.DefaultNoDataDialog,children:[$.jsx("p",{className:"pb-3",children:"Easily upload data by dragging and dropping files anywhere in the interface, or use the upload button in the main navigation."}),$.jsxs("p",{className:"pb-3",children:["If you're just exploring, you can use the"," ",$.jsx("a",{className:fu,href:"https://bloodhound.specterops.io/get-started/quickstart/ce-ingest-sample-data",target:"_blank",rel:"noreferrer noopener",children:"sample dataset"})," ","to get a quick sense of how the platform works."]}),$.jsxs("p",{className:"pb-3",children:["To get started with collecting data,"," ",$.jsx(jf,{className:fu,to:"/download-collectors",children:"download a collector"}),"."]}),$.jsxs("p",{className:"pb-3",children:["If you're having any difficulty, we have a"," ",$.jsx("a",{className:fu,href:"https://bloodhound.specterops.io/collect-data/ce-collection/overview",target:"_blank",rel:"noreferrer noopener",children:"Getting Started Guide"})]})]})})};var Ca={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ca.exports;(function(r,t){(function(){var e,n="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",d=500,g="__lodash_placeholder__",v=1,f=2,y=4,x=1,w=2,A=1,R=2,T=4,S=8,C=16,E=32,I=64,G=128,M=256,D=512,ee=30,se="...",fe=800,he=16,te=1,me=2,Me=3,ke=1/0,He=9007199254740991,Ze=17976931348623157e292,J=NaN,ge=4294967295,Xe=ge-1,br=ge>>>1,sr=[["ary",G],["bind",A],["bindKey",R],["curry",S],["curryRight",C],["flip",D],["partial",E],["partialRight",I],["rearg",M]],_r="[object Arguments]",pt="[object Array]",Sn="[object AsyncFunction]",zt="[object Boolean]",ur="[object Date]",Kn="[object DOMException]",Xn="[object Error]",Tn="[object Function]",yo="[object GeneratorFunction]",St="[object Map]",Cn="[object Number]",bo="[object Null]",Qe="[object Object]",Or="[object Promise]",_o="[object Proxy]",cr="[object RegExp]",gt="[object Set]",nn="[object String]",Rn="[object Symbol]",qa="[object Undefined]",Pn="[object WeakMap]",Ya="[object WeakSet]",In="[object ArrayBuffer]",Dr="[object DataView]",Qn="[object Float32Array]",Jn="[object Float64Array]",on="[object Int8Array]",Ni="[object Int16Array]",Gi="[object Int32Array]",On="[object Uint8Array]",K="[object Uint8ClampedArray]",ie="[object Uint16Array]",be="[object Uint32Array]",Ee=/\b__p \+= '';/g,nt=/\b(__p \+=) '' \+/g,wr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Dn=/&(?:amp|lt|gt|quot|#39);/g,wo=/[&<>"']/g,Eo=RegExp(Dn.source),Fi=RegExp(wo.source),Jg=/<%-([\s\S]+?)%>/g,ev=/<%([\s\S]+?)%>/g,Fc=/<%=([\s\S]+?)%>/g,tv=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rv=/^\w*$/,nv=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Va=/[\\^$.*+?()[\]{}|]/g,iv=RegExp(Va.source),Za=/^\s+/,ov=/\s/,av=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,sv=/\{\n\/\* \[wrapped with (.+)\] \*/,uv=/,? & /,cv=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lv=/[()=,{}\[\]\/\s]/,hv=/\\(\\)?/g,dv=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Mc=/\w*$/,fv=/^[-+]0x[0-9a-f]+$/i,pv=/^0b[01]+$/i,gv=/^\[object .+?Constructor\]$/,vv=/^0o[0-7]+$/i,mv=/^(?:0|[1-9]\d*)$/,yv=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xo=/($^)/,bv=/['\n\r\u2028\u2029\\]/g,Ao="\\ud800-\\udfff",_v="\\u0300-\\u036f",wv="\\ufe20-\\ufe2f",Ev="\\u20d0-\\u20ff",kc=_v+wv+Ev,$c="\\u2700-\\u27bf",Uc="a-z\\xdf-\\xf6\\xf8-\\xff",xv="\\xac\\xb1\\xd7\\xf7",Av="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Lv="\\u2000-\\u206f",Sv=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Bc="A-Z\\xc0-\\xd6\\xd8-\\xde",Wc="\\ufe0e\\ufe0f",zc=xv+Av+Lv+Sv,Ka="['’]",Tv="["+Ao+"]",jc="["+zc+"]",Lo="["+kc+"]",Hc="\\d+",Cv="["+$c+"]",qc="["+Uc+"]",Yc="[^"+Ao+zc+Hc+$c+Uc+Bc+"]",Xa="\\ud83c[\\udffb-\\udfff]",Rv="(?:"+Lo+"|"+Xa+")",Vc="[^"+Ao+"]",Qa="(?:\\ud83c[\\udde6-\\uddff]){2}",Ja="[\\ud800-\\udbff][\\udc00-\\udfff]",ei="["+Bc+"]",Zc="\\u200d",Kc="(?:"+qc+"|"+Yc+")",Pv="(?:"+ei+"|"+Yc+")",Xc="(?:"+Ka+"(?:d|ll|m|re|s|t|ve))?",Qc="(?:"+Ka+"(?:D|LL|M|RE|S|T|VE))?",Jc=Rv+"?",el="["+Wc+"]?",Iv="(?:"+Zc+"(?:"+[Vc,Qa,Ja].join("|")+")"+el+Jc+")*",Ov="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Dv="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",tl=el+Jc+Iv,Nv="(?:"+[Cv,Qa,Ja].join("|")+")"+tl,Gv="(?:"+[Vc+Lo+"?",Lo,Qa,Ja,Tv].join("|")+")",Fv=RegExp(Ka,"g"),Mv=RegExp(Lo,"g"),es=RegExp(Xa+"(?="+Xa+")|"+Gv+tl,"g"),kv=RegExp([ei+"?"+qc+"+"+Xc+"(?="+[jc,ei,"$"].join("|")+")",Pv+"+"+Qc+"(?="+[jc,ei+Kc,"$"].join("|")+")",ei+"?"+Kc+"+"+Xc,ei+"+"+Qc,Dv,Ov,Hc,Nv].join("|"),"g"),$v=RegExp("["+Zc+Ao+kc+Wc+"]"),Uv=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bv=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Wv=-1,Ne={};Ne[Qn]=Ne[Jn]=Ne[on]=Ne[Ni]=Ne[Gi]=Ne[On]=Ne[K]=Ne[ie]=Ne[be]=!0,Ne[_r]=Ne[pt]=Ne[In]=Ne[zt]=Ne[Dr]=Ne[ur]=Ne[Xn]=Ne[Tn]=Ne[St]=Ne[Cn]=Ne[Qe]=Ne[cr]=Ne[gt]=Ne[nn]=Ne[Pn]=!1;var Oe={};Oe[_r]=Oe[pt]=Oe[In]=Oe[Dr]=Oe[zt]=Oe[ur]=Oe[Qn]=Oe[Jn]=Oe[on]=Oe[Ni]=Oe[Gi]=Oe[St]=Oe[Cn]=Oe[Qe]=Oe[cr]=Oe[gt]=Oe[nn]=Oe[Rn]=Oe[On]=Oe[K]=Oe[ie]=Oe[be]=!0,Oe[Xn]=Oe[Tn]=Oe[Pn]=!1;var zv={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},jv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Hv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},qv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yv=parseFloat,Vv=parseInt,rl=typeof H=="object"&&H&&H.Object===Object&&H,Zv=typeof self=="object"&&self&&self.Object===Object&&self,at=rl||Zv||Function("return this")(),ts=t&&!t.nodeType&&t,Nn=ts&&!0&&r&&!r.nodeType&&r,nl=Nn&&Nn.exports===ts,rs=nl&&rl.process,jt=function(){try{var O=Nn&&Nn.require&&Nn.require("util").types;return O||rs&&rs.binding&&rs.binding("util")}catch{}}(),il=jt&&jt.isArrayBuffer,ol=jt&&jt.isDate,al=jt&&jt.isMap,sl=jt&&jt.isRegExp,ul=jt&&jt.isSet,cl=jt&&jt.isTypedArray;function Ft(O,k,F){switch(F.length){case 0:return O.call(k);case 1:return O.call(k,F[0]);case 2:return O.call(k,F[0],F[1]);case 3:return O.call(k,F[0],F[1],F[2])}return O.apply(k,F)}function Kv(O,k,F,Z){for(var ce=-1,Ae=O==null?0:O.length;++ce<Ae;){var Je=O[ce];k(Z,Je,F(Je),O)}return Z}function Ht(O,k){for(var F=-1,Z=O==null?0:O.length;++F<Z&&k(O[F],F,O)!==!1;);return O}function Xv(O,k){for(var F=O==null?0:O.length;F--&&k(O[F],F,O)!==!1;);return O}function ll(O,k){for(var F=-1,Z=O==null?0:O.length;++F<Z;)if(!k(O[F],F,O))return!1;return!0}function an(O,k){for(var F=-1,Z=O==null?0:O.length,ce=0,Ae=[];++F<Z;){var Je=O[F];k(Je,F,O)&&(Ae[ce++]=Je)}return Ae}function So(O,k){var F=O==null?0:O.length;return!!F&&ti(O,k,0)>-1}function ns(O,k,F){for(var Z=-1,ce=O==null?0:O.length;++Z<ce;)if(F(k,O[Z]))return!0;return!1}function Fe(O,k){for(var F=-1,Z=O==null?0:O.length,ce=Array(Z);++F<Z;)ce[F]=k(O[F],F,O);return ce}function sn(O,k){for(var F=-1,Z=k.length,ce=O.length;++F<Z;)O[ce+F]=k[F];return O}function is(O,k,F,Z){var ce=-1,Ae=O==null?0:O.length;for(Z&&Ae&&(F=O[++ce]);++ce<Ae;)F=k(F,O[ce],ce,O);return F}function Qv(O,k,F,Z){var ce=O==null?0:O.length;for(Z&&ce&&(F=O[--ce]);ce--;)F=k(F,O[ce],ce,O);return F}function os(O,k){for(var F=-1,Z=O==null?0:O.length;++F<Z;)if(k(O[F],F,O))return!0;return!1}var Jv=as("length");function em(O){return O.split("")}function tm(O){return O.match(cv)||[]}function hl(O,k,F){var Z;return F(O,function(ce,Ae,Je){if(k(ce,Ae,Je))return Z=Ae,!1}),Z}function To(O,k,F,Z){for(var ce=O.length,Ae=F+(Z?1:-1);Z?Ae--:++Ae<ce;)if(k(O[Ae],Ae,O))return Ae;return-1}function ti(O,k,F){return k===k?fm(O,k,F):To(O,dl,F)}function rm(O,k,F,Z){for(var ce=F-1,Ae=O.length;++ce<Ae;)if(Z(O[ce],k))return ce;return-1}function dl(O){return O!==O}function fl(O,k){var F=O==null?0:O.length;return F?us(O,k)/F:J}function as(O){return function(k){return k==null?e:k[O]}}function ss(O){return function(k){return O==null?e:O[k]}}function pl(O,k,F,Z,ce){return ce(O,function(Ae,Je,Ie){F=Z?(Z=!1,Ae):k(F,Ae,Je,Ie)}),F}function nm(O,k){var F=O.length;for(O.sort(k);F--;)O[F]=O[F].value;return O}function us(O,k){for(var F,Z=-1,ce=O.length;++Z<ce;){var Ae=k(O[Z]);Ae!==e&&(F=F===e?Ae:F+Ae)}return F}function cs(O,k){for(var F=-1,Z=Array(O);++F<O;)Z[F]=k(F);return Z}function im(O,k){return Fe(k,function(F){return[F,O[F]]})}function gl(O){return O&&O.slice(0,bl(O)+1).replace(Za,"")}function Mt(O){return function(k){return O(k)}}function ls(O,k){return Fe(k,function(F){return O[F]})}function Mi(O,k){return O.has(k)}function vl(O,k){for(var F=-1,Z=O.length;++F<Z&&ti(k,O[F],0)>-1;);return F}function ml(O,k){for(var F=O.length;F--&&ti(k,O[F],0)>-1;);return F}function om(O,k){for(var F=O.length,Z=0;F--;)O[F]===k&&++Z;return Z}var am=ss(zv),sm=ss(jv);function um(O){return"\\"+qv[O]}function cm(O,k){return O==null?e:O[k]}function ri(O){return $v.test(O)}function lm(O){return Uv.test(O)}function hm(O){for(var k,F=[];!(k=O.next()).done;)F.push(k.value);return F}function hs(O){var k=-1,F=Array(O.size);return O.forEach(function(Z,ce){F[++k]=[ce,Z]}),F}function yl(O,k){return function(F){return O(k(F))}}function un(O,k){for(var F=-1,Z=O.length,ce=0,Ae=[];++F<Z;){var Je=O[F];(Je===k||Je===g)&&(O[F]=g,Ae[ce++]=F)}return Ae}function Co(O){var k=-1,F=Array(O.size);return O.forEach(function(Z){F[++k]=Z}),F}function dm(O){var k=-1,F=Array(O.size);return O.forEach(function(Z){F[++k]=[Z,Z]}),F}function fm(O,k,F){for(var Z=F-1,ce=O.length;++Z<ce;)if(O[Z]===k)return Z;return-1}function pm(O,k,F){for(var Z=F+1;Z--;)if(O[Z]===k)return Z;return Z}function ni(O){return ri(O)?vm(O):Jv(O)}function lr(O){return ri(O)?mm(O):em(O)}function bl(O){for(var k=O.length;k--&&ov.test(O.charAt(k)););return k}var gm=ss(Hv);function vm(O){for(var k=es.lastIndex=0;es.test(O);)++k;return k}function mm(O){return O.match(es)||[]}function ym(O){return O.match(kv)||[]}var bm=function O(k){k=k==null?at:ii.defaults(at.Object(),k,ii.pick(at,Bv));var F=k.Array,Z=k.Date,ce=k.Error,Ae=k.Function,Je=k.Math,Ie=k.Object,ds=k.RegExp,_m=k.String,qt=k.TypeError,Ro=F.prototype,wm=Ae.prototype,oi=Ie.prototype,Po=k["__core-js_shared__"],Io=wm.toString,Pe=oi.hasOwnProperty,Em=0,_l=function(){var i=/[^.]+$/.exec(Po&&Po.keys&&Po.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Oo=oi.toString,xm=Io.call(Ie),Am=at._,Lm=ds("^"+Io.call(Pe).replace(Va,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Do=nl?k.Buffer:e,cn=k.Symbol,No=k.Uint8Array,wl=Do?Do.allocUnsafe:e,Go=yl(Ie.getPrototypeOf,Ie),El=Ie.create,xl=oi.propertyIsEnumerable,Fo=Ro.splice,Al=cn?cn.isConcatSpreadable:e,ki=cn?cn.iterator:e,Gn=cn?cn.toStringTag:e,Mo=function(){try{var i=Un(Ie,"defineProperty");return i({},"",{}),i}catch{}}(),Sm=k.clearTimeout!==at.clearTimeout&&k.clearTimeout,Tm=Z&&Z.now!==at.Date.now&&Z.now,Cm=k.setTimeout!==at.setTimeout&&k.setTimeout,ko=Je.ceil,$o=Je.floor,fs=Ie.getOwnPropertySymbols,Rm=Do?Do.isBuffer:e,Ll=k.isFinite,Pm=Ro.join,Im=yl(Ie.keys,Ie),et=Je.max,ct=Je.min,Om=Z.now,Dm=k.parseInt,Sl=Je.random,Nm=Ro.reverse,ps=Un(k,"DataView"),$i=Un(k,"Map"),gs=Un(k,"Promise"),ai=Un(k,"Set"),Ui=Un(k,"WeakMap"),Bi=Un(Ie,"create"),Uo=Ui&&new Ui,si={},Gm=Bn(ps),Fm=Bn($i),Mm=Bn(gs),km=Bn(ai),$m=Bn(Ui),Bo=cn?cn.prototype:e,Wi=Bo?Bo.valueOf:e,Tl=Bo?Bo.toString:e;function b(i){if(We(i)&&!le(i)&&!(i instanceof _e)){if(i instanceof Yt)return i;if(Pe.call(i,"__wrapped__"))return Ch(i)}return new Yt(i)}var ui=function(){function i(){}return function(a){if(!$e(a))return{};if(El)return El(a);i.prototype=a;var c=new i;return i.prototype=e,c}}();function Wo(){}function Yt(i,a){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=e}b.templateSettings={escape:Jg,evaluate:ev,interpolate:Fc,variable:"",imports:{_:b}},b.prototype=Wo.prototype,b.prototype.constructor=b,Yt.prototype=ui(Wo.prototype),Yt.prototype.constructor=Yt;function _e(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ge,this.__views__=[]}function Um(){var i=new _e(this.__wrapped__);return i.__actions__=Tt(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Tt(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Tt(this.__views__),i}function Bm(){if(this.__filtered__){var i=new _e(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function Wm(){var i=this.__wrapped__.value(),a=this.__dir__,c=le(i),p=a<0,m=c?i.length:0,_=eb(0,m,this.__views__),L=_.start,P=_.end,N=P-L,U=p?P:L-1,B=this.__iteratees__,z=B.length,q=0,X=ct(N,this.__takeCount__);if(!c||!p&&m==N&&X==N)return Xl(i,this.__actions__);var oe=[];e:for(;N--&&q<X;){U+=a;for(var pe=-1,ae=i[U];++pe<z;){var ye=B[pe],we=ye.iteratee,Ut=ye.type,yt=we(ae);if(Ut==me)ae=yt;else if(!yt){if(Ut==te)continue e;break e}}oe[q++]=ae}return oe}_e.prototype=ui(Wo.prototype),_e.prototype.constructor=_e;function Fn(i){var a=-1,c=i==null?0:i.length;for(this.clear();++a<c;){var p=i[a];this.set(p[0],p[1])}}function zm(){this.__data__=Bi?Bi(null):{},this.size=0}function jm(i){var a=this.has(i)&&delete this.__data__[i];return this.size-=a?1:0,a}function Hm(i){var a=this.__data__;if(Bi){var c=a[i];return c===h?e:c}return Pe.call(a,i)?a[i]:e}function qm(i){var a=this.__data__;return Bi?a[i]!==e:Pe.call(a,i)}function Ym(i,a){var c=this.__data__;return this.size+=this.has(i)?0:1,c[i]=Bi&&a===e?h:a,this}Fn.prototype.clear=zm,Fn.prototype.delete=jm,Fn.prototype.get=Hm,Fn.prototype.has=qm,Fn.prototype.set=Ym;function Nr(i){var a=-1,c=i==null?0:i.length;for(this.clear();++a<c;){var p=i[a];this.set(p[0],p[1])}}function Vm(){this.__data__=[],this.size=0}function Zm(i){var a=this.__data__,c=zo(a,i);if(c<0)return!1;var p=a.length-1;return c==p?a.pop():Fo.call(a,c,1),--this.size,!0}function Km(i){var a=this.__data__,c=zo(a,i);return c<0?e:a[c][1]}function Xm(i){return zo(this.__data__,i)>-1}function Qm(i,a){var c=this.__data__,p=zo(c,i);return p<0?(++this.size,c.push([i,a])):c[p][1]=a,this}Nr.prototype.clear=Vm,Nr.prototype.delete=Zm,Nr.prototype.get=Km,Nr.prototype.has=Xm,Nr.prototype.set=Qm;function Gr(i){var a=-1,c=i==null?0:i.length;for(this.clear();++a<c;){var p=i[a];this.set(p[0],p[1])}}function Jm(){this.size=0,this.__data__={hash:new Fn,map:new($i||Nr),string:new Fn}}function ey(i){var a=ta(this,i).delete(i);return this.size-=a?1:0,a}function ty(i){return ta(this,i).get(i)}function ry(i){return ta(this,i).has(i)}function ny(i,a){var c=ta(this,i),p=c.size;return c.set(i,a),this.size+=c.size==p?0:1,this}Gr.prototype.clear=Jm,Gr.prototype.delete=ey,Gr.prototype.get=ty,Gr.prototype.has=ry,Gr.prototype.set=ny;function Mn(i){var a=-1,c=i==null?0:i.length;for(this.__data__=new Gr;++a<c;)this.add(i[a])}function iy(i){return this.__data__.set(i,h),this}function oy(i){return this.__data__.has(i)}Mn.prototype.add=Mn.prototype.push=iy,Mn.prototype.has=oy;function hr(i){var a=this.__data__=new Nr(i);this.size=a.size}function ay(){this.__data__=new Nr,this.size=0}function sy(i){var a=this.__data__,c=a.delete(i);return this.size=a.size,c}function uy(i){return this.__data__.get(i)}function cy(i){return this.__data__.has(i)}function ly(i,a){var c=this.__data__;if(c instanceof Nr){var p=c.__data__;if(!$i||p.length<o-1)return p.push([i,a]),this.size=++c.size,this;c=this.__data__=new Gr(p)}return c.set(i,a),this.size=c.size,this}hr.prototype.clear=ay,hr.prototype.delete=sy,hr.prototype.get=uy,hr.prototype.has=cy,hr.prototype.set=ly;function Cl(i,a){var c=le(i),p=!c&&Wn(i),m=!c&&!p&&pn(i),_=!c&&!p&&!m&&di(i),L=c||p||m||_,P=L?cs(i.length,_m):[],N=P.length;for(var U in i)(a||Pe.call(i,U))&&!(L&&(U=="length"||m&&(U=="offset"||U=="parent")||_&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||$r(U,N)))&&P.push(U);return P}function Rl(i){var a=i.length;return a?i[Ss(0,a-1)]:e}function hy(i,a){return ra(Tt(i),kn(a,0,i.length))}function dy(i){return ra(Tt(i))}function vs(i,a,c){(c!==e&&!dr(i[a],c)||c===e&&!(a in i))&&Fr(i,a,c)}function zi(i,a,c){var p=i[a];(!(Pe.call(i,a)&&dr(p,c))||c===e&&!(a in i))&&Fr(i,a,c)}function zo(i,a){for(var c=i.length;c--;)if(dr(i[c][0],a))return c;return-1}function fy(i,a,c,p){return ln(i,function(m,_,L){a(p,m,c(m),L)}),p}function Pl(i,a){return i&&xr(a,it(a),i)}function py(i,a){return i&&xr(a,Rt(a),i)}function Fr(i,a,c){a=="__proto__"&&Mo?Mo(i,a,{configurable:!0,enumerable:!0,value:c,writable:!0}):i[a]=c}function ms(i,a){for(var c=-1,p=a.length,m=F(p),_=i==null;++c<p;)m[c]=_?e:Xs(i,a[c]);return m}function kn(i,a,c){return i===i&&(c!==e&&(i=i<=c?i:c),a!==e&&(i=i>=a?i:a)),i}function Vt(i,a,c,p,m,_){var L,P=a&v,N=a&f,U=a&y;if(c&&(L=m?c(i,p,m,_):c(i)),L!==e)return L;if(!$e(i))return i;var B=le(i);if(B){if(L=rb(i),!P)return Tt(i,L)}else{var z=lt(i),q=z==Tn||z==yo;if(pn(i))return eh(i,P);if(z==Qe||z==_r||q&&!m){if(L=N||q?{}:bh(i),!P)return N?Hy(i,py(L,i)):jy(i,Pl(L,i))}else{if(!Oe[z])return m?i:{};L=nb(i,z,P)}}_||(_=new hr);var X=_.get(i);if(X)return X;_.set(i,L),Vh(i)?i.forEach(function(ae){L.add(Vt(ae,a,c,ae,i,_))}):qh(i)&&i.forEach(function(ae,ye){L.set(ye,Vt(ae,a,c,ye,i,_))});var oe=U?N?Ms:Fs:N?Rt:it,pe=B?e:oe(i);return Ht(pe||i,function(ae,ye){pe&&(ye=ae,ae=i[ye]),zi(L,ye,Vt(ae,a,c,ye,i,_))}),L}function gy(i){var a=it(i);return function(c){return Il(c,i,a)}}function Il(i,a,c){var p=c.length;if(i==null)return!p;for(i=Ie(i);p--;){var m=c[p],_=a[m],L=i[m];if(L===e&&!(m in i)||!_(L))return!1}return!0}function Ol(i,a,c){if(typeof i!="function")throw new qt(u);return Ki(function(){i.apply(e,c)},a)}function ji(i,a,c,p){var m=-1,_=So,L=!0,P=i.length,N=[],U=a.length;if(!P)return N;c&&(a=Fe(a,Mt(c))),p?(_=ns,L=!1):a.length>=o&&(_=Mi,L=!1,a=new Mn(a));e:for(;++m<P;){var B=i[m],z=c==null?B:c(B);if(B=p||B!==0?B:0,L&&z===z){for(var q=U;q--;)if(a[q]===z)continue e;N.push(B)}else _(a,z,p)||N.push(B)}return N}var ln=oh(Er),Dl=oh(bs,!0);function vy(i,a){var c=!0;return ln(i,function(p,m,_){return c=!!a(p,m,_),c}),c}function jo(i,a,c){for(var p=-1,m=i.length;++p<m;){var _=i[p],L=a(_);if(L!=null&&(P===e?L===L&&!$t(L):c(L,P)))var P=L,N=_}return N}function my(i,a,c,p){var m=i.length;for(c=de(c),c<0&&(c=-c>m?0:m+c),p=p===e||p>m?m:de(p),p<0&&(p+=m),p=c>p?0:Kh(p);c<p;)i[c++]=a;return i}function Nl(i,a){var c=[];return ln(i,function(p,m,_){a(p,m,_)&&c.push(p)}),c}function st(i,a,c,p,m){var _=-1,L=i.length;for(c||(c=ob),m||(m=[]);++_<L;){var P=i[_];a>0&&c(P)?a>1?st(P,a-1,c,p,m):sn(m,P):p||(m[m.length]=P)}return m}var ys=ah(),Gl=ah(!0);function Er(i,a){return i&&ys(i,a,it)}function bs(i,a){return i&&Gl(i,a,it)}function Ho(i,a){return an(a,function(c){return Ur(i[c])})}function $n(i,a){a=dn(a,i);for(var c=0,p=a.length;i!=null&&c<p;)i=i[Ar(a[c++])];return c&&c==p?i:e}function Fl(i,a,c){var p=a(i);return le(i)?p:sn(p,c(i))}function vt(i){return i==null?i===e?qa:bo:Gn&&Gn in Ie(i)?Jy(i):db(i)}function _s(i,a){return i>a}function yy(i,a){return i!=null&&Pe.call(i,a)}function by(i,a){return i!=null&&a in Ie(i)}function _y(i,a,c){return i>=ct(a,c)&&i<et(a,c)}function ws(i,a,c){for(var p=c?ns:So,m=i[0].length,_=i.length,L=_,P=F(_),N=1/0,U=[];L--;){var B=i[L];L&&a&&(B=Fe(B,Mt(a))),N=ct(B.length,N),P[L]=!c&&(a||m>=120&&B.length>=120)?new Mn(L&&B):e}B=i[0];var z=-1,q=P[0];e:for(;++z<m&&U.length<N;){var X=B[z],oe=a?a(X):X;if(X=c||X!==0?X:0,!(q?Mi(q,oe):p(U,oe,c))){for(L=_;--L;){var pe=P[L];if(!(pe?Mi(pe,oe):p(i[L],oe,c)))continue e}q&&q.push(oe),U.push(X)}}return U}function wy(i,a,c,p){return Er(i,function(m,_,L){a(p,c(m),_,L)}),p}function Hi(i,a,c){a=dn(a,i),i=xh(i,a);var p=i==null?i:i[Ar(Kt(a))];return p==null?e:Ft(p,i,c)}function Ml(i){return We(i)&&vt(i)==_r}function Ey(i){return We(i)&&vt(i)==In}function xy(i){return We(i)&&vt(i)==ur}function qi(i,a,c,p,m){return i===a?!0:i==null||a==null||!We(i)&&!We(a)?i!==i&&a!==a:Ay(i,a,c,p,qi,m)}function Ay(i,a,c,p,m,_){var L=le(i),P=le(a),N=L?pt:lt(i),U=P?pt:lt(a);N=N==_r?Qe:N,U=U==_r?Qe:U;var B=N==Qe,z=U==Qe,q=N==U;if(q&&pn(i)){if(!pn(a))return!1;L=!0,B=!1}if(q&&!B)return _||(_=new hr),L||di(i)?vh(i,a,c,p,m,_):Xy(i,a,N,c,p,m,_);if(!(c&x)){var X=B&&Pe.call(i,"__wrapped__"),oe=z&&Pe.call(a,"__wrapped__");if(X||oe){var pe=X?i.value():i,ae=oe?a.value():a;return _||(_=new hr),m(pe,ae,c,p,_)}}return q?(_||(_=new hr),Qy(i,a,c,p,m,_)):!1}function Ly(i){return We(i)&&lt(i)==St}function Es(i,a,c,p){var m=c.length,_=m,L=!p;if(i==null)return!_;for(i=Ie(i);m--;){var P=c[m];if(L&&P[2]?P[1]!==i[P[0]]:!(P[0]in i))return!1}for(;++m<_;){P=c[m];var N=P[0],U=i[N],B=P[1];if(L&&P[2]){if(U===e&&!(N in i))return!1}else{var z=new hr;if(p)var q=p(U,B,N,i,a,z);if(!(q===e?qi(B,U,x|w,p,z):q))return!1}}return!0}function kl(i){if(!$e(i)||sb(i))return!1;var a=Ur(i)?Lm:gv;return a.test(Bn(i))}function Sy(i){return We(i)&&vt(i)==cr}function Ty(i){return We(i)&&lt(i)==gt}function Cy(i){return We(i)&&ua(i.length)&&!!Ne[vt(i)]}function $l(i){return typeof i=="function"?i:i==null?Pt:typeof i=="object"?le(i)?Wl(i[0],i[1]):Bl(i):sd(i)}function xs(i){if(!Zi(i))return Im(i);var a=[];for(var c in Ie(i))Pe.call(i,c)&&c!="constructor"&&a.push(c);return a}function Ry(i){if(!$e(i))return hb(i);var a=Zi(i),c=[];for(var p in i)p=="constructor"&&(a||!Pe.call(i,p))||c.push(p);return c}function As(i,a){return i<a}function Ul(i,a){var c=-1,p=Ct(i)?F(i.length):[];return ln(i,function(m,_,L){p[++c]=a(m,_,L)}),p}function Bl(i){var a=$s(i);return a.length==1&&a[0][2]?wh(a[0][0],a[0][1]):function(c){return c===i||Es(c,i,a)}}function Wl(i,a){return Bs(i)&&_h(a)?wh(Ar(i),a):function(c){var p=Xs(c,i);return p===e&&p===a?Qs(c,i):qi(a,p,x|w)}}function qo(i,a,c,p,m){i!==a&&ys(a,function(_,L){if(m||(m=new hr),$e(_))Py(i,a,L,c,qo,p,m);else{var P=p?p(zs(i,L),_,L+"",i,a,m):e;P===e&&(P=_),vs(i,L,P)}},Rt)}function Py(i,a,c,p,m,_,L){var P=zs(i,c),N=zs(a,c),U=L.get(N);if(U){vs(i,c,U);return}var B=_?_(P,N,c+"",i,a,L):e,z=B===e;if(z){var q=le(N),X=!q&&pn(N),oe=!q&&!X&&di(N);B=N,q||X||oe?le(P)?B=P:qe(P)?B=Tt(P):X?(z=!1,B=eh(N,!0)):oe?(z=!1,B=th(N,!0)):B=[]:Xi(N)||Wn(N)?(B=P,Wn(P)?B=Xh(P):(!$e(P)||Ur(P))&&(B=bh(N))):z=!1}z&&(L.set(N,B),m(B,N,p,_,L),L.delete(N)),vs(i,c,B)}function zl(i,a){var c=i.length;if(c)return a+=a<0?c:0,$r(a,c)?i[a]:e}function jl(i,a,c){a.length?a=Fe(a,function(_){return le(_)?function(L){return $n(L,_.length===1?_[0]:_)}:_}):a=[Pt];var p=-1;a=Fe(a,Mt(re()));var m=Ul(i,function(_,L,P){var N=Fe(a,function(U){return U(_)});return{criteria:N,index:++p,value:_}});return nm(m,function(_,L){return zy(_,L,c)})}function Iy(i,a){return Hl(i,a,function(c,p){return Qs(i,p)})}function Hl(i,a,c){for(var p=-1,m=a.length,_={};++p<m;){var L=a[p],P=$n(i,L);c(P,L)&&Yi(_,dn(L,i),P)}return _}function Oy(i){return function(a){return $n(a,i)}}function Ls(i,a,c,p){var m=p?rm:ti,_=-1,L=a.length,P=i;for(i===a&&(a=Tt(a)),c&&(P=Fe(i,Mt(c)));++_<L;)for(var N=0,U=a[_],B=c?c(U):U;(N=m(P,B,N,p))>-1;)P!==i&&Fo.call(P,N,1),Fo.call(i,N,1);return i}function ql(i,a){for(var c=i?a.length:0,p=c-1;c--;){var m=a[c];if(c==p||m!==_){var _=m;$r(m)?Fo.call(i,m,1):Rs(i,m)}}return i}function Ss(i,a){return i+$o(Sl()*(a-i+1))}function Dy(i,a,c,p){for(var m=-1,_=et(ko((a-i)/(c||1)),0),L=F(_);_--;)L[p?_:++m]=i,i+=c;return L}function Ts(i,a){var c="";if(!i||a<1||a>He)return c;do a%2&&(c+=i),a=$o(a/2),a&&(i+=i);while(a);return c}function ve(i,a){return js(Eh(i,a,Pt),i+"")}function Ny(i){return Rl(fi(i))}function Gy(i,a){var c=fi(i);return ra(c,kn(a,0,c.length))}function Yi(i,a,c,p){if(!$e(i))return i;a=dn(a,i);for(var m=-1,_=a.length,L=_-1,P=i;P!=null&&++m<_;){var N=Ar(a[m]),U=c;if(N==="__proto__"||N==="constructor"||N==="prototype")return i;if(m!=L){var B=P[N];U=p?p(B,N,P):e,U===e&&(U=$e(B)?B:$r(a[m+1])?[]:{})}zi(P,N,U),P=P[N]}return i}var Yl=Uo?function(i,a){return Uo.set(i,a),i}:Pt,Fy=Mo?function(i,a){return Mo(i,"toString",{configurable:!0,enumerable:!1,value:eu(a),writable:!0})}:Pt;function My(i){return ra(fi(i))}function Zt(i,a,c){var p=-1,m=i.length;a<0&&(a=-a>m?0:m+a),c=c>m?m:c,c<0&&(c+=m),m=a>c?0:c-a>>>0,a>>>=0;for(var _=F(m);++p<m;)_[p]=i[p+a];return _}function ky(i,a){var c;return ln(i,function(p,m,_){return c=a(p,m,_),!c}),!!c}function Yo(i,a,c){var p=0,m=i==null?p:i.length;if(typeof a=="number"&&a===a&&m<=br){for(;p<m;){var _=p+m>>>1,L=i[_];L!==null&&!$t(L)&&(c?L<=a:L<a)?p=_+1:m=_}return m}return Cs(i,a,Pt,c)}function Cs(i,a,c,p){var m=0,_=i==null?0:i.length;if(_===0)return 0;a=c(a);for(var L=a!==a,P=a===null,N=$t(a),U=a===e;m<_;){var B=$o((m+_)/2),z=c(i[B]),q=z!==e,X=z===null,oe=z===z,pe=$t(z);if(L)var ae=p||oe;else U?ae=oe&&(p||q):P?ae=oe&&q&&(p||!X):N?ae=oe&&q&&!X&&(p||!pe):X||pe?ae=!1:ae=p?z<=a:z<a;ae?m=B+1:_=B}return ct(_,Xe)}function Vl(i,a){for(var c=-1,p=i.length,m=0,_=[];++c<p;){var L=i[c],P=a?a(L):L;if(!c||!dr(P,N)){var N=P;_[m++]=L===0?0:L}}return _}function Zl(i){return typeof i=="number"?i:$t(i)?J:+i}function kt(i){if(typeof i=="string")return i;if(le(i))return Fe(i,kt)+"";if($t(i))return Tl?Tl.call(i):"";var a=i+"";return a=="0"&&1/i==-1/0?"-0":a}function hn(i,a,c){var p=-1,m=So,_=i.length,L=!0,P=[],N=P;if(c)L=!1,m=ns;else if(_>=o){var U=a?null:Zy(i);if(U)return Co(U);L=!1,m=Mi,N=new Mn}else N=a?[]:P;e:for(;++p<_;){var B=i[p],z=a?a(B):B;if(B=c||B!==0?B:0,L&&z===z){for(var q=N.length;q--;)if(N[q]===z)continue e;a&&N.push(z),P.push(B)}else m(N,z,c)||(N!==P&&N.push(z),P.push(B))}return P}function Rs(i,a){return a=dn(a,i),i=xh(i,a),i==null||delete i[Ar(Kt(a))]}function Kl(i,a,c,p){return Yi(i,a,c($n(i,a)),p)}function Vo(i,a,c,p){for(var m=i.length,_=p?m:-1;(p?_--:++_<m)&&a(i[_],_,i););return c?Zt(i,p?0:_,p?_+1:m):Zt(i,p?_+1:0,p?m:_)}function Xl(i,a){var c=i;return c instanceof _e&&(c=c.value()),is(a,function(p,m){return m.func.apply(m.thisArg,sn([p],m.args))},c)}function Ps(i,a,c){var p=i.length;if(p<2)return p?hn(i[0]):[];for(var m=-1,_=F(p);++m<p;)for(var L=i[m],P=-1;++P<p;)P!=m&&(_[m]=ji(_[m]||L,i[P],a,c));return hn(st(_,1),a,c)}function Ql(i,a,c){for(var p=-1,m=i.length,_=a.length,L={};++p<m;){var P=p<_?a[p]:e;c(L,i[p],P)}return L}function Is(i){return qe(i)?i:[]}function Os(i){return typeof i=="function"?i:Pt}function dn(i,a){return le(i)?i:Bs(i,a)?[i]:Th(Ce(i))}var $y=ve;function fn(i,a,c){var p=i.length;return c=c===e?p:c,!a&&c>=p?i:Zt(i,a,c)}var Jl=Sm||function(i){return at.clearTimeout(i)};function eh(i,a){if(a)return i.slice();var c=i.length,p=wl?wl(c):new i.constructor(c);return i.copy(p),p}function Ds(i){var a=new i.constructor(i.byteLength);return new No(a).set(new No(i)),a}function Uy(i,a){var c=a?Ds(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.byteLength)}function By(i){var a=new i.constructor(i.source,Mc.exec(i));return a.lastIndex=i.lastIndex,a}function Wy(i){return Wi?Ie(Wi.call(i)):{}}function th(i,a){var c=a?Ds(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.length)}function rh(i,a){if(i!==a){var c=i!==e,p=i===null,m=i===i,_=$t(i),L=a!==e,P=a===null,N=a===a,U=$t(a);if(!P&&!U&&!_&&i>a||_&&L&&N&&!P&&!U||p&&L&&N||!c&&N||!m)return 1;if(!p&&!_&&!U&&i<a||U&&c&&m&&!p&&!_||P&&c&&m||!L&&m||!N)return-1}return 0}function zy(i,a,c){for(var p=-1,m=i.criteria,_=a.criteria,L=m.length,P=c.length;++p<L;){var N=rh(m[p],_[p]);if(N){if(p>=P)return N;var U=c[p];return N*(U=="desc"?-1:1)}}return i.index-a.index}function nh(i,a,c,p){for(var m=-1,_=i.length,L=c.length,P=-1,N=a.length,U=et(_-L,0),B=F(N+U),z=!p;++P<N;)B[P]=a[P];for(;++m<L;)(z||m<_)&&(B[c[m]]=i[m]);for(;U--;)B[P++]=i[m++];return B}function ih(i,a,c,p){for(var m=-1,_=i.length,L=-1,P=c.length,N=-1,U=a.length,B=et(_-P,0),z=F(B+U),q=!p;++m<B;)z[m]=i[m];for(var X=m;++N<U;)z[X+N]=a[N];for(;++L<P;)(q||m<_)&&(z[X+c[L]]=i[m++]);return z}function Tt(i,a){var c=-1,p=i.length;for(a||(a=F(p));++c<p;)a[c]=i[c];return a}function xr(i,a,c,p){var m=!c;c||(c={});for(var _=-1,L=a.length;++_<L;){var P=a[_],N=p?p(c[P],i[P],P,c,i):e;N===e&&(N=i[P]),m?Fr(c,P,N):zi(c,P,N)}return c}function jy(i,a){return xr(i,Us(i),a)}function Hy(i,a){return xr(i,mh(i),a)}function Zo(i,a){return function(c,p){var m=le(c)?Kv:fy,_=a?a():{};return m(c,i,re(p,2),_)}}function ci(i){return ve(function(a,c){var p=-1,m=c.length,_=m>1?c[m-1]:e,L=m>2?c[2]:e;for(_=i.length>3&&typeof _=="function"?(m--,_):e,L&&mt(c[0],c[1],L)&&(_=m<3?e:_,m=1),a=Ie(a);++p<m;){var P=c[p];P&&i(a,P,p,_)}return a})}function oh(i,a){return function(c,p){if(c==null)return c;if(!Ct(c))return i(c,p);for(var m=c.length,_=a?m:-1,L=Ie(c);(a?_--:++_<m)&&p(L[_],_,L)!==!1;);return c}}function ah(i){return function(a,c,p){for(var m=-1,_=Ie(a),L=p(a),P=L.length;P--;){var N=L[i?P:++m];if(c(_[N],N,_)===!1)break}return a}}function qy(i,a,c){var p=a&A,m=Vi(i);function _(){var L=this&&this!==at&&this instanceof _?m:i;return L.apply(p?c:this,arguments)}return _}function sh(i){return function(a){a=Ce(a);var c=ri(a)?lr(a):e,p=c?c[0]:a.charAt(0),m=c?fn(c,1).join(""):a.slice(1);return p[i]()+m}}function li(i){return function(a){return is(od(id(a).replace(Fv,"")),i,"")}}function Vi(i){return function(){var a=arguments;switch(a.length){case 0:return new i;case 1:return new i(a[0]);case 2:return new i(a[0],a[1]);case 3:return new i(a[0],a[1],a[2]);case 4:return new i(a[0],a[1],a[2],a[3]);case 5:return new i(a[0],a[1],a[2],a[3],a[4]);case 6:return new i(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new i(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var c=ui(i.prototype),p=i.apply(c,a);return $e(p)?p:c}}function Yy(i,a,c){var p=Vi(i);function m(){for(var _=arguments.length,L=F(_),P=_,N=hi(m);P--;)L[P]=arguments[P];var U=_<3&&L[0]!==N&&L[_-1]!==N?[]:un(L,N);if(_-=U.length,_<c)return dh(i,a,Ko,m.placeholder,e,L,U,e,e,c-_);var B=this&&this!==at&&this instanceof m?p:i;return Ft(B,this,L)}return m}function uh(i){return function(a,c,p){var m=Ie(a);if(!Ct(a)){var _=re(c,3);a=it(a),c=function(P){return _(m[P],P,m)}}var L=i(a,c,p);return L>-1?m[_?a[L]:L]:e}}function ch(i){return kr(function(a){var c=a.length,p=c,m=Yt.prototype.thru;for(i&&a.reverse();p--;){var _=a[p];if(typeof _!="function")throw new qt(u);if(m&&!L&&ea(_)=="wrapper")var L=new Yt([],!0)}for(p=L?p:c;++p<c;){_=a[p];var P=ea(_),N=P=="wrapper"?ks(_):e;N&&Ws(N[0])&&N[1]==(G|S|E|M)&&!N[4].length&&N[9]==1?L=L[ea(N[0])].apply(L,N[3]):L=_.length==1&&Ws(_)?L[P]():L.thru(_)}return function(){var U=arguments,B=U[0];if(L&&U.length==1&&le(B))return L.plant(B).value();for(var z=0,q=c?a[z].apply(this,U):B;++z<c;)q=a[z].call(this,q);return q}})}function Ko(i,a,c,p,m,_,L,P,N,U){var B=a&G,z=a&A,q=a&R,X=a&(S|C),oe=a&D,pe=q?e:Vi(i);function ae(){for(var ye=arguments.length,we=F(ye),Ut=ye;Ut--;)we[Ut]=arguments[Ut];if(X)var yt=hi(ae),Bt=om(we,yt);if(p&&(we=nh(we,p,m,X)),_&&(we=ih(we,_,L,X)),ye-=Bt,X&&ye<U){var Ye=un(we,yt);return dh(i,a,Ko,ae.placeholder,c,we,Ye,P,N,U-ye)}var fr=z?c:this,Wr=q?fr[i]:i;return ye=we.length,P?we=fb(we,P):oe&&ye>1&&we.reverse(),B&&N<ye&&(we.length=N),this&&this!==at&&this instanceof ae&&(Wr=pe||Vi(Wr)),Wr.apply(fr,we)}return ae}function lh(i,a){return function(c,p){return wy(c,i,a(p),{})}}function Xo(i,a){return function(c,p){var m;if(c===e&&p===e)return a;if(c!==e&&(m=c),p!==e){if(m===e)return p;typeof c=="string"||typeof p=="string"?(c=kt(c),p=kt(p)):(c=Zl(c),p=Zl(p)),m=i(c,p)}return m}}function Ns(i){return kr(function(a){return a=Fe(a,Mt(re())),ve(function(c){var p=this;return i(a,function(m){return Ft(m,p,c)})})})}function Qo(i,a){a=a===e?" ":kt(a);var c=a.length;if(c<2)return c?Ts(a,i):a;var p=Ts(a,ko(i/ni(a)));return ri(a)?fn(lr(p),0,i).join(""):p.slice(0,i)}function Vy(i,a,c,p){var m=a&A,_=Vi(i);function L(){for(var P=-1,N=arguments.length,U=-1,B=p.length,z=F(B+N),q=this&&this!==at&&this instanceof L?_:i;++U<B;)z[U]=p[U];for(;N--;)z[U++]=arguments[++P];return Ft(q,m?c:this,z)}return L}function hh(i){return function(a,c,p){return p&&typeof p!="number"&&mt(a,c,p)&&(c=p=e),a=Br(a),c===e?(c=a,a=0):c=Br(c),p=p===e?a<c?1:-1:Br(p),Dy(a,c,p,i)}}function Jo(i){return function(a,c){return typeof a=="string"&&typeof c=="string"||(a=Xt(a),c=Xt(c)),i(a,c)}}function dh(i,a,c,p,m,_,L,P,N,U){var B=a&S,z=B?L:e,q=B?e:L,X=B?_:e,oe=B?e:_;a|=B?E:I,a&=~(B?I:E),a&T||(a&=-4);var pe=[i,a,m,X,z,oe,q,P,N,U],ae=c.apply(e,pe);return Ws(i)&&Ah(ae,pe),ae.placeholder=p,Lh(ae,i,a)}function Gs(i){var a=Je[i];return function(c,p){if(c=Xt(c),p=p==null?0:ct(de(p),292),p&&Ll(c)){var m=(Ce(c)+"e").split("e"),_=a(m[0]+"e"+(+m[1]+p));return m=(Ce(_)+"e").split("e"),+(m[0]+"e"+(+m[1]-p))}return a(c)}}var Zy=ai&&1/Co(new ai([,-0]))[1]==ke?function(i){return new ai(i)}:nu;function fh(i){return function(a){var c=lt(a);return c==St?hs(a):c==gt?dm(a):im(a,i(a))}}function Mr(i,a,c,p,m,_,L,P){var N=a&R;if(!N&&typeof i!="function")throw new qt(u);var U=p?p.length:0;if(U||(a&=-97,p=m=e),L=L===e?L:et(de(L),0),P=P===e?P:de(P),U-=m?m.length:0,a&I){var B=p,z=m;p=m=e}var q=N?e:ks(i),X=[i,a,c,p,m,B,z,_,L,P];if(q&&lb(X,q),i=X[0],a=X[1],c=X[2],p=X[3],m=X[4],P=X[9]=X[9]===e?N?0:i.length:et(X[9]-U,0),!P&&a&(S|C)&&(a&=-25),!a||a==A)var oe=qy(i,a,c);else a==S||a==C?oe=Yy(i,a,P):(a==E||a==(A|E))&&!m.length?oe=Vy(i,a,c,p):oe=Ko.apply(e,X);var pe=q?Yl:Ah;return Lh(pe(oe,X),i,a)}function ph(i,a,c,p){return i===e||dr(i,oi[c])&&!Pe.call(p,c)?a:i}function gh(i,a,c,p,m,_){return $e(i)&&$e(a)&&(_.set(a,i),qo(i,a,e,gh,_),_.delete(a)),i}function Ky(i){return Xi(i)?e:i}function vh(i,a,c,p,m,_){var L=c&x,P=i.length,N=a.length;if(P!=N&&!(L&&N>P))return!1;var U=_.get(i),B=_.get(a);if(U&&B)return U==a&&B==i;var z=-1,q=!0,X=c&w?new Mn:e;for(_.set(i,a),_.set(a,i);++z<P;){var oe=i[z],pe=a[z];if(p)var ae=L?p(pe,oe,z,a,i,_):p(oe,pe,z,i,a,_);if(ae!==e){if(ae)continue;q=!1;break}if(X){if(!os(a,function(ye,we){if(!Mi(X,we)&&(oe===ye||m(oe,ye,c,p,_)))return X.push(we)})){q=!1;break}}else if(!(oe===pe||m(oe,pe,c,p,_))){q=!1;break}}return _.delete(i),_.delete(a),q}function Xy(i,a,c,p,m,_,L){switch(c){case Dr:if(i.byteLength!=a.byteLength||i.byteOffset!=a.byteOffset)return!1;i=i.buffer,a=a.buffer;case In:return!(i.byteLength!=a.byteLength||!_(new No(i),new No(a)));case zt:case ur:case Cn:return dr(+i,+a);case Xn:return i.name==a.name&&i.message==a.message;case cr:case nn:return i==a+"";case St:var P=hs;case gt:var N=p&x;if(P||(P=Co),i.size!=a.size&&!N)return!1;var U=L.get(i);if(U)return U==a;p|=w,L.set(i,a);var B=vh(P(i),P(a),p,m,_,L);return L.delete(i),B;case Rn:if(Wi)return Wi.call(i)==Wi.call(a)}return!1}function Qy(i,a,c,p,m,_){var L=c&x,P=Fs(i),N=P.length,U=Fs(a),B=U.length;if(N!=B&&!L)return!1;for(var z=N;z--;){var q=P[z];if(!(L?q in a:Pe.call(a,q)))return!1}var X=_.get(i),oe=_.get(a);if(X&&oe)return X==a&&oe==i;var pe=!0;_.set(i,a),_.set(a,i);for(var ae=L;++z<N;){q=P[z];var ye=i[q],we=a[q];if(p)var Ut=L?p(we,ye,q,a,i,_):p(ye,we,q,i,a,_);if(!(Ut===e?ye===we||m(ye,we,c,p,_):Ut)){pe=!1;break}ae||(ae=q=="constructor")}if(pe&&!ae){var yt=i.constructor,Bt=a.constructor;yt!=Bt&&"constructor"in i&&"constructor"in a&&!(typeof yt=="function"&&yt instanceof yt&&typeof Bt=="function"&&Bt instanceof Bt)&&(pe=!1)}return _.delete(i),_.delete(a),pe}function kr(i){return js(Eh(i,e,Ih),i+"")}function Fs(i){return Fl(i,it,Us)}function Ms(i){return Fl(i,Rt,mh)}var ks=Uo?function(i){return Uo.get(i)}:nu;function ea(i){for(var a=i.name+"",c=si[a],p=Pe.call(si,a)?c.length:0;p--;){var m=c[p],_=m.func;if(_==null||_==i)return m.name}return a}function hi(i){var a=Pe.call(b,"placeholder")?b:i;return a.placeholder}function re(){var i=b.iteratee||tu;return i=i===tu?$l:i,arguments.length?i(arguments[0],arguments[1]):i}function ta(i,a){var c=i.__data__;return ab(a)?c[typeof a=="string"?"string":"hash"]:c.map}function $s(i){for(var a=it(i),c=a.length;c--;){var p=a[c],m=i[p];a[c]=[p,m,_h(m)]}return a}function Un(i,a){var c=cm(i,a);return kl(c)?c:e}function Jy(i){var a=Pe.call(i,Gn),c=i[Gn];try{i[Gn]=e;var p=!0}catch{}var m=Oo.call(i);return p&&(a?i[Gn]=c:delete i[Gn]),m}var Us=fs?function(i){return i==null?[]:(i=Ie(i),an(fs(i),function(a){return xl.call(i,a)}))}:iu,mh=fs?function(i){for(var a=[];i;)sn(a,Us(i)),i=Go(i);return a}:iu,lt=vt;(ps&&lt(new ps(new ArrayBuffer(1)))!=Dr||$i&&lt(new $i)!=St||gs&&lt(gs.resolve())!=Or||ai&&lt(new ai)!=gt||Ui&&lt(new Ui)!=Pn)&&(lt=function(i){var a=vt(i),c=a==Qe?i.constructor:e,p=c?Bn(c):"";if(p)switch(p){case Gm:return Dr;case Fm:return St;case Mm:return Or;case km:return gt;case $m:return Pn}return a});function eb(i,a,c){for(var p=-1,m=c.length;++p<m;){var _=c[p],L=_.size;switch(_.type){case"drop":i+=L;break;case"dropRight":a-=L;break;case"take":a=ct(a,i+L);break;case"takeRight":i=et(i,a-L);break}}return{start:i,end:a}}function tb(i){var a=i.match(sv);return a?a[1].split(uv):[]}function yh(i,a,c){a=dn(a,i);for(var p=-1,m=a.length,_=!1;++p<m;){var L=Ar(a[p]);if(!(_=i!=null&&c(i,L)))break;i=i[L]}return _||++p!=m?_:(m=i==null?0:i.length,!!m&&ua(m)&&$r(L,m)&&(le(i)||Wn(i)))}function rb(i){var a=i.length,c=new i.constructor(a);return a&&typeof i[0]=="string"&&Pe.call(i,"index")&&(c.index=i.index,c.input=i.input),c}function bh(i){return typeof i.constructor=="function"&&!Zi(i)?ui(Go(i)):{}}function nb(i,a,c){var p=i.constructor;switch(a){case In:return Ds(i);case zt:case ur:return new p(+i);case Dr:return Uy(i,c);case Qn:case Jn:case on:case Ni:case Gi:case On:case K:case ie:case be:return th(i,c);case St:return new p;case Cn:case nn:return new p(i);case cr:return By(i);case gt:return new p;case Rn:return Wy(i)}}function ib(i,a){var c=a.length;if(!c)return i;var p=c-1;return a[p]=(c>1?"& ":"")+a[p],a=a.join(c>2?", ":" "),i.replace(av,`{
/* [wrapped with `+a+`] */
`)}function ob(i){return le(i)||Wn(i)||!!(Al&&i&&i[Al])}function $r(i,a){var c=typeof i;return a=a??He,!!a&&(c=="number"||c!="symbol"&&mv.test(i))&&i>-1&&i%1==0&&i<a}function mt(i,a,c){if(!$e(c))return!1;var p=typeof a;return(p=="number"?Ct(c)&&$r(a,c.length):p=="string"&&a in c)?dr(c[a],i):!1}function Bs(i,a){if(le(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||$t(i)?!0:rv.test(i)||!tv.test(i)||a!=null&&i in Ie(a)}function ab(i){var a=typeof i;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?i!=="__proto__":i===null}function Ws(i){var a=ea(i),c=b[a];if(typeof c!="function"||!(a in _e.prototype))return!1;if(i===c)return!0;var p=ks(c);return!!p&&i===p[0]}function sb(i){return!!_l&&_l in i}var ub=Po?Ur:ou;function Zi(i){var a=i&&i.constructor,c=typeof a=="function"&&a.prototype||oi;return i===c}function _h(i){return i===i&&!$e(i)}function wh(i,a){return function(c){return c==null?!1:c[i]===a&&(a!==e||i in Ie(c))}}function cb(i){var a=aa(i,function(p){return c.size===d&&c.clear(),p}),c=a.cache;return a}function lb(i,a){var c=i[1],p=a[1],m=c|p,_=m<(A|R|G),L=p==G&&c==S||p==G&&c==M&&i[7].length<=a[8]||p==(G|M)&&a[7].length<=a[8]&&c==S;if(!(_||L))return i;p&A&&(i[2]=a[2],m|=c&A?0:T);var P=a[3];if(P){var N=i[3];i[3]=N?nh(N,P,a[4]):P,i[4]=N?un(i[3],g):a[4]}return P=a[5],P&&(N=i[5],i[5]=N?ih(N,P,a[6]):P,i[6]=N?un(i[5],g):a[6]),P=a[7],P&&(i[7]=P),p&G&&(i[8]=i[8]==null?a[8]:ct(i[8],a[8])),i[9]==null&&(i[9]=a[9]),i[0]=a[0],i[1]=m,i}function hb(i){var a=[];if(i!=null)for(var c in Ie(i))a.push(c);return a}function db(i){return Oo.call(i)}function Eh(i,a,c){return a=et(a===e?i.length-1:a,0),function(){for(var p=arguments,m=-1,_=et(p.length-a,0),L=F(_);++m<_;)L[m]=p[a+m];m=-1;for(var P=F(a+1);++m<a;)P[m]=p[m];return P[a]=c(L),Ft(i,this,P)}}function xh(i,a){return a.length<2?i:$n(i,Zt(a,0,-1))}function fb(i,a){for(var c=i.length,p=ct(a.length,c),m=Tt(i);p--;){var _=a[p];i[p]=$r(_,c)?m[_]:e}return i}function zs(i,a){if(!(a==="constructor"&&typeof i[a]=="function")&&a!="__proto__")return i[a]}var Ah=Sh(Yl),Ki=Cm||function(i,a){return at.setTimeout(i,a)},js=Sh(Fy);function Lh(i,a,c){var p=a+"";return js(i,ib(p,pb(tb(p),c)))}function Sh(i){var a=0,c=0;return function(){var p=Om(),m=he-(p-c);if(c=p,m>0){if(++a>=fe)return arguments[0]}else a=0;return i.apply(e,arguments)}}function ra(i,a){var c=-1,p=i.length,m=p-1;for(a=a===e?p:a;++c<a;){var _=Ss(c,m),L=i[_];i[_]=i[c],i[c]=L}return i.length=a,i}var Th=cb(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(nv,function(c,p,m,_){a.push(m?_.replace(hv,"$1"):p||c)}),a});function Ar(i){if(typeof i=="string"||$t(i))return i;var a=i+"";return a=="0"&&1/i==-1/0?"-0":a}function Bn(i){if(i!=null){try{return Io.call(i)}catch{}try{return i+""}catch{}}return""}function pb(i,a){return Ht(sr,function(c){var p="_."+c[0];a&c[1]&&!So(i,p)&&i.push(p)}),i.sort()}function Ch(i){if(i instanceof _e)return i.clone();var a=new Yt(i.__wrapped__,i.__chain__);return a.__actions__=Tt(i.__actions__),a.__index__=i.__index__,a.__values__=i.__values__,a}function gb(i,a,c){(c?mt(i,a,c):a===e)?a=1:a=et(de(a),0);var p=i==null?0:i.length;if(!p||a<1)return[];for(var m=0,_=0,L=F(ko(p/a));m<p;)L[_++]=Zt(i,m,m+=a);return L}function vb(i){for(var a=-1,c=i==null?0:i.length,p=0,m=[];++a<c;){var _=i[a];_&&(m[p++]=_)}return m}function mb(){var i=arguments.length;if(!i)return[];for(var a=F(i-1),c=arguments[0],p=i;p--;)a[p-1]=arguments[p];return sn(le(c)?Tt(c):[c],st(a,1))}var yb=ve(function(i,a){return qe(i)?ji(i,st(a,1,qe,!0)):[]}),bb=ve(function(i,a){var c=Kt(a);return qe(c)&&(c=e),qe(i)?ji(i,st(a,1,qe,!0),re(c,2)):[]}),_b=ve(function(i,a){var c=Kt(a);return qe(c)&&(c=e),qe(i)?ji(i,st(a,1,qe,!0),e,c):[]});function wb(i,a,c){var p=i==null?0:i.length;return p?(a=c||a===e?1:de(a),Zt(i,a<0?0:a,p)):[]}function Eb(i,a,c){var p=i==null?0:i.length;return p?(a=c||a===e?1:de(a),a=p-a,Zt(i,0,a<0?0:a)):[]}function xb(i,a){return i&&i.length?Vo(i,re(a,3),!0,!0):[]}function Ab(i,a){return i&&i.length?Vo(i,re(a,3),!0):[]}function Lb(i,a,c,p){var m=i==null?0:i.length;return m?(c&&typeof c!="number"&&mt(i,a,c)&&(c=0,p=m),my(i,a,c,p)):[]}function Rh(i,a,c){var p=i==null?0:i.length;if(!p)return-1;var m=c==null?0:de(c);return m<0&&(m=et(p+m,0)),To(i,re(a,3),m)}function Ph(i,a,c){var p=i==null?0:i.length;if(!p)return-1;var m=p-1;return c!==e&&(m=de(c),m=c<0?et(p+m,0):ct(m,p-1)),To(i,re(a,3),m,!0)}function Ih(i){var a=i==null?0:i.length;return a?st(i,1):[]}function Sb(i){var a=i==null?0:i.length;return a?st(i,ke):[]}function Tb(i,a){var c=i==null?0:i.length;return c?(a=a===e?1:de(a),st(i,a)):[]}function Cb(i){for(var a=-1,c=i==null?0:i.length,p={};++a<c;){var m=i[a];p[m[0]]=m[1]}return p}function Oh(i){return i&&i.length?i[0]:e}function Rb(i,a,c){var p=i==null?0:i.length;if(!p)return-1;var m=c==null?0:de(c);return m<0&&(m=et(p+m,0)),ti(i,a,m)}function Pb(i){var a=i==null?0:i.length;return a?Zt(i,0,-1):[]}var Ib=ve(function(i){var a=Fe(i,Is);return a.length&&a[0]===i[0]?ws(a):[]}),Ob=ve(function(i){var a=Kt(i),c=Fe(i,Is);return a===Kt(c)?a=e:c.pop(),c.length&&c[0]===i[0]?ws(c,re(a,2)):[]}),Db=ve(function(i){var a=Kt(i),c=Fe(i,Is);return a=typeof a=="function"?a:e,a&&c.pop(),c.length&&c[0]===i[0]?ws(c,e,a):[]});function Nb(i,a){return i==null?"":Pm.call(i,a)}function Kt(i){var a=i==null?0:i.length;return a?i[a-1]:e}function Gb(i,a,c){var p=i==null?0:i.length;if(!p)return-1;var m=p;return c!==e&&(m=de(c),m=m<0?et(p+m,0):ct(m,p-1)),a===a?pm(i,a,m):To(i,dl,m,!0)}function Fb(i,a){return i&&i.length?zl(i,de(a)):e}var Mb=ve(Dh);function Dh(i,a){return i&&i.length&&a&&a.length?Ls(i,a):i}function kb(i,a,c){return i&&i.length&&a&&a.length?Ls(i,a,re(c,2)):i}function $b(i,a,c){return i&&i.length&&a&&a.length?Ls(i,a,e,c):i}var Ub=kr(function(i,a){var c=i==null?0:i.length,p=ms(i,a);return ql(i,Fe(a,function(m){return $r(m,c)?+m:m}).sort(rh)),p});function Bb(i,a){var c=[];if(!(i&&i.length))return c;var p=-1,m=[],_=i.length;for(a=re(a,3);++p<_;){var L=i[p];a(L,p,i)&&(c.push(L),m.push(p))}return ql(i,m),c}function Hs(i){return i==null?i:Nm.call(i)}function Wb(i,a,c){var p=i==null?0:i.length;return p?(c&&typeof c!="number"&&mt(i,a,c)?(a=0,c=p):(a=a==null?0:de(a),c=c===e?p:de(c)),Zt(i,a,c)):[]}function zb(i,a){return Yo(i,a)}function jb(i,a,c){return Cs(i,a,re(c,2))}function Hb(i,a){var c=i==null?0:i.length;if(c){var p=Yo(i,a);if(p<c&&dr(i[p],a))return p}return-1}function qb(i,a){return Yo(i,a,!0)}function Yb(i,a,c){return Cs(i,a,re(c,2),!0)}function Vb(i,a){var c=i==null?0:i.length;if(c){var p=Yo(i,a,!0)-1;if(dr(i[p],a))return p}return-1}function Zb(i){return i&&i.length?Vl(i):[]}function Kb(i,a){return i&&i.length?Vl(i,re(a,2)):[]}function Xb(i){var a=i==null?0:i.length;return a?Zt(i,1,a):[]}function Qb(i,a,c){return i&&i.length?(a=c||a===e?1:de(a),Zt(i,0,a<0?0:a)):[]}function Jb(i,a,c){var p=i==null?0:i.length;return p?(a=c||a===e?1:de(a),a=p-a,Zt(i,a<0?0:a,p)):[]}function e_(i,a){return i&&i.length?Vo(i,re(a,3),!1,!0):[]}function t_(i,a){return i&&i.length?Vo(i,re(a,3)):[]}var r_=ve(function(i){return hn(st(i,1,qe,!0))}),n_=ve(function(i){var a=Kt(i);return qe(a)&&(a=e),hn(st(i,1,qe,!0),re(a,2))}),i_=ve(function(i){var a=Kt(i);return a=typeof a=="function"?a:e,hn(st(i,1,qe,!0),e,a)});function o_(i){return i&&i.length?hn(i):[]}function a_(i,a){return i&&i.length?hn(i,re(a,2)):[]}function s_(i,a){return a=typeof a=="function"?a:e,i&&i.length?hn(i,e,a):[]}function qs(i){if(!(i&&i.length))return[];var a=0;return i=an(i,function(c){if(qe(c))return a=et(c.length,a),!0}),cs(a,function(c){return Fe(i,as(c))})}function Nh(i,a){if(!(i&&i.length))return[];var c=qs(i);return a==null?c:Fe(c,function(p){return Ft(a,e,p)})}var u_=ve(function(i,a){return qe(i)?ji(i,a):[]}),c_=ve(function(i){return Ps(an(i,qe))}),l_=ve(function(i){var a=Kt(i);return qe(a)&&(a=e),Ps(an(i,qe),re(a,2))}),h_=ve(function(i){var a=Kt(i);return a=typeof a=="function"?a:e,Ps(an(i,qe),e,a)}),d_=ve(qs);function f_(i,a){return Ql(i||[],a||[],zi)}function p_(i,a){return Ql(i||[],a||[],Yi)}var g_=ve(function(i){var a=i.length,c=a>1?i[a-1]:e;return c=typeof c=="function"?(i.pop(),c):e,Nh(i,c)});function Gh(i){var a=b(i);return a.__chain__=!0,a}function v_(i,a){return a(i),i}function na(i,a){return a(i)}var m_=kr(function(i){var a=i.length,c=a?i[0]:0,p=this.__wrapped__,m=function(_){return ms(_,i)};return a>1||this.__actions__.length||!(p instanceof _e)||!$r(c)?this.thru(m):(p=p.slice(c,+c+(a?1:0)),p.__actions__.push({func:na,args:[m],thisArg:e}),new Yt(p,this.__chain__).thru(function(_){return a&&!_.length&&_.push(e),_}))});function y_(){return Gh(this)}function b_(){return new Yt(this.value(),this.__chain__)}function __(){this.__values__===e&&(this.__values__=Zh(this.value()));var i=this.__index__>=this.__values__.length,a=i?e:this.__values__[this.__index__++];return{done:i,value:a}}function w_(){return this}function E_(i){for(var a,c=this;c instanceof Wo;){var p=Ch(c);p.__index__=0,p.__values__=e,a?m.__wrapped__=p:a=p;var m=p;c=c.__wrapped__}return m.__wrapped__=i,a}function x_(){var i=this.__wrapped__;if(i instanceof _e){var a=i;return this.__actions__.length&&(a=new _e(this)),a=a.reverse(),a.__actions__.push({func:na,args:[Hs],thisArg:e}),new Yt(a,this.__chain__)}return this.thru(Hs)}function A_(){return Xl(this.__wrapped__,this.__actions__)}var L_=Zo(function(i,a,c){Pe.call(i,c)?++i[c]:Fr(i,c,1)});function S_(i,a,c){var p=le(i)?ll:vy;return c&&mt(i,a,c)&&(a=e),p(i,re(a,3))}function T_(i,a){var c=le(i)?an:Nl;return c(i,re(a,3))}var C_=uh(Rh),R_=uh(Ph);function P_(i,a){return st(ia(i,a),1)}function I_(i,a){return st(ia(i,a),ke)}function O_(i,a,c){return c=c===e?1:de(c),st(ia(i,a),c)}function Fh(i,a){var c=le(i)?Ht:ln;return c(i,re(a,3))}function Mh(i,a){var c=le(i)?Xv:Dl;return c(i,re(a,3))}var D_=Zo(function(i,a,c){Pe.call(i,c)?i[c].push(a):Fr(i,c,[a])});function N_(i,a,c,p){i=Ct(i)?i:fi(i),c=c&&!p?de(c):0;var m=i.length;return c<0&&(c=et(m+c,0)),ca(i)?c<=m&&i.indexOf(a,c)>-1:!!m&&ti(i,a,c)>-1}var G_=ve(function(i,a,c){var p=-1,m=typeof a=="function",_=Ct(i)?F(i.length):[];return ln(i,function(L){_[++p]=m?Ft(a,L,c):Hi(L,a,c)}),_}),F_=Zo(function(i,a,c){Fr(i,c,a)});function ia(i,a){var c=le(i)?Fe:Ul;return c(i,re(a,3))}function M_(i,a,c,p){return i==null?[]:(le(a)||(a=a==null?[]:[a]),c=p?e:c,le(c)||(c=c==null?[]:[c]),jl(i,a,c))}var k_=Zo(function(i,a,c){i[c?0:1].push(a)},function(){return[[],[]]});function $_(i,a,c){var p=le(i)?is:pl,m=arguments.length<3;return p(i,re(a,4),c,m,ln)}function U_(i,a,c){var p=le(i)?Qv:pl,m=arguments.length<3;return p(i,re(a,4),c,m,Dl)}function B_(i,a){var c=le(i)?an:Nl;return c(i,sa(re(a,3)))}function W_(i){var a=le(i)?Rl:Ny;return a(i)}function z_(i,a,c){(c?mt(i,a,c):a===e)?a=1:a=de(a);var p=le(i)?hy:Gy;return p(i,a)}function j_(i){var a=le(i)?dy:My;return a(i)}function H_(i){if(i==null)return 0;if(Ct(i))return ca(i)?ni(i):i.length;var a=lt(i);return a==St||a==gt?i.size:xs(i).length}function q_(i,a,c){var p=le(i)?os:ky;return c&&mt(i,a,c)&&(a=e),p(i,re(a,3))}var Y_=ve(function(i,a){if(i==null)return[];var c=a.length;return c>1&&mt(i,a[0],a[1])?a=[]:c>2&&mt(a[0],a[1],a[2])&&(a=[a[0]]),jl(i,st(a,1),[])}),oa=Tm||function(){return at.Date.now()};function V_(i,a){if(typeof a!="function")throw new qt(u);return i=de(i),function(){if(--i<1)return a.apply(this,arguments)}}function kh(i,a,c){return a=c?e:a,a=i&&a==null?i.length:a,Mr(i,G,e,e,e,e,a)}function $h(i,a){var c;if(typeof a!="function")throw new qt(u);return i=de(i),function(){return--i>0&&(c=a.apply(this,arguments)),i<=1&&(a=e),c}}var Ys=ve(function(i,a,c){var p=A;if(c.length){var m=un(c,hi(Ys));p|=E}return Mr(i,p,a,c,m)}),Uh=ve(function(i,a,c){var p=A|R;if(c.length){var m=un(c,hi(Uh));p|=E}return Mr(a,p,i,c,m)});function Bh(i,a,c){a=c?e:a;var p=Mr(i,S,e,e,e,e,e,a);return p.placeholder=Bh.placeholder,p}function Wh(i,a,c){a=c?e:a;var p=Mr(i,C,e,e,e,e,e,a);return p.placeholder=Wh.placeholder,p}function zh(i,a,c){var p,m,_,L,P,N,U=0,B=!1,z=!1,q=!0;if(typeof i!="function")throw new qt(u);a=Xt(a)||0,$e(c)&&(B=!!c.leading,z="maxWait"in c,_=z?et(Xt(c.maxWait)||0,a):_,q="trailing"in c?!!c.trailing:q);function X(Ye){var fr=p,Wr=m;return p=m=e,U=Ye,L=i.apply(Wr,fr),L}function oe(Ye){return U=Ye,P=Ki(ye,a),B?X(Ye):L}function pe(Ye){var fr=Ye-N,Wr=Ye-U,ud=a-fr;return z?ct(ud,_-Wr):ud}function ae(Ye){var fr=Ye-N,Wr=Ye-U;return N===e||fr>=a||fr<0||z&&Wr>=_}function ye(){var Ye=oa();if(ae(Ye))return we(Ye);P=Ki(ye,pe(Ye))}function we(Ye){return P=e,q&&p?X(Ye):(p=m=e,L)}function Ut(){P!==e&&Jl(P),U=0,p=N=m=P=e}function yt(){return P===e?L:we(oa())}function Bt(){var Ye=oa(),fr=ae(Ye);if(p=arguments,m=this,N=Ye,fr){if(P===e)return oe(N);if(z)return Jl(P),P=Ki(ye,a),X(N)}return P===e&&(P=Ki(ye,a)),L}return Bt.cancel=Ut,Bt.flush=yt,Bt}var Z_=ve(function(i,a){return Ol(i,1,a)}),K_=ve(function(i,a,c){return Ol(i,Xt(a)||0,c)});function X_(i){return Mr(i,D)}function aa(i,a){if(typeof i!="function"||a!=null&&typeof a!="function")throw new qt(u);var c=function(){var p=arguments,m=a?a.apply(this,p):p[0],_=c.cache;if(_.has(m))return _.get(m);var L=i.apply(this,p);return c.cache=_.set(m,L)||_,L};return c.cache=new(aa.Cache||Gr),c}aa.Cache=Gr;function sa(i){if(typeof i!="function")throw new qt(u);return function(){var a=arguments;switch(a.length){case 0:return!i.call(this);case 1:return!i.call(this,a[0]);case 2:return!i.call(this,a[0],a[1]);case 3:return!i.call(this,a[0],a[1],a[2])}return!i.apply(this,a)}}function Q_(i){return $h(2,i)}var J_=$y(function(i,a){a=a.length==1&&le(a[0])?Fe(a[0],Mt(re())):Fe(st(a,1),Mt(re()));var c=a.length;return ve(function(p){for(var m=-1,_=ct(p.length,c);++m<_;)p[m]=a[m].call(this,p[m]);return Ft(i,this,p)})}),Vs=ve(function(i,a){var c=un(a,hi(Vs));return Mr(i,E,e,a,c)}),jh=ve(function(i,a){var c=un(a,hi(jh));return Mr(i,I,e,a,c)}),ew=kr(function(i,a){return Mr(i,M,e,e,e,a)});function tw(i,a){if(typeof i!="function")throw new qt(u);return a=a===e?a:de(a),ve(i,a)}function rw(i,a){if(typeof i!="function")throw new qt(u);return a=a==null?0:et(de(a),0),ve(function(c){var p=c[a],m=fn(c,0,a);return p&&sn(m,p),Ft(i,this,m)})}function nw(i,a,c){var p=!0,m=!0;if(typeof i!="function")throw new qt(u);return $e(c)&&(p="leading"in c?!!c.leading:p,m="trailing"in c?!!c.trailing:m),zh(i,a,{leading:p,maxWait:a,trailing:m})}function iw(i){return kh(i,1)}function ow(i,a){return Vs(Os(a),i)}function aw(){if(!arguments.length)return[];var i=arguments[0];return le(i)?i:[i]}function sw(i){return Vt(i,y)}function uw(i,a){return a=typeof a=="function"?a:e,Vt(i,y,a)}function cw(i){return Vt(i,v|y)}function lw(i,a){return a=typeof a=="function"?a:e,Vt(i,v|y,a)}function hw(i,a){return a==null||Il(i,a,it(a))}function dr(i,a){return i===a||i!==i&&a!==a}var dw=Jo(_s),fw=Jo(function(i,a){return i>=a}),Wn=Ml(function(){return arguments}())?Ml:function(i){return We(i)&&Pe.call(i,"callee")&&!xl.call(i,"callee")},le=F.isArray,pw=il?Mt(il):Ey;function Ct(i){return i!=null&&ua(i.length)&&!Ur(i)}function qe(i){return We(i)&&Ct(i)}function gw(i){return i===!0||i===!1||We(i)&&vt(i)==zt}var pn=Rm||ou,vw=ol?Mt(ol):xy;function mw(i){return We(i)&&i.nodeType===1&&!Xi(i)}function yw(i){if(i==null)return!0;if(Ct(i)&&(le(i)||typeof i=="string"||typeof i.splice=="function"||pn(i)||di(i)||Wn(i)))return!i.length;var a=lt(i);if(a==St||a==gt)return!i.size;if(Zi(i))return!xs(i).length;for(var c in i)if(Pe.call(i,c))return!1;return!0}function bw(i,a){return qi(i,a)}function _w(i,a,c){c=typeof c=="function"?c:e;var p=c?c(i,a):e;return p===e?qi(i,a,e,c):!!p}function Zs(i){if(!We(i))return!1;var a=vt(i);return a==Xn||a==Kn||typeof i.message=="string"&&typeof i.name=="string"&&!Xi(i)}function ww(i){return typeof i=="number"&&Ll(i)}function Ur(i){if(!$e(i))return!1;var a=vt(i);return a==Tn||a==yo||a==Sn||a==_o}function Hh(i){return typeof i=="number"&&i==de(i)}function ua(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=He}function $e(i){var a=typeof i;return i!=null&&(a=="object"||a=="function")}function We(i){return i!=null&&typeof i=="object"}var qh=al?Mt(al):Ly;function Ew(i,a){return i===a||Es(i,a,$s(a))}function xw(i,a,c){return c=typeof c=="function"?c:e,Es(i,a,$s(a),c)}function Aw(i){return Yh(i)&&i!=+i}function Lw(i){if(ub(i))throw new ce(s);return kl(i)}function Sw(i){return i===null}function Tw(i){return i==null}function Yh(i){return typeof i=="number"||We(i)&&vt(i)==Cn}function Xi(i){if(!We(i)||vt(i)!=Qe)return!1;var a=Go(i);if(a===null)return!0;var c=Pe.call(a,"constructor")&&a.constructor;return typeof c=="function"&&c instanceof c&&Io.call(c)==xm}var Ks=sl?Mt(sl):Sy;function Cw(i){return Hh(i)&&i>=-9007199254740991&&i<=He}var Vh=ul?Mt(ul):Ty;function ca(i){return typeof i=="string"||!le(i)&&We(i)&&vt(i)==nn}function $t(i){return typeof i=="symbol"||We(i)&&vt(i)==Rn}var di=cl?Mt(cl):Cy;function Rw(i){return i===e}function Pw(i){return We(i)&&lt(i)==Pn}function Iw(i){return We(i)&&vt(i)==Ya}var Ow=Jo(As),Dw=Jo(function(i,a){return i<=a});function Zh(i){if(!i)return[];if(Ct(i))return ca(i)?lr(i):Tt(i);if(ki&&i[ki])return hm(i[ki]());var a=lt(i),c=a==St?hs:a==gt?Co:fi;return c(i)}function Br(i){if(!i)return i===0?i:0;if(i=Xt(i),i===ke||i===-1/0){var a=i<0?-1:1;return a*Ze}return i===i?i:0}function de(i){var a=Br(i),c=a%1;return a===a?c?a-c:a:0}function Kh(i){return i?kn(de(i),0,ge):0}function Xt(i){if(typeof i=="number")return i;if($t(i))return J;if($e(i)){var a=typeof i.valueOf=="function"?i.valueOf():i;i=$e(a)?a+"":a}if(typeof i!="string")return i===0?i:+i;i=gl(i);var c=pv.test(i);return c||vv.test(i)?Vv(i.slice(2),c?2:8):fv.test(i)?J:+i}function Xh(i){return xr(i,Rt(i))}function Nw(i){return i?kn(de(i),-9007199254740991,He):i===0?i:0}function Ce(i){return i==null?"":kt(i)}var Gw=ci(function(i,a){if(Zi(a)||Ct(a)){xr(a,it(a),i);return}for(var c in a)Pe.call(a,c)&&zi(i,c,a[c])}),Qh=ci(function(i,a){xr(a,Rt(a),i)}),la=ci(function(i,a,c,p){xr(a,Rt(a),i,p)}),Fw=ci(function(i,a,c,p){xr(a,it(a),i,p)}),Mw=kr(ms);function kw(i,a){var c=ui(i);return a==null?c:Pl(c,a)}var $w=ve(function(i,a){i=Ie(i);var c=-1,p=a.length,m=p>2?a[2]:e;for(m&&mt(a[0],a[1],m)&&(p=1);++c<p;)for(var _=a[c],L=Rt(_),P=-1,N=L.length;++P<N;){var U=L[P],B=i[U];(B===e||dr(B,oi[U])&&!Pe.call(i,U))&&(i[U]=_[U])}return i}),Uw=ve(function(i){return i.push(e,gh),Ft(Jh,e,i)});function Bw(i,a){return hl(i,re(a,3),Er)}function Ww(i,a){return hl(i,re(a,3),bs)}function zw(i,a){return i==null?i:ys(i,re(a,3),Rt)}function jw(i,a){return i==null?i:Gl(i,re(a,3),Rt)}function Hw(i,a){return i&&Er(i,re(a,3))}function qw(i,a){return i&&bs(i,re(a,3))}function Yw(i){return i==null?[]:Ho(i,it(i))}function Vw(i){return i==null?[]:Ho(i,Rt(i))}function Xs(i,a,c){var p=i==null?e:$n(i,a);return p===e?c:p}function Zw(i,a){return i!=null&&yh(i,a,yy)}function Qs(i,a){return i!=null&&yh(i,a,by)}var Kw=lh(function(i,a,c){a!=null&&typeof a.toString!="function"&&(a=Oo.call(a)),i[a]=c},eu(Pt)),Xw=lh(function(i,a,c){a!=null&&typeof a.toString!="function"&&(a=Oo.call(a)),Pe.call(i,a)?i[a].push(c):i[a]=[c]},re),Qw=ve(Hi);function it(i){return Ct(i)?Cl(i):xs(i)}function Rt(i){return Ct(i)?Cl(i,!0):Ry(i)}function Jw(i,a){var c={};return a=re(a,3),Er(i,function(p,m,_){Fr(c,a(p,m,_),p)}),c}function e0(i,a){var c={};return a=re(a,3),Er(i,function(p,m,_){Fr(c,m,a(p,m,_))}),c}var t0=ci(function(i,a,c){qo(i,a,c)}),Jh=ci(function(i,a,c,p){qo(i,a,c,p)}),r0=kr(function(i,a){var c={};if(i==null)return c;var p=!1;a=Fe(a,function(_){return _=dn(_,i),p||(p=_.length>1),_}),xr(i,Ms(i),c),p&&(c=Vt(c,v|f|y,Ky));for(var m=a.length;m--;)Rs(c,a[m]);return c});function n0(i,a){return ed(i,sa(re(a)))}var i0=kr(function(i,a){return i==null?{}:Iy(i,a)});function ed(i,a){if(i==null)return{};var c=Fe(Ms(i),function(p){return[p]});return a=re(a),Hl(i,c,function(p,m){return a(p,m[0])})}function o0(i,a,c){a=dn(a,i);var p=-1,m=a.length;for(m||(m=1,i=e);++p<m;){var _=i==null?e:i[Ar(a[p])];_===e&&(p=m,_=c),i=Ur(_)?_.call(i):_}return i}function a0(i,a,c){return i==null?i:Yi(i,a,c)}function s0(i,a,c,p){return p=typeof p=="function"?p:e,i==null?i:Yi(i,a,c,p)}var td=fh(it),rd=fh(Rt);function u0(i,a,c){var p=le(i),m=p||pn(i)||di(i);if(a=re(a,4),c==null){var _=i&&i.constructor;m?c=p?new _:[]:$e(i)?c=Ur(_)?ui(Go(i)):{}:c={}}return(m?Ht:Er)(i,function(L,P,N){return a(c,L,P,N)}),c}function c0(i,a){return i==null?!0:Rs(i,a)}function l0(i,a,c){return i==null?i:Kl(i,a,Os(c))}function h0(i,a,c,p){return p=typeof p=="function"?p:e,i==null?i:Kl(i,a,Os(c),p)}function fi(i){return i==null?[]:ls(i,it(i))}function d0(i){return i==null?[]:ls(i,Rt(i))}function f0(i,a,c){return c===e&&(c=a,a=e),c!==e&&(c=Xt(c),c=c===c?c:0),a!==e&&(a=Xt(a),a=a===a?a:0),kn(Xt(i),a,c)}function p0(i,a,c){return a=Br(a),c===e?(c=a,a=0):c=Br(c),i=Xt(i),_y(i,a,c)}function g0(i,a,c){if(c&&typeof c!="boolean"&&mt(i,a,c)&&(a=c=e),c===e&&(typeof a=="boolean"?(c=a,a=e):typeof i=="boolean"&&(c=i,i=e)),i===e&&a===e?(i=0,a=1):(i=Br(i),a===e?(a=i,i=0):a=Br(a)),i>a){var p=i;i=a,a=p}if(c||i%1||a%1){var m=Sl();return ct(i+m*(a-i+Yv("1e-"+((m+"").length-1))),a)}return Ss(i,a)}var v0=li(function(i,a,c){return a=a.toLowerCase(),i+(c?nd(a):a)});function nd(i){return Js(Ce(i).toLowerCase())}function id(i){return i=Ce(i),i&&i.replace(yv,am).replace(Mv,"")}function m0(i,a,c){i=Ce(i),a=kt(a);var p=i.length;c=c===e?p:kn(de(c),0,p);var m=c;return c-=a.length,c>=0&&i.slice(c,m)==a}function y0(i){return i=Ce(i),i&&Fi.test(i)?i.replace(wo,sm):i}function b0(i){return i=Ce(i),i&&iv.test(i)?i.replace(Va,"\\$&"):i}var _0=li(function(i,a,c){return i+(c?"-":"")+a.toLowerCase()}),w0=li(function(i,a,c){return i+(c?" ":"")+a.toLowerCase()}),E0=sh("toLowerCase");function x0(i,a,c){i=Ce(i),a=de(a);var p=a?ni(i):0;if(!a||p>=a)return i;var m=(a-p)/2;return Qo($o(m),c)+i+Qo(ko(m),c)}function A0(i,a,c){i=Ce(i),a=de(a);var p=a?ni(i):0;return a&&p<a?i+Qo(a-p,c):i}function L0(i,a,c){i=Ce(i),a=de(a);var p=a?ni(i):0;return a&&p<a?Qo(a-p,c)+i:i}function S0(i,a,c){return c||a==null?a=0:a&&(a=+a),Dm(Ce(i).replace(Za,""),a||0)}function T0(i,a,c){return(c?mt(i,a,c):a===e)?a=1:a=de(a),Ts(Ce(i),a)}function C0(){var i=arguments,a=Ce(i[0]);return i.length<3?a:a.replace(i[1],i[2])}var R0=li(function(i,a,c){return i+(c?"_":"")+a.toLowerCase()});function P0(i,a,c){return c&&typeof c!="number"&&mt(i,a,c)&&(a=c=e),c=c===e?ge:c>>>0,c?(i=Ce(i),i&&(typeof a=="string"||a!=null&&!Ks(a))&&(a=kt(a),!a&&ri(i))?fn(lr(i),0,c):i.split(a,c)):[]}var I0=li(function(i,a,c){return i+(c?" ":"")+Js(a)});function O0(i,a,c){return i=Ce(i),c=c==null?0:kn(de(c),0,i.length),a=kt(a),i.slice(c,c+a.length)==a}function D0(i,a,c){var p=b.templateSettings;c&&mt(i,a,c)&&(a=e),i=Ce(i),a=la({},a,p,ph);var m=la({},a.imports,p.imports,ph),_=it(m),L=ls(m,_),P,N,U=0,B=a.interpolate||xo,z="__p += '",q=ds((a.escape||xo).source+"|"+B.source+"|"+(B===Fc?dv:xo).source+"|"+(a.evaluate||xo).source+"|$","g"),X="//# sourceURL="+(Pe.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Wv+"]")+`
`;i.replace(q,function(ae,ye,we,Ut,yt,Bt){return we||(we=Ut),z+=i.slice(U,Bt).replace(bv,um),ye&&(P=!0,z+=`' +
__e(`+ye+`) +
'`),yt&&(N=!0,z+=`';
`+yt+`;
__p += '`),we&&(z+=`' +
((__t = (`+we+`)) == null ? '' : __t) +
'`),U=Bt+ae.length,ae}),z+=`';
`;var oe=Pe.call(a,"variable")&&a.variable;if(!oe)z=`with (obj) {
`+z+`
}
`;else if(lv.test(oe))throw new ce(l);z=(N?z.replace(Ee,""):z).replace(nt,"$1").replace(wr,"$1;"),z="function("+(oe||"obj")+`) {
`+(oe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(P?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+z+`return __p
}`;var pe=ad(function(){return Ae(_,X+"return "+z).apply(e,L)});if(pe.source=z,Zs(pe))throw pe;return pe}function N0(i){return Ce(i).toLowerCase()}function G0(i){return Ce(i).toUpperCase()}function F0(i,a,c){if(i=Ce(i),i&&(c||a===e))return gl(i);if(!i||!(a=kt(a)))return i;var p=lr(i),m=lr(a),_=vl(p,m),L=ml(p,m)+1;return fn(p,_,L).join("")}function M0(i,a,c){if(i=Ce(i),i&&(c||a===e))return i.slice(0,bl(i)+1);if(!i||!(a=kt(a)))return i;var p=lr(i),m=ml(p,lr(a))+1;return fn(p,0,m).join("")}function k0(i,a,c){if(i=Ce(i),i&&(c||a===e))return i.replace(Za,"");if(!i||!(a=kt(a)))return i;var p=lr(i),m=vl(p,lr(a));return fn(p,m).join("")}function $0(i,a){var c=ee,p=se;if($e(a)){var m="separator"in a?a.separator:m;c="length"in a?de(a.length):c,p="omission"in a?kt(a.omission):p}i=Ce(i);var _=i.length;if(ri(i)){var L=lr(i);_=L.length}if(c>=_)return i;var P=c-ni(p);if(P<1)return p;var N=L?fn(L,0,P).join(""):i.slice(0,P);if(m===e)return N+p;if(L&&(P+=N.length-P),Ks(m)){if(i.slice(P).search(m)){var U,B=N;for(m.global||(m=ds(m.source,Ce(Mc.exec(m))+"g")),m.lastIndex=0;U=m.exec(B);)var z=U.index;N=N.slice(0,z===e?P:z)}}else if(i.indexOf(kt(m),P)!=P){var q=N.lastIndexOf(m);q>-1&&(N=N.slice(0,q))}return N+p}function U0(i){return i=Ce(i),i&&Eo.test(i)?i.replace(Dn,gm):i}var B0=li(function(i,a,c){return i+(c?" ":"")+a.toUpperCase()}),Js=sh("toUpperCase");function od(i,a,c){return i=Ce(i),a=c?e:a,a===e?lm(i)?ym(i):tm(i):i.match(a)||[]}var ad=ve(function(i,a){try{return Ft(i,e,a)}catch(c){return Zs(c)?c:new ce(c)}}),W0=kr(function(i,a){return Ht(a,function(c){c=Ar(c),Fr(i,c,Ys(i[c],i))}),i});function z0(i){var a=i==null?0:i.length,c=re();return i=a?Fe(i,function(p){if(typeof p[1]!="function")throw new qt(u);return[c(p[0]),p[1]]}):[],ve(function(p){for(var m=-1;++m<a;){var _=i[m];if(Ft(_[0],this,p))return Ft(_[1],this,p)}})}function j0(i){return gy(Vt(i,v))}function eu(i){return function(){return i}}function H0(i,a){return i==null||i!==i?a:i}var q0=ch(),Y0=ch(!0);function Pt(i){return i}function tu(i){return $l(typeof i=="function"?i:Vt(i,v))}function V0(i){return Bl(Vt(i,v))}function Z0(i,a){return Wl(i,Vt(a,v))}var K0=ve(function(i,a){return function(c){return Hi(c,i,a)}}),X0=ve(function(i,a){return function(c){return Hi(i,c,a)}});function ru(i,a,c){var p=it(a),m=Ho(a,p);c==null&&!($e(a)&&(m.length||!p.length))&&(c=a,a=i,i=this,m=Ho(a,it(a)));var _=!($e(c)&&"chain"in c)||!!c.chain,L=Ur(i);return Ht(m,function(P){var N=a[P];i[P]=N,L&&(i.prototype[P]=function(){var U=this.__chain__;if(_||U){var B=i(this.__wrapped__),z=B.__actions__=Tt(this.__actions__);return z.push({func:N,args:arguments,thisArg:i}),B.__chain__=U,B}return N.apply(i,sn([this.value()],arguments))})}),i}function Q0(){return at._===this&&(at._=Am),this}function nu(){}function J0(i){return i=de(i),ve(function(a){return zl(a,i)})}var eE=Ns(Fe),tE=Ns(ll),rE=Ns(os);function sd(i){return Bs(i)?as(Ar(i)):Oy(i)}function nE(i){return function(a){return i==null?e:$n(i,a)}}var iE=hh(),oE=hh(!0);function iu(){return[]}function ou(){return!1}function aE(){return{}}function sE(){return""}function uE(){return!0}function cE(i,a){if(i=de(i),i<1||i>He)return[];var c=ge,p=ct(i,ge);a=re(a),i-=ge;for(var m=cs(p,a);++c<i;)a(c);return m}function lE(i){return le(i)?Fe(i,Ar):$t(i)?[i]:Tt(Th(Ce(i)))}function hE(i){var a=++Em;return Ce(i)+a}var dE=Xo(function(i,a){return i+a},0),fE=Gs("ceil"),pE=Xo(function(i,a){return i/a},1),gE=Gs("floor");function vE(i){return i&&i.length?jo(i,Pt,_s):e}function mE(i,a){return i&&i.length?jo(i,re(a,2),_s):e}function yE(i){return fl(i,Pt)}function bE(i,a){return fl(i,re(a,2))}function _E(i){return i&&i.length?jo(i,Pt,As):e}function wE(i,a){return i&&i.length?jo(i,re(a,2),As):e}var EE=Xo(function(i,a){return i*a},1),xE=Gs("round"),AE=Xo(function(i,a){return i-a},0);function LE(i){return i&&i.length?us(i,Pt):0}function SE(i,a){return i&&i.length?us(i,re(a,2)):0}return b.after=V_,b.ary=kh,b.assign=Gw,b.assignIn=Qh,b.assignInWith=la,b.assignWith=Fw,b.at=Mw,b.before=$h,b.bind=Ys,b.bindAll=W0,b.bindKey=Uh,b.castArray=aw,b.chain=Gh,b.chunk=gb,b.compact=vb,b.concat=mb,b.cond=z0,b.conforms=j0,b.constant=eu,b.countBy=L_,b.create=kw,b.curry=Bh,b.curryRight=Wh,b.debounce=zh,b.defaults=$w,b.defaultsDeep=Uw,b.defer=Z_,b.delay=K_,b.difference=yb,b.differenceBy=bb,b.differenceWith=_b,b.drop=wb,b.dropRight=Eb,b.dropRightWhile=xb,b.dropWhile=Ab,b.fill=Lb,b.filter=T_,b.flatMap=P_,b.flatMapDeep=I_,b.flatMapDepth=O_,b.flatten=Ih,b.flattenDeep=Sb,b.flattenDepth=Tb,b.flip=X_,b.flow=q0,b.flowRight=Y0,b.fromPairs=Cb,b.functions=Yw,b.functionsIn=Vw,b.groupBy=D_,b.initial=Pb,b.intersection=Ib,b.intersectionBy=Ob,b.intersectionWith=Db,b.invert=Kw,b.invertBy=Xw,b.invokeMap=G_,b.iteratee=tu,b.keyBy=F_,b.keys=it,b.keysIn=Rt,b.map=ia,b.mapKeys=Jw,b.mapValues=e0,b.matches=V0,b.matchesProperty=Z0,b.memoize=aa,b.merge=t0,b.mergeWith=Jh,b.method=K0,b.methodOf=X0,b.mixin=ru,b.negate=sa,b.nthArg=J0,b.omit=r0,b.omitBy=n0,b.once=Q_,b.orderBy=M_,b.over=eE,b.overArgs=J_,b.overEvery=tE,b.overSome=rE,b.partial=Vs,b.partialRight=jh,b.partition=k_,b.pick=i0,b.pickBy=ed,b.property=sd,b.propertyOf=nE,b.pull=Mb,b.pullAll=Dh,b.pullAllBy=kb,b.pullAllWith=$b,b.pullAt=Ub,b.range=iE,b.rangeRight=oE,b.rearg=ew,b.reject=B_,b.remove=Bb,b.rest=tw,b.reverse=Hs,b.sampleSize=z_,b.set=a0,b.setWith=s0,b.shuffle=j_,b.slice=Wb,b.sortBy=Y_,b.sortedUniq=Zb,b.sortedUniqBy=Kb,b.split=P0,b.spread=rw,b.tail=Xb,b.take=Qb,b.takeRight=Jb,b.takeRightWhile=e_,b.takeWhile=t_,b.tap=v_,b.throttle=nw,b.thru=na,b.toArray=Zh,b.toPairs=td,b.toPairsIn=rd,b.toPath=lE,b.toPlainObject=Xh,b.transform=u0,b.unary=iw,b.union=r_,b.unionBy=n_,b.unionWith=i_,b.uniq=o_,b.uniqBy=a_,b.uniqWith=s_,b.unset=c0,b.unzip=qs,b.unzipWith=Nh,b.update=l0,b.updateWith=h0,b.values=fi,b.valuesIn=d0,b.without=u_,b.words=od,b.wrap=ow,b.xor=c_,b.xorBy=l_,b.xorWith=h_,b.zip=d_,b.zipObject=f_,b.zipObjectDeep=p_,b.zipWith=g_,b.entries=td,b.entriesIn=rd,b.extend=Qh,b.extendWith=la,ru(b,b),b.add=dE,b.attempt=ad,b.camelCase=v0,b.capitalize=nd,b.ceil=fE,b.clamp=f0,b.clone=sw,b.cloneDeep=cw,b.cloneDeepWith=lw,b.cloneWith=uw,b.conformsTo=hw,b.deburr=id,b.defaultTo=H0,b.divide=pE,b.endsWith=m0,b.eq=dr,b.escape=y0,b.escapeRegExp=b0,b.every=S_,b.find=C_,b.findIndex=Rh,b.findKey=Bw,b.findLast=R_,b.findLastIndex=Ph,b.findLastKey=Ww,b.floor=gE,b.forEach=Fh,b.forEachRight=Mh,b.forIn=zw,b.forInRight=jw,b.forOwn=Hw,b.forOwnRight=qw,b.get=Xs,b.gt=dw,b.gte=fw,b.has=Zw,b.hasIn=Qs,b.head=Oh,b.identity=Pt,b.includes=N_,b.indexOf=Rb,b.inRange=p0,b.invoke=Qw,b.isArguments=Wn,b.isArray=le,b.isArrayBuffer=pw,b.isArrayLike=Ct,b.isArrayLikeObject=qe,b.isBoolean=gw,b.isBuffer=pn,b.isDate=vw,b.isElement=mw,b.isEmpty=yw,b.isEqual=bw,b.isEqualWith=_w,b.isError=Zs,b.isFinite=ww,b.isFunction=Ur,b.isInteger=Hh,b.isLength=ua,b.isMap=qh,b.isMatch=Ew,b.isMatchWith=xw,b.isNaN=Aw,b.isNative=Lw,b.isNil=Tw,b.isNull=Sw,b.isNumber=Yh,b.isObject=$e,b.isObjectLike=We,b.isPlainObject=Xi,b.isRegExp=Ks,b.isSafeInteger=Cw,b.isSet=Vh,b.isString=ca,b.isSymbol=$t,b.isTypedArray=di,b.isUndefined=Rw,b.isWeakMap=Pw,b.isWeakSet=Iw,b.join=Nb,b.kebabCase=_0,b.last=Kt,b.lastIndexOf=Gb,b.lowerCase=w0,b.lowerFirst=E0,b.lt=Ow,b.lte=Dw,b.max=vE,b.maxBy=mE,b.mean=yE,b.meanBy=bE,b.min=_E,b.minBy=wE,b.stubArray=iu,b.stubFalse=ou,b.stubObject=aE,b.stubString=sE,b.stubTrue=uE,b.multiply=EE,b.nth=Fb,b.noConflict=Q0,b.noop=nu,b.now=oa,b.pad=x0,b.padEnd=A0,b.padStart=L0,b.parseInt=S0,b.random=g0,b.reduce=$_,b.reduceRight=U_,b.repeat=T0,b.replace=C0,b.result=o0,b.round=xE,b.runInContext=O,b.sample=W_,b.size=H_,b.snakeCase=R0,b.some=q_,b.sortedIndex=zb,b.sortedIndexBy=jb,b.sortedIndexOf=Hb,b.sortedLastIndex=qb,b.sortedLastIndexBy=Yb,b.sortedLastIndexOf=Vb,b.startCase=I0,b.startsWith=O0,b.subtract=AE,b.sum=LE,b.sumBy=SE,b.template=D0,b.times=cE,b.toFinite=Br,b.toInteger=de,b.toLength=Kh,b.toLower=N0,b.toNumber=Xt,b.toSafeInteger=Nw,b.toString=Ce,b.toUpper=G0,b.trim=F0,b.trimEnd=M0,b.trimStart=k0,b.truncate=$0,b.unescape=U0,b.uniqueId=hE,b.upperCase=B0,b.upperFirst=Js,b.each=Fh,b.eachRight=Mh,b.first=Oh,ru(b,function(){var i={};return Er(b,function(a,c){Pe.call(b.prototype,c)||(i[c]=a)}),i}(),{chain:!1}),b.VERSION=n,Ht(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){b[i].placeholder=b}),Ht(["drop","take"],function(i,a){_e.prototype[i]=function(c){c=c===e?1:et(de(c),0);var p=this.__filtered__&&!a?new _e(this):this.clone();return p.__filtered__?p.__takeCount__=ct(c,p.__takeCount__):p.__views__.push({size:ct(c,ge),type:i+(p.__dir__<0?"Right":"")}),p},_e.prototype[i+"Right"]=function(c){return this.reverse()[i](c).reverse()}}),Ht(["filter","map","takeWhile"],function(i,a){var c=a+1,p=c==te||c==Me;_e.prototype[i]=function(m){var _=this.clone();return _.__iteratees__.push({iteratee:re(m,3),type:c}),_.__filtered__=_.__filtered__||p,_}}),Ht(["head","last"],function(i,a){var c="take"+(a?"Right":"");_e.prototype[i]=function(){return this[c](1).value()[0]}}),Ht(["initial","tail"],function(i,a){var c="drop"+(a?"":"Right");_e.prototype[i]=function(){return this.__filtered__?new _e(this):this[c](1)}}),_e.prototype.compact=function(){return this.filter(Pt)},_e.prototype.find=function(i){return this.filter(i).head()},_e.prototype.findLast=function(i){return this.reverse().find(i)},_e.prototype.invokeMap=ve(function(i,a){return typeof i=="function"?new _e(this):this.map(function(c){return Hi(c,i,a)})}),_e.prototype.reject=function(i){return this.filter(sa(re(i)))},_e.prototype.slice=function(i,a){i=de(i);var c=this;return c.__filtered__&&(i>0||a<0)?new _e(c):(i<0?c=c.takeRight(-i):i&&(c=c.drop(i)),a!==e&&(a=de(a),c=a<0?c.dropRight(-a):c.take(a-i)),c)},_e.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},_e.prototype.toArray=function(){return this.take(ge)},Er(_e.prototype,function(i,a){var c=/^(?:filter|find|map|reject)|While$/.test(a),p=/^(?:head|last)$/.test(a),m=b[p?"take"+(a=="last"?"Right":""):a],_=p||/^find/.test(a);m&&(b.prototype[a]=function(){var L=this.__wrapped__,P=p?[1]:arguments,N=L instanceof _e,U=P[0],B=N||le(L),z=function(ye){var we=m.apply(b,sn([ye],P));return p&&q?we[0]:we};B&&c&&typeof U=="function"&&U.length!=1&&(N=B=!1);var q=this.__chain__,X=!!this.__actions__.length,oe=_&&!q,pe=N&&!X;if(!_&&B){L=pe?L:new _e(this);var ae=i.apply(L,P);return ae.__actions__.push({func:na,args:[z],thisArg:e}),new Yt(ae,q)}return oe&&pe?i.apply(this,P):(ae=this.thru(z),oe?p?ae.value()[0]:ae.value():ae)})}),Ht(["pop","push","shift","sort","splice","unshift"],function(i){var a=Ro[i],c=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",p=/^(?:pop|shift)$/.test(i);b.prototype[i]=function(){var m=arguments;if(p&&!this.__chain__){var _=this.value();return a.apply(le(_)?_:[],m)}return this[c](function(L){return a.apply(le(L)?L:[],m)})}}),Er(_e.prototype,function(i,a){var c=b[a];if(c){var p=c.name+"";Pe.call(si,p)||(si[p]=[]),si[p].push({name:a,func:c})}}),si[Ko(e,R).name]=[{name:"wrapper",func:e}],_e.prototype.clone=Um,_e.prototype.reverse=Bm,_e.prototype.value=Wm,b.prototype.at=m_,b.prototype.chain=y_,b.prototype.commit=b_,b.prototype.next=__,b.prototype.plant=E_,b.prototype.reverse=x_,b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=A_,b.prototype.first=b.prototype.head,ki&&(b.prototype[ki]=w_),b},ii=bm();Nn?((Nn.exports=ii)._=ii,ts._=ii):at._=ii}).call(H)})(Ca,Ca.exports);var b1=Ca.exports;function Ir(r){if(typeof r!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=r}typeof Symbol<"u"&&(Ir.prototype[Symbol.iterator]=function(){return this});Ir.of=function(){var r=arguments,t=r.length,e=0;return new Ir(function(){return e>=t?{done:!0}:{done:!1,value:r[e++]}})};Ir.empty=function(){var r=new Ir(function(){return{done:!0}});return r};Ir.fromSequence=function(r){var t=0,e=r.length;return new Ir(function(){return t>=e?{done:!0}:{done:!1,value:r[t++]}})};Ir.is=function(r){return r instanceof Ir?!0:typeof r=="object"&&r!==null&&typeof r.next=="function"};var ac=Ir;const or=Vn(ac);var sc={};sc.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u";sc.SYMBOL_SUPPORT=typeof Symbol<"u";var _1=ac,ep=sc,w1=ep.ARRAY_BUFFER_SUPPORT,E1=ep.SYMBOL_SUPPORT;function x1(r){return typeof r=="string"||Array.isArray(r)||w1&&ArrayBuffer.isView(r)?_1.fromSequence(r):typeof r!="object"||r===null?null:E1&&typeof r[Symbol.iterator]=="function"?r[Symbol.iterator]():typeof r.next=="function"?r:null}var tp=function(t){var e=x1(t);if(!e)throw new Error("obliterator: target is not iterable nor a valid iterator.");return e},A1=tp,L1=function(t,e){for(var n=arguments.length>1?e:1/0,o=n!==1/0?new Array(n):[],s,u=0,l=A1(t);;){if(u===n)return o;if(s=l.next(),s.done)return u!==e&&(o.length=u),o;o[u++]=s.value}};const rp=Vn(L1);var S1=ac,T1=tp,C1=function(){var t=arguments,e=null,n=-1;return new S1(function(){var s=null;do{if(e===null){if(n++,n>=t.length)return{done:!0};e=T1(t[n])}if(s=e.next(),s.done===!0){e=null;continue}break}while(!0);return s})};const en=Vn(C1);function R1(){const r=arguments[0];for(let t=1,e=arguments.length;t<e;t++)if(arguments[t])for(const n in arguments[t])r[n]=arguments[t][n];return r}let tt=R1;typeof Object.assign=="function"&&(tt=Object.assign);function nr(r,t,e,n){const o=r._nodes.get(t);let s=null;return o&&(n==="mixed"?s=o.out&&o.out[e]||o.undirected&&o.undirected[e]:n==="directed"?s=o.out&&o.out[e]:s=o.undirected&&o.undirected[e]),s}function ut(r){return typeof r=="object"&&r!==null}function np(r){let t;for(t in r)return!1;return!0}function Jt(r,t,e){Object.defineProperty(r,t,{enumerable:!1,configurable:!1,writable:!0,value:e})}function pr(r,t,e){const n={enumerable:!0,configurable:!0};typeof e=="function"?n.get=e:(n.value=e,n.writable=!1),Object.defineProperty(r,t,n)}function _d(r){return!(!ut(r)||r.attributes&&!Array.isArray(r.attributes))}function P1(){let r=Math.floor(Math.random()*256)&255;return()=>r++}class uc extends Error{constructor(t){super(),this.name="GraphError",this.message=t}}class Y extends uc{constructor(t){super(t),this.name="InvalidArgumentsGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Y.prototype.constructor)}}class j extends uc{constructor(t){super(t),this.name="NotFoundGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,j.prototype.constructor)}}class ne extends uc{constructor(t){super(t),this.name="UsageGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ne.prototype.constructor)}}function ip(r,t){this.key=r,this.attributes=t,this.clear()}ip.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}};function op(r,t){this.key=r,this.attributes=t,this.clear()}op.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}};function ap(r,t){this.key=r,this.attributes=t,this.clear()}ap.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}};function Ri(r,t,e,n,o){this.key=t,this.attributes=o,this.undirected=r,this.source=e,this.target=n}Ri.prototype.attach=function(){let r="out",t="in";this.undirected&&(r=t="undirected");const e=this.source.key,n=this.target.key;this.source[r][n]=this,!(this.undirected&&e===n)&&(this.target[t][e]=this)};Ri.prototype.attachMulti=function(){let r="out",t="in";const e=this.source.key,n=this.target.key;this.undirected&&(r=t="undirected");const o=this.source[r],s=o[n];if(typeof s>"u"){o[n]=this,this.undirected&&e===n||(this.target[t][e]=this);return}s.previous=this,this.next=s,o[n]=this,this.target[t][e]=this};Ri.prototype.detach=function(){const r=this.source.key,t=this.target.key;let e="out",n="in";this.undirected&&(e=n="undirected"),delete this.source[e][t],delete this.target[n][r]};Ri.prototype.detachMulti=function(){const r=this.source.key,t=this.target.key;let e="out",n="in";this.undirected&&(e=n="undirected"),this.previous===void 0?this.next===void 0?(delete this.source[e][t],delete this.target[n][r]):(this.next.previous=void 0,this.source[e][t]=this.next,this.target[n][r]=this.next):(this.previous.next=this.next,this.next!==void 0&&(this.next.previous=this.previous))};const sp=0,up=1,I1=2,cp=3;function rn(r,t,e,n,o,s,u){let l,h,d,g;if(n=""+n,e===sp){if(l=r._nodes.get(n),!l)throw new j(`Graph.${t}: could not find the "${n}" node in the graph.`);d=o,g=s}else if(e===cp){if(o=""+o,h=r._edges.get(o),!h)throw new j(`Graph.${t}: could not find the "${o}" edge in the graph.`);const v=h.source.key,f=h.target.key;if(n===v)l=h.target;else if(n===f)l=h.source;else throw new j(`Graph.${t}: the "${n}" node is not attached to the "${o}" edge (${v}, ${f}).`);d=s,g=u}else{if(h=r._edges.get(n),!h)throw new j(`Graph.${t}: could not find the "${n}" edge in the graph.`);e===up?l=h.source:l=h.target,d=o,g=s}return[l,d,g]}function O1(r,t,e){r.prototype[t]=function(n,o,s){const[u,l]=rn(this,t,e,n,o,s);return u.attributes[l]}}function D1(r,t,e){r.prototype[t]=function(n,o){const[s]=rn(this,t,e,n,o);return s.attributes}}function N1(r,t,e){r.prototype[t]=function(n,o,s){const[u,l]=rn(this,t,e,n,o,s);return u.attributes.hasOwnProperty(l)}}function G1(r,t,e){r.prototype[t]=function(n,o,s,u){const[l,h,d]=rn(this,t,e,n,o,s,u);return l.attributes[h]=d,this.emit("nodeAttributesUpdated",{key:l.key,type:"set",attributes:l.attributes,name:h}),this}}function F1(r,t,e){r.prototype[t]=function(n,o,s,u){const[l,h,d]=rn(this,t,e,n,o,s,u);if(typeof d!="function")throw new Y(`Graph.${t}: updater should be a function.`);const g=l.attributes,v=d(g[h]);return g[h]=v,this.emit("nodeAttributesUpdated",{key:l.key,type:"set",attributes:l.attributes,name:h}),this}}function M1(r,t,e){r.prototype[t]=function(n,o,s){const[u,l]=rn(this,t,e,n,o,s);return delete u.attributes[l],this.emit("nodeAttributesUpdated",{key:u.key,type:"remove",attributes:u.attributes,name:l}),this}}function k1(r,t,e){r.prototype[t]=function(n,o,s){const[u,l]=rn(this,t,e,n,o,s);if(!ut(l))throw new Y(`Graph.${t}: provided attributes are not a plain object.`);return u.attributes=l,this.emit("nodeAttributesUpdated",{key:u.key,type:"replace",attributes:u.attributes}),this}}function $1(r,t,e){r.prototype[t]=function(n,o,s){const[u,l]=rn(this,t,e,n,o,s);if(!ut(l))throw new Y(`Graph.${t}: provided attributes are not a plain object.`);return tt(u.attributes,l),this.emit("nodeAttributesUpdated",{key:u.key,type:"merge",attributes:u.attributes,data:l}),this}}function U1(r,t,e){r.prototype[t]=function(n,o,s){const[u,l]=rn(this,t,e,n,o,s);if(typeof l!="function")throw new Y(`Graph.${t}: provided updater is not a function.`);return u.attributes=l(u.attributes),this.emit("nodeAttributesUpdated",{key:u.key,type:"update",attributes:u.attributes}),this}}const B1=[{name:r=>`get${r}Attribute`,attacher:O1},{name:r=>`get${r}Attributes`,attacher:D1},{name:r=>`has${r}Attribute`,attacher:N1},{name:r=>`set${r}Attribute`,attacher:G1},{name:r=>`update${r}Attribute`,attacher:F1},{name:r=>`remove${r}Attribute`,attacher:M1},{name:r=>`replace${r}Attributes`,attacher:k1},{name:r=>`merge${r}Attributes`,attacher:$1},{name:r=>`update${r}Attributes`,attacher:U1}];function W1(r){B1.forEach(function({name:t,attacher:e}){e(r,t("Node"),sp),e(r,t("Source"),up),e(r,t("Target"),I1),e(r,t("Opposite"),cp)})}function z1(r,t,e){r.prototype[t]=function(n,o){let s;if(this.type!=="mixed"&&e!=="mixed"&&e!==this.type)throw new ne(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new ne(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const u=""+n,l=""+o;if(o=arguments[2],s=nr(this,u,l,e),!s)throw new j(`Graph.${t}: could not find an edge for the given path ("${u}" - "${l}").`)}else{if(e!=="mixed")throw new ne(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(n=""+n,s=this._edges.get(n),!s)throw new j(`Graph.${t}: could not find the "${n}" edge in the graph.`)}return s.attributes[o]}}function j1(r,t,e){r.prototype[t]=function(n){let o;if(this.type!=="mixed"&&e!=="mixed"&&e!==this.type)throw new ne(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>1){if(this.multi)throw new ne(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const s=""+n,u=""+arguments[1];if(o=nr(this,s,u,e),!o)throw new j(`Graph.${t}: could not find an edge for the given path ("${s}" - "${u}").`)}else{if(e!=="mixed")throw new ne(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(n=""+n,o=this._edges.get(n),!o)throw new j(`Graph.${t}: could not find the "${n}" edge in the graph.`)}return o.attributes}}function H1(r,t,e){r.prototype[t]=function(n,o){let s;if(this.type!=="mixed"&&e!=="mixed"&&e!==this.type)throw new ne(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new ne(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const u=""+n,l=""+o;if(o=arguments[2],s=nr(this,u,l,e),!s)throw new j(`Graph.${t}: could not find an edge for the given path ("${u}" - "${l}").`)}else{if(e!=="mixed")throw new ne(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(n=""+n,s=this._edges.get(n),!s)throw new j(`Graph.${t}: could not find the "${n}" edge in the graph.`)}return s.attributes.hasOwnProperty(o)}}function q1(r,t,e){r.prototype[t]=function(n,o,s){let u;if(this.type!=="mixed"&&e!=="mixed"&&e!==this.type)throw new ne(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new ne(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const l=""+n,h=""+o;if(o=arguments[2],s=arguments[3],u=nr(this,l,h,e),!u)throw new j(`Graph.${t}: could not find an edge for the given path ("${l}" - "${h}").`)}else{if(e!=="mixed")throw new ne(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(n=""+n,u=this._edges.get(n),!u)throw new j(`Graph.${t}: could not find the "${n}" edge in the graph.`)}return u.attributes[o]=s,this.emit("edgeAttributesUpdated",{key:u.key,type:"set",attributes:u.attributes,name:o}),this}}function Y1(r,t,e){r.prototype[t]=function(n,o,s){let u;if(this.type!=="mixed"&&e!=="mixed"&&e!==this.type)throw new ne(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new ne(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const l=""+n,h=""+o;if(o=arguments[2],s=arguments[3],u=nr(this,l,h,e),!u)throw new j(`Graph.${t}: could not find an edge for the given path ("${l}" - "${h}").`)}else{if(e!=="mixed")throw new ne(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(n=""+n,u=this._edges.get(n),!u)throw new j(`Graph.${t}: could not find the "${n}" edge in the graph.`)}if(typeof s!="function")throw new Y(`Graph.${t}: updater should be a function.`);return u.attributes[o]=s(u.attributes[o]),this.emit("edgeAttributesUpdated",{key:u.key,type:"set",attributes:u.attributes,name:o}),this}}function V1(r,t,e){r.prototype[t]=function(n,o){let s;if(this.type!=="mixed"&&e!=="mixed"&&e!==this.type)throw new ne(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new ne(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const u=""+n,l=""+o;if(o=arguments[2],s=nr(this,u,l,e),!s)throw new j(`Graph.${t}: could not find an edge for the given path ("${u}" - "${l}").`)}else{if(e!=="mixed")throw new ne(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(n=""+n,s=this._edges.get(n),!s)throw new j(`Graph.${t}: could not find the "${n}" edge in the graph.`)}return delete s.attributes[o],this.emit("edgeAttributesUpdated",{key:s.key,type:"remove",attributes:s.attributes,name:o}),this}}function Z1(r,t,e){r.prototype[t]=function(n,o){let s;if(this.type!=="mixed"&&e!=="mixed"&&e!==this.type)throw new ne(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new ne(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const u=""+n,l=""+o;if(o=arguments[2],s=nr(this,u,l,e),!s)throw new j(`Graph.${t}: could not find an edge for the given path ("${u}" - "${l}").`)}else{if(e!=="mixed")throw new ne(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(n=""+n,s=this._edges.get(n),!s)throw new j(`Graph.${t}: could not find the "${n}" edge in the graph.`)}if(!ut(o))throw new Y(`Graph.${t}: provided attributes are not a plain object.`);return s.attributes=o,this.emit("edgeAttributesUpdated",{key:s.key,type:"replace",attributes:s.attributes}),this}}function K1(r,t,e){r.prototype[t]=function(n,o){let s;if(this.type!=="mixed"&&e!=="mixed"&&e!==this.type)throw new ne(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new ne(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const u=""+n,l=""+o;if(o=arguments[2],s=nr(this,u,l,e),!s)throw new j(`Graph.${t}: could not find an edge for the given path ("${u}" - "${l}").`)}else{if(e!=="mixed")throw new ne(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(n=""+n,s=this._edges.get(n),!s)throw new j(`Graph.${t}: could not find the "${n}" edge in the graph.`)}if(!ut(o))throw new Y(`Graph.${t}: provided attributes are not a plain object.`);return tt(s.attributes,o),this.emit("edgeAttributesUpdated",{key:s.key,type:"merge",attributes:s.attributes,data:o}),this}}function X1(r,t,e){r.prototype[t]=function(n,o){let s;if(this.type!=="mixed"&&e!=="mixed"&&e!==this.type)throw new ne(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new ne(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const u=""+n,l=""+o;if(o=arguments[2],s=nr(this,u,l,e),!s)throw new j(`Graph.${t}: could not find an edge for the given path ("${u}" - "${l}").`)}else{if(e!=="mixed")throw new ne(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(n=""+n,s=this._edges.get(n),!s)throw new j(`Graph.${t}: could not find the "${n}" edge in the graph.`)}if(typeof o!="function")throw new Y(`Graph.${t}: provided updater is not a function.`);return s.attributes=o(s.attributes),this.emit("edgeAttributesUpdated",{key:s.key,type:"update",attributes:s.attributes}),this}}const Q1=[{name:r=>`get${r}Attribute`,attacher:z1},{name:r=>`get${r}Attributes`,attacher:j1},{name:r=>`has${r}Attribute`,attacher:H1},{name:r=>`set${r}Attribute`,attacher:q1},{name:r=>`update${r}Attribute`,attacher:Y1},{name:r=>`remove${r}Attribute`,attacher:V1},{name:r=>`replace${r}Attributes`,attacher:Z1},{name:r=>`merge${r}Attributes`,attacher:K1},{name:r=>`update${r}Attributes`,attacher:X1}];function J1(r){Q1.forEach(function({name:t,attacher:e}){e(r,t("Edge"),"mixed"),e(r,t("DirectedEdge"),"directed"),e(r,t("UndirectedEdge"),"undirected")})}const eA=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function tA(r,t,e,n){let o=!1;for(const s in t){if(s===n)continue;const u=t[s];if(o=e(u.key,u.attributes,u.source.key,u.target.key,u.source.attributes,u.target.attributes,u.undirected),r&&o)return u.key}}function rA(r,t,e,n){let o,s,u,l=!1;for(const h in t)if(h!==n){o=t[h];do{if(s=o.source,u=o.target,l=e(o.key,o.attributes,s.key,u.key,s.attributes,u.attributes,o.undirected),r&&l)return o.key;o=o.next}while(o!==void 0)}}function pu(r,t){const e=Object.keys(r),n=e.length;let o,s=0;return new or(function(){do if(o)o=o.next;else{if(s>=n)return{done:!0};const l=e[s++];if(l===t){o=void 0;continue}o=r[l]}while(!o);return{done:!1,value:{edge:o.key,attributes:o.attributes,source:o.source.key,target:o.target.key,sourceAttributes:o.source.attributes,targetAttributes:o.target.attributes,undirected:o.undirected}}})}function nA(r,t,e,n){const o=t[e];if(!o)return;const s=o.source,u=o.target;if(n(o.key,o.attributes,s.key,u.key,s.attributes,u.attributes,o.undirected)&&r)return o.key}function iA(r,t,e,n){let o=t[e];if(!o)return;let s=!1;do{if(s=n(o.key,o.attributes,o.source.key,o.target.key,o.source.attributes,o.target.attributes,o.undirected),r&&s)return o.key;o=o.next}while(o!==void 0)}function gu(r,t){let e=r[t];return e.next!==void 0?new or(function(){if(!e)return{done:!0};const n={edge:e.key,attributes:e.attributes,source:e.source.key,target:e.target.key,sourceAttributes:e.source.attributes,targetAttributes:e.target.attributes,undirected:e.undirected};return e=e.next,{done:!1,value:n}}):or.of({edge:e.key,attributes:e.attributes,source:e.source.key,target:e.target.key,sourceAttributes:e.source.attributes,targetAttributes:e.target.attributes,undirected:e.undirected})}function oA(r,t){if(r.size===0)return[];if(t==="mixed"||t===r.type)return typeof Array.from=="function"?Array.from(r._edges.keys()):rp(r._edges.keys(),r._edges.size);const e=t==="undirected"?r.undirectedSize:r.directedSize,n=new Array(e),o=t==="undirected",s=r._edges.values();let u=0,l,h;for(;l=s.next(),l.done!==!0;)h=l.value,h.undirected===o&&(n[u++]=h.key);return n}function lp(r,t,e,n){if(t.size===0)return;const o=e!=="mixed"&&e!==t.type,s=e==="undirected";let u,l,h=!1;const d=t._edges.values();for(;u=d.next(),u.done!==!0;){if(l=u.value,o&&l.undirected!==s)continue;const{key:g,attributes:v,source:f,target:y}=l;if(h=n(g,v,f.key,y.key,f.attributes,y.attributes,l.undirected),r&&h)return g}}function aA(r,t){if(r.size===0)return or.empty();const e=t!=="mixed"&&t!==r.type,n=t==="undirected",o=r._edges.values();return new or(function(){let u,l;for(;;){if(u=o.next(),u.done)return u;if(l=u.value,!(e&&l.undirected!==n))break}return{value:{edge:l.key,attributes:l.attributes,source:l.source.key,target:l.target.key,sourceAttributes:l.source.attributes,targetAttributes:l.target.attributes,undirected:l.undirected},done:!1}})}function cc(r,t,e,n,o,s){const u=t?rA:tA;let l;if(e!=="undirected"&&(n!=="out"&&(l=u(r,o.in,s),r&&l)||n!=="in"&&(l=u(r,o.out,s,n?void 0:o.key),r&&l))||e!=="directed"&&(l=u(r,o.undirected,s),r&&l))return l}function sA(r,t,e,n){const o=[];return cc(!1,r,t,e,n,function(s){o.push(s)}),o}function uA(r,t,e){let n=or.empty();return r!=="undirected"&&(t!=="out"&&typeof e.in<"u"&&(n=en(n,pu(e.in))),t!=="in"&&typeof e.out<"u"&&(n=en(n,pu(e.out,t?void 0:e.key)))),r!=="directed"&&typeof e.undirected<"u"&&(n=en(n,pu(e.undirected))),n}function lc(r,t,e,n,o,s,u){const l=e?iA:nA;let h;if(t!=="undirected"&&(typeof o.in<"u"&&n!=="out"&&(h=l(r,o.in,s,u),r&&h)||typeof o.out<"u"&&n!=="in"&&(n||o.key!==s)&&(h=l(r,o.out,s,u),r&&h))||t!=="directed"&&typeof o.undirected<"u"&&(h=l(r,o.undirected,s,u),r&&h))return h}function cA(r,t,e,n,o){const s=[];return lc(!1,r,t,e,n,o,function(u){s.push(u)}),s}function lA(r,t,e,n){let o=or.empty();return r!=="undirected"&&(typeof e.in<"u"&&t!=="out"&&n in e.in&&(o=en(o,gu(e.in,n))),typeof e.out<"u"&&t!=="in"&&n in e.out&&(t||e.key!==n)&&(o=en(o,gu(e.out,n)))),r!=="directed"&&typeof e.undirected<"u"&&n in e.undirected&&(o=en(o,gu(e.undirected,n))),o}function hA(r,t){const{name:e,type:n,direction:o}=t;r.prototype[e]=function(s,u){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return[];if(!arguments.length)return oA(this,n);if(arguments.length===1){s=""+s;const l=this._nodes.get(s);if(typeof l>"u")throw new j(`Graph.${e}: could not find the "${s}" node in the graph.`);return sA(this.multi,n==="mixed"?this.type:n,o,l)}if(arguments.length===2){s=""+s,u=""+u;const l=this._nodes.get(s);if(!l)throw new j(`Graph.${e}:  could not find the "${s}" source node in the graph.`);if(!this._nodes.has(u))throw new j(`Graph.${e}:  could not find the "${u}" target node in the graph.`);return cA(n,this.multi,o,l,u)}throw new Y(`Graph.${e}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function dA(r,t){const{name:e,type:n,direction:o}=t,s="forEach"+e[0].toUpperCase()+e.slice(1,-1);r.prototype[s]=function(d,g,v){if(!(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)){if(arguments.length===1)return v=d,lp(!1,this,n,v);if(arguments.length===2){d=""+d,v=g;const f=this._nodes.get(d);if(typeof f>"u")throw new j(`Graph.${s}: could not find the "${d}" node in the graph.`);return cc(!1,this.multi,n==="mixed"?this.type:n,o,f,v)}if(arguments.length===3){d=""+d,g=""+g;const f=this._nodes.get(d);if(!f)throw new j(`Graph.${s}:  could not find the "${d}" source node in the graph.`);if(!this._nodes.has(g))throw new j(`Graph.${s}:  could not find the "${g}" target node in the graph.`);return lc(!1,n,this.multi,o,f,g,v)}throw new Y(`Graph.${s}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)}};const u="map"+e[0].toUpperCase()+e.slice(1);r.prototype[u]=function(){const d=Array.prototype.slice.call(arguments),g=d.pop();let v;if(d.length===0){let f=0;n!=="directed"&&(f+=this.undirectedSize),n!=="undirected"&&(f+=this.directedSize),v=new Array(f);let y=0;d.push((x,w,A,R,T,S,C)=>{v[y++]=g(x,w,A,R,T,S,C)})}else v=[],d.push((f,y,x,w,A,R,T)=>{v.push(g(f,y,x,w,A,R,T))});return this[s].apply(this,d),v};const l="filter"+e[0].toUpperCase()+e.slice(1);r.prototype[l]=function(){const d=Array.prototype.slice.call(arguments),g=d.pop(),v=[];return d.push((f,y,x,w,A,R,T)=>{g(f,y,x,w,A,R,T)&&v.push(f)}),this[s].apply(this,d),v};const h="reduce"+e[0].toUpperCase()+e.slice(1);r.prototype[h]=function(){let d=Array.prototype.slice.call(arguments);if(d.length<2||d.length>4)throw new Y(`Graph.${h}: invalid number of arguments (expecting 2, 3 or 4 and got ${d.length}).`);if(typeof d[d.length-1]=="function"&&typeof d[d.length-2]!="function")throw new Y(`Graph.${h}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let g,v;d.length===2?(g=d[0],v=d[1],d=[]):d.length===3?(g=d[1],v=d[2],d=[d[0]]):d.length===4&&(g=d[2],v=d[3],d=[d[0],d[1]]);let f=v;return d.push((y,x,w,A,R,T,S)=>{f=g(f,y,x,w,A,R,T,S)}),this[s].apply(this,d),f}}function fA(r,t){const{name:e,type:n,direction:o}=t,s="find"+e[0].toUpperCase()+e.slice(1,-1);r.prototype[s]=function(h,d,g){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return!1;if(arguments.length===1)return g=h,lp(!0,this,n,g);if(arguments.length===2){h=""+h,g=d;const v=this._nodes.get(h);if(typeof v>"u")throw new j(`Graph.${s}: could not find the "${h}" node in the graph.`);return cc(!0,this.multi,n==="mixed"?this.type:n,o,v,g)}if(arguments.length===3){h=""+h,d=""+d;const v=this._nodes.get(h);if(!v)throw new j(`Graph.${s}:  could not find the "${h}" source node in the graph.`);if(!this._nodes.has(d))throw new j(`Graph.${s}:  could not find the "${d}" target node in the graph.`);return lc(!0,n,this.multi,o,v,d,g)}throw new Y(`Graph.${s}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)};const u="some"+e[0].toUpperCase()+e.slice(1,-1);r.prototype[u]=function(){const h=Array.prototype.slice.call(arguments),d=h.pop();return h.push((v,f,y,x,w,A,R)=>d(v,f,y,x,w,A,R)),!!this[s].apply(this,h)};const l="every"+e[0].toUpperCase()+e.slice(1,-1);r.prototype[l]=function(){const h=Array.prototype.slice.call(arguments),d=h.pop();return h.push((v,f,y,x,w,A,R)=>!d(v,f,y,x,w,A,R)),!this[s].apply(this,h)}}function pA(r,t){const{name:e,type:n,direction:o}=t,s=e.slice(0,-1)+"Entries";r.prototype[s]=function(u,l){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return or.empty();if(!arguments.length)return aA(this,n);if(arguments.length===1){u=""+u;const h=this._nodes.get(u);if(!h)throw new j(`Graph.${s}: could not find the "${u}" node in the graph.`);return uA(n,o,h)}if(arguments.length===2){u=""+u,l=""+l;const h=this._nodes.get(u);if(!h)throw new j(`Graph.${s}:  could not find the "${u}" source node in the graph.`);if(!this._nodes.has(l))throw new j(`Graph.${s}:  could not find the "${l}" target node in the graph.`);return lA(n,o,h,l)}throw new Y(`Graph.${s}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function gA(r){eA.forEach(t=>{hA(r,t),dA(r,t),fA(r,t),pA(r,t)})}const vA=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function Na(){this.A=null,this.B=null}Na.prototype.wrap=function(r){this.A===null?this.A=r:this.B===null&&(this.B=r)};Na.prototype.has=function(r){return this.A!==null&&r in this.A||this.B!==null&&r in this.B};function Ji(r,t,e,n,o){for(const s in n){const u=n[s],l=u.source,h=u.target,d=l===e?h:l;if(t&&t.has(d.key))continue;const g=o(d.key,d.attributes);if(r&&g)return d.key}}function hc(r,t,e,n,o){if(t!=="mixed"){if(t==="undirected")return Ji(r,null,n,n.undirected,o);if(typeof e=="string")return Ji(r,null,n,n[e],o)}const s=new Na;let u;if(t!=="undirected"){if(e!=="out"){if(u=Ji(r,null,n,n.in,o),r&&u)return u;s.wrap(n.in)}if(e!=="in"){if(u=Ji(r,s,n,n.out,o),r&&u)return u;s.wrap(n.out)}}if(t!=="directed"&&(u=Ji(r,s,n,n.undirected,o),r&&u))return u}function mA(r,t,e){if(r!=="mixed"){if(r==="undirected")return Object.keys(e.undirected);if(typeof t=="string")return Object.keys(e[t])}const n=[];return hc(!1,r,t,e,function(o){n.push(o)}),n}function eo(r,t,e){const n=Object.keys(e),o=n.length;let s=0;return new or(function(){let l=null;do{if(s>=o)return r&&r.wrap(e),{done:!0};const h=e[n[s++]],d=h.source,g=h.target;if(l=d===t?g:d,r&&r.has(l.key)){l=null;continue}}while(l===null);return{done:!1,value:{neighbor:l.key,attributes:l.attributes}}})}function yA(r,t,e){if(r!=="mixed"){if(r==="undirected")return eo(null,e,e.undirected);if(typeof t=="string")return eo(null,e,e[t])}let n=or.empty();const o=new Na;return r!=="undirected"&&(t!=="out"&&(n=en(n,eo(o,e,e.in))),t!=="in"&&(n=en(n,eo(o,e,e.out)))),r!=="directed"&&(n=en(n,eo(o,e,e.undirected))),n}function bA(r,t){const{name:e,type:n,direction:o}=t;r.prototype[e]=function(s){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return[];s=""+s;const u=this._nodes.get(s);if(typeof u>"u")throw new j(`Graph.${e}: could not find the "${s}" node in the graph.`);return mA(n==="mixed"?this.type:n,o,u)}}function _A(r,t){const{name:e,type:n,direction:o}=t,s="forEach"+e[0].toUpperCase()+e.slice(1,-1);r.prototype[s]=function(d,g){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return;d=""+d;const v=this._nodes.get(d);if(typeof v>"u")throw new j(`Graph.${s}: could not find the "${d}" node in the graph.`);hc(!1,n==="mixed"?this.type:n,o,v,g)};const u="map"+e[0].toUpperCase()+e.slice(1);r.prototype[u]=function(d,g){const v=[];return this[s](d,(f,y)=>{v.push(g(f,y))}),v};const l="filter"+e[0].toUpperCase()+e.slice(1);r.prototype[l]=function(d,g){const v=[];return this[s](d,(f,y)=>{g(f,y)&&v.push(f)}),v};const h="reduce"+e[0].toUpperCase()+e.slice(1);r.prototype[h]=function(d,g,v){if(arguments.length<3)throw new Y(`Graph.${h}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let f=v;return this[s](d,(y,x)=>{f=g(f,y,x)}),f}}function wA(r,t){const{name:e,type:n,direction:o}=t,s=e[0].toUpperCase()+e.slice(1,-1),u="find"+s;r.prototype[u]=function(d,g){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return;d=""+d;const v=this._nodes.get(d);if(typeof v>"u")throw new j(`Graph.${u}: could not find the "${d}" node in the graph.`);return hc(!0,n==="mixed"?this.type:n,o,v,g)};const l="some"+s;r.prototype[l]=function(d,g){return!!this[u](d,g)};const h="every"+s;r.prototype[h]=function(d,g){return!this[u](d,(f,y)=>!g(f,y))}}function EA(r,t){const{name:e,type:n,direction:o}=t,s=e.slice(0,-1)+"Entries";r.prototype[s]=function(u){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return or.empty();u=""+u;const l=this._nodes.get(u);if(typeof l>"u")throw new j(`Graph.${s}: could not find the "${u}" node in the graph.`);return yA(n==="mixed"?this.type:n,o,l)}}function xA(r){vA.forEach(t=>{bA(r,t),_A(r,t),wA(r,t),EA(r,t)})}function fa(r,t,e,n,o){const s=n._nodes.values(),u=n.type;let l,h,d,g,v,f;for(;l=s.next(),l.done!==!0;){let y=!1;if(h=l.value,u!=="undirected"){g=h.out;for(d in g){v=g[d];do f=v.target,y=!0,o(h.key,f.key,h.attributes,f.attributes,v.key,v.attributes,v.undirected),v=v.next;while(v)}}if(u!=="directed"){g=h.undirected;for(d in g)if(!(t&&h.key>d)){v=g[d];do f=v.target,f.key!==d&&(f=v.source),y=!0,o(h.key,f.key,h.attributes,f.attributes,v.key,v.attributes,v.undirected),v=v.next;while(v)}}e&&!y&&o(h.key,null,h.attributes,null,null,null,null)}}function AA(r,t){const e={key:r};return np(t.attributes)||(e.attributes=tt({},t.attributes)),e}function LA(r,t,e){const n={key:t,source:e.source.key,target:e.target.key};return np(e.attributes)||(n.attributes=tt({},e.attributes)),r==="mixed"&&e.undirected&&(n.undirected=!0),n}function SA(r){if(!ut(r))throw new Y('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in r))throw new Y("Graph.import: serialized node is missing its key.");if("attributes"in r&&(!ut(r.attributes)||r.attributes===null))throw new Y("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function TA(r){if(!ut(r))throw new Y('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in r))throw new Y("Graph.import: serialized edge is missing its source.");if(!("target"in r))throw new Y("Graph.import: serialized edge is missing its target.");if("attributes"in r&&(!ut(r.attributes)||r.attributes===null))throw new Y("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in r&&typeof r.undirected!="boolean")throw new Y("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}const CA=P1(),RA=new Set(["directed","undirected","mixed"]),wd=new Set(["domain","_events","_eventsCount","_maxListeners"]),PA=[{name:r=>`${r}Edge`,generateKey:!0},{name:r=>`${r}DirectedEdge`,generateKey:!0,type:"directed"},{name:r=>`${r}UndirectedEdge`,generateKey:!0,type:"undirected"},{name:r=>`${r}EdgeWithKey`},{name:r=>`${r}DirectedEdgeWithKey`,type:"directed"},{name:r=>`${r}UndirectedEdgeWithKey`,type:"undirected"}],IA={allowSelfLoops:!0,multi:!1,type:"mixed"};function OA(r,t,e){if(e&&!ut(e))throw new Y(`Graph.addNode: invalid attributes. Expecting an object but got "${e}"`);if(t=""+t,e=e||{},r._nodes.has(t))throw new ne(`Graph.addNode: the "${t}" node already exist in the graph.`);const n=new r.NodeDataClass(t,e);return r._nodes.set(t,n),r.emit("nodeAdded",{key:t,attributes:e}),n}function Ed(r,t,e){const n=new r.NodeDataClass(t,e);return r._nodes.set(t,n),r.emit("nodeAdded",{key:t,attributes:e}),n}function hp(r,t,e,n,o,s,u,l){if(!n&&r.type==="undirected")throw new ne(`Graph.${t}: you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.`);if(n&&r.type==="directed")throw new ne(`Graph.${t}: you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.`);if(l&&!ut(l))throw new Y(`Graph.${t}: invalid attributes. Expecting an object but got "${l}"`);if(s=""+s,u=""+u,l=l||{},!r.allowSelfLoops&&s===u)throw new ne(`Graph.${t}: source & target are the same ("${s}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);const h=r._nodes.get(s),d=r._nodes.get(u);if(!h)throw new j(`Graph.${t}: source node "${s}" not found.`);if(!d)throw new j(`Graph.${t}: target node "${u}" not found.`);const g={key:null,undirected:n,source:s,target:u,attributes:l};if(e)o=r._edgeKeyGenerator();else if(o=""+o,r._edges.has(o))throw new ne(`Graph.${t}: the "${o}" edge already exists in the graph.`);if(!r.multi&&(n?typeof h.undirected[u]<"u":typeof h.out[u]<"u"))throw new ne(`Graph.${t}: an edge linking "${s}" to "${u}" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`);const v=new Ri(n,o,h,d,l);r._edges.set(o,v);const f=s===u;return n?(h.undirectedDegree++,d.undirectedDegree++,f&&(h.undirectedLoops++,r._undirectedSelfLoopCount++)):(h.outDegree++,d.inDegree++,f&&(h.directedLoops++,r._directedSelfLoopCount++)),r.multi?v.attachMulti():v.attach(),n?r._undirectedSize++:r._directedSize++,g.key=o,r.emit("edgeAdded",g),o}function DA(r,t,e,n,o,s,u,l,h){if(!n&&r.type==="undirected")throw new ne(`Graph.${t}: you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.`);if(n&&r.type==="directed")throw new ne(`Graph.${t}: you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.`);if(l){if(h){if(typeof l!="function")throw new Y(`Graph.${t}: invalid updater function. Expecting a function but got "${l}"`)}else if(!ut(l))throw new Y(`Graph.${t}: invalid attributes. Expecting an object but got "${l}"`)}s=""+s,u=""+u;let d;if(h&&(d=l,l=void 0),!r.allowSelfLoops&&s===u)throw new ne(`Graph.${t}: source & target are the same ("${s}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);let g=r._nodes.get(s),v=r._nodes.get(u),f,y;if(!e&&(f=r._edges.get(o),f)){if((f.source.key!==s||f.target.key!==u)&&(!n||f.source.key!==u||f.target.key!==s))throw new ne(`Graph.${t}: inconsistency detected when attempting to merge the "${o}" edge with "${s}" source & "${u}" target vs. ("${f.source.key}", "${f.target.key}").`);y=f}if(!y&&!r.multi&&g&&(y=n?g.undirected[u]:g.out[u]),y){const T=[y.key,!1,!1,!1];if(h?!d:!l)return T;if(h){const S=y.attributes;y.attributes=d(S),r.emit("edgeAttributesUpdated",{type:"replace",key:y.key,attributes:y.attributes})}else tt(y.attributes,l),r.emit("edgeAttributesUpdated",{type:"merge",key:y.key,attributes:y.attributes,data:l});return T}l=l||{},h&&d&&(l=d(l));const x={key:null,undirected:n,source:s,target:u,attributes:l};if(e)o=r._edgeKeyGenerator();else if(o=""+o,r._edges.has(o))throw new ne(`Graph.${t}: the "${o}" edge already exists in the graph.`);let w=!1,A=!1;g||(g=Ed(r,s,{}),w=!0,s===u&&(v=g,A=!0)),v||(v=Ed(r,u,{}),A=!0),f=new Ri(n,o,g,v,l),r._edges.set(o,f);const R=s===u;return n?(g.undirectedDegree++,v.undirectedDegree++,R&&(g.undirectedLoops++,r._undirectedSelfLoopCount++)):(g.outDegree++,v.inDegree++,R&&(g.directedLoops++,r._directedSelfLoopCount++)),r.multi?f.attachMulti():f.attach(),n?r._undirectedSize++:r._directedSize++,x.key=o,r.emit("edgeAdded",x),[o,!0,w,A]}function gi(r,t){r._edges.delete(t.key);const{source:e,target:n,attributes:o}=t,s=t.undirected,u=e===n;s?(e.undirectedDegree--,n.undirectedDegree--,u&&(e.undirectedLoops--,r._undirectedSelfLoopCount--)):(e.outDegree--,n.inDegree--,u&&(e.directedLoops--,r._directedSelfLoopCount--)),r.multi?t.detachMulti():t.detach(),s?r._undirectedSize--:r._directedSize--,r.emit("edgeDropped",{key:t.key,attributes:o,source:e.key,target:n.key,undirected:s})}let Ge=class Du extends Hf.EventEmitter{constructor(t){if(super(),t=tt({},IA,t),typeof t.multi!="boolean")throw new Y(`Graph.constructor: invalid 'multi' option. Expecting a boolean but got "${t.multi}".`);if(!RA.has(t.type))throw new Y(`Graph.constructor: invalid 'type' option. Should be one of "mixed", "directed" or "undirected" but got "${t.type}".`);if(typeof t.allowSelfLoops!="boolean")throw new Y(`Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got "${t.allowSelfLoops}".`);const e=t.type==="mixed"?ip:t.type==="directed"?op:ap;Jt(this,"NodeDataClass",e);const n="geid_"+CA()+"_";let o=0;const s=()=>{let u;do u=n+o++;while(this._edges.has(u));return u};Jt(this,"_attributes",{}),Jt(this,"_nodes",new Map),Jt(this,"_edges",new Map),Jt(this,"_directedSize",0),Jt(this,"_undirectedSize",0),Jt(this,"_directedSelfLoopCount",0),Jt(this,"_undirectedSelfLoopCount",0),Jt(this,"_edgeKeyGenerator",s),Jt(this,"_options",t),wd.forEach(u=>Jt(this,u,this[u])),pr(this,"order",()=>this._nodes.size),pr(this,"size",()=>this._edges.size),pr(this,"directedSize",()=>this._directedSize),pr(this,"undirectedSize",()=>this._undirectedSize),pr(this,"selfLoopCount",()=>this._directedSelfLoopCount+this._undirectedSelfLoopCount),pr(this,"directedSelfLoopCount",()=>this._directedSelfLoopCount),pr(this,"undirectedSelfLoopCount",()=>this._undirectedSelfLoopCount),pr(this,"multi",this._options.multi),pr(this,"type",this._options.type),pr(this,"allowSelfLoops",this._options.allowSelfLoops),pr(this,"implementation",()=>"graphology")}_resetInstanceCounters(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0}hasNode(t){return this._nodes.has(""+t)}hasDirectedEdge(t,e){if(this.type==="undirected")return!1;if(arguments.length===1){const n=""+t,o=this._edges.get(n);return!!o&&!o.undirected}else if(arguments.length===2){t=""+t,e=""+e;const n=this._nodes.get(t);return n?n.out.hasOwnProperty(e):!1}throw new Y(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasUndirectedEdge(t,e){if(this.type==="directed")return!1;if(arguments.length===1){const n=""+t,o=this._edges.get(n);return!!o&&o.undirected}else if(arguments.length===2){t=""+t,e=""+e;const n=this._nodes.get(t);return n?n.undirected.hasOwnProperty(e):!1}throw new Y(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasEdge(t,e){if(arguments.length===1){const n=""+t;return this._edges.has(n)}else if(arguments.length===2){t=""+t,e=""+e;const n=this._nodes.get(t);return n?typeof n.out<"u"&&n.out.hasOwnProperty(e)||typeof n.undirected<"u"&&n.undirected.hasOwnProperty(e):!1}throw new Y(`Graph.hasEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}directedEdge(t,e){if(this.type==="undirected")return;if(t=""+t,e=""+e,this.multi)throw new ne("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");const n=this._nodes.get(t);if(!n)throw new j(`Graph.directedEdge: could not find the "${t}" source node in the graph.`);if(!this._nodes.has(e))throw new j(`Graph.directedEdge: could not find the "${e}" target node in the graph.`);const o=n.out&&n.out[e]||void 0;if(o)return o.key}undirectedEdge(t,e){if(this.type==="directed")return;if(t=""+t,e=""+e,this.multi)throw new ne("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");const n=this._nodes.get(t);if(!n)throw new j(`Graph.undirectedEdge: could not find the "${t}" source node in the graph.`);if(!this._nodes.has(e))throw new j(`Graph.undirectedEdge: could not find the "${e}" target node in the graph.`);const o=n.undirected&&n.undirected[e]||void 0;if(o)return o.key}edge(t,e){if(this.multi)throw new ne("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new j(`Graph.edge: could not find the "${t}" source node in the graph.`);if(!this._nodes.has(e))throw new j(`Graph.edge: could not find the "${e}" target node in the graph.`);const o=n.out&&n.out[e]||n.undirected&&n.undirected[e]||void 0;if(o)return o.key}areDirectedNeighbors(t,e){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new j(`Graph.areDirectedNeighbors: could not find the "${t}" node in the graph.`);return this.type==="undirected"?!1:e in n.in||e in n.out}areOutNeighbors(t,e){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new j(`Graph.areOutNeighbors: could not find the "${t}" node in the graph.`);return this.type==="undirected"?!1:e in n.out}areInNeighbors(t,e){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new j(`Graph.areInNeighbors: could not find the "${t}" node in the graph.`);return this.type==="undirected"?!1:e in n.in}areUndirectedNeighbors(t,e){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new j(`Graph.areUndirectedNeighbors: could not find the "${t}" node in the graph.`);return this.type==="directed"?!1:e in n.undirected}areNeighbors(t,e){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new j(`Graph.areNeighbors: could not find the "${t}" node in the graph.`);return this.type!=="undirected"&&(e in n.in||e in n.out)||this.type!=="directed"&&e in n.undirected}areInboundNeighbors(t,e){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new j(`Graph.areInboundNeighbors: could not find the "${t}" node in the graph.`);return this.type!=="undirected"&&e in n.in||this.type!=="directed"&&e in n.undirected}areOutboundNeighbors(t,e){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new j(`Graph.areOutboundNeighbors: could not find the "${t}" node in the graph.`);return this.type!=="undirected"&&e in n.out||this.type!=="directed"&&e in n.undirected}inDegree(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new j(`Graph.inDegree: could not find the "${t}" node in the graph.`);return this.type==="undirected"?0:e.inDegree}outDegree(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new j(`Graph.outDegree: could not find the "${t}" node in the graph.`);return this.type==="undirected"?0:e.outDegree}directedDegree(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new j(`Graph.directedDegree: could not find the "${t}" node in the graph.`);return this.type==="undirected"?0:e.inDegree+e.outDegree}undirectedDegree(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new j(`Graph.undirectedDegree: could not find the "${t}" node in the graph.`);return this.type==="directed"?0:e.undirectedDegree}inboundDegree(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new j(`Graph.inboundDegree: could not find the "${t}" node in the graph.`);let n=0;return this.type!=="directed"&&(n+=e.undirectedDegree),this.type!=="undirected"&&(n+=e.inDegree),n}outboundDegree(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new j(`Graph.outboundDegree: could not find the "${t}" node in the graph.`);let n=0;return this.type!=="directed"&&(n+=e.undirectedDegree),this.type!=="undirected"&&(n+=e.outDegree),n}degree(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new j(`Graph.degree: could not find the "${t}" node in the graph.`);let n=0;return this.type!=="directed"&&(n+=e.undirectedDegree),this.type!=="undirected"&&(n+=e.inDegree+e.outDegree),n}inDegreeWithoutSelfLoops(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new j(`Graph.inDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);return this.type==="undirected"?0:e.inDegree-e.directedLoops}outDegreeWithoutSelfLoops(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new j(`Graph.outDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);return this.type==="undirected"?0:e.outDegree-e.directedLoops}directedDegreeWithoutSelfLoops(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new j(`Graph.directedDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);return this.type==="undirected"?0:e.inDegree+e.outDegree-e.directedLoops*2}undirectedDegreeWithoutSelfLoops(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new j(`Graph.undirectedDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);return this.type==="directed"?0:e.undirectedDegree-e.undirectedLoops*2}inboundDegreeWithoutSelfLoops(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new j(`Graph.inboundDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);let n=0,o=0;return this.type!=="directed"&&(n+=e.undirectedDegree,o+=e.undirectedLoops*2),this.type!=="undirected"&&(n+=e.inDegree,o+=e.directedLoops),n-o}outboundDegreeWithoutSelfLoops(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new j(`Graph.outboundDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);let n=0,o=0;return this.type!=="directed"&&(n+=e.undirectedDegree,o+=e.undirectedLoops*2),this.type!=="undirected"&&(n+=e.outDegree,o+=e.directedLoops),n-o}degreeWithoutSelfLoops(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new j(`Graph.degreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);let n=0,o=0;return this.type!=="directed"&&(n+=e.undirectedDegree,o+=e.undirectedLoops*2),this.type!=="undirected"&&(n+=e.inDegree+e.outDegree,o+=e.directedLoops*2),n-o}source(t){t=""+t;const e=this._edges.get(t);if(!e)throw new j(`Graph.source: could not find the "${t}" edge in the graph.`);return e.source.key}target(t){t=""+t;const e=this._edges.get(t);if(!e)throw new j(`Graph.target: could not find the "${t}" edge in the graph.`);return e.target.key}extremities(t){t=""+t;const e=this._edges.get(t);if(!e)throw new j(`Graph.extremities: could not find the "${t}" edge in the graph.`);return[e.source.key,e.target.key]}opposite(t,e){t=""+t,e=""+e;const n=this._edges.get(e);if(!n)throw new j(`Graph.opposite: could not find the "${e}" edge in the graph.`);const o=n.source.key,s=n.target.key;if(t===o)return s;if(t===s)return o;throw new j(`Graph.opposite: the "${t}" node is not attached to the "${e}" edge (${o}, ${s}).`)}hasExtremity(t,e){t=""+t,e=""+e;const n=this._edges.get(t);if(!n)throw new j(`Graph.hasExtremity: could not find the "${t}" edge in the graph.`);return n.source.key===e||n.target.key===e}isUndirected(t){t=""+t;const e=this._edges.get(t);if(!e)throw new j(`Graph.isUndirected: could not find the "${t}" edge in the graph.`);return e.undirected}isDirected(t){t=""+t;const e=this._edges.get(t);if(!e)throw new j(`Graph.isDirected: could not find the "${t}" edge in the graph.`);return!e.undirected}isSelfLoop(t){t=""+t;const e=this._edges.get(t);if(!e)throw new j(`Graph.isSelfLoop: could not find the "${t}" edge in the graph.`);return e.source===e.target}addNode(t,e){return OA(this,t,e).key}mergeNode(t,e){if(e&&!ut(e))throw new Y(`Graph.mergeNode: invalid attributes. Expecting an object but got "${e}"`);t=""+t,e=e||{};let n=this._nodes.get(t);return n?(e&&(tt(n.attributes,e),this.emit("nodeAttributesUpdated",{type:"merge",key:t,attributes:n.attributes,data:e})),[t,!1]):(n=new this.NodeDataClass(t,e),this._nodes.set(t,n),this.emit("nodeAdded",{key:t,attributes:e}),[t,!0])}updateNode(t,e){if(e&&typeof e!="function")throw new Y(`Graph.updateNode: invalid updater function. Expecting a function but got "${e}"`);t=""+t;let n=this._nodes.get(t);if(n){if(e){const s=n.attributes;n.attributes=e(s),this.emit("nodeAttributesUpdated",{type:"replace",key:t,attributes:n.attributes})}return[t,!1]}const o=e?e({}):{};return n=new this.NodeDataClass(t,o),this._nodes.set(t,n),this.emit("nodeAdded",{key:t,attributes:o}),[t,!0]}dropNode(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new j(`Graph.dropNode: could not find the "${t}" node in the graph.`);let n;if(this.type!=="undirected"){for(const o in e.out){n=e.out[o];do gi(this,n),n=n.next;while(n)}for(const o in e.in){n=e.in[o];do gi(this,n),n=n.next;while(n)}}if(this.type!=="directed")for(const o in e.undirected){n=e.undirected[o];do gi(this,n),n=n.next;while(n)}this._nodes.delete(t),this.emit("nodeDropped",{key:t,attributes:e.attributes})}dropEdge(t){let e;if(arguments.length>1){const n=""+arguments[0],o=""+arguments[1];if(e=nr(this,n,o,this.type),!e)throw new j(`Graph.dropEdge: could not find the "${n}" -> "${o}" edge in the graph.`)}else if(t=""+t,e=this._edges.get(t),!e)throw new j(`Graph.dropEdge: could not find the "${t}" edge in the graph.`);return gi(this,e),this}dropDirectedEdge(t,e){if(arguments.length<2)throw new ne("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new ne("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");t=""+t,e=""+e;const n=nr(this,t,e,"directed");if(!n)throw new j(`Graph.dropDirectedEdge: could not find a "${t}" -> "${e}" edge in the graph.`);return gi(this,n),this}dropUndirectedEdge(t,e){if(arguments.length<2)throw new ne("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new ne("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");const n=nr(this,t,e,"undirected");if(!n)throw new j(`Graph.dropUndirectedEdge: could not find a "${t}" -> "${e}" edge in the graph.`);return gi(this,n),this}clear(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")}clearEdges(){const t=this._nodes.values();let e;for(;e=t.next(),e.done!==!0;)e.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")}getAttribute(t){return this._attributes[t]}getAttributes(){return this._attributes}hasAttribute(t){return this._attributes.hasOwnProperty(t)}setAttribute(t,e){return this._attributes[t]=e,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:t}),this}updateAttribute(t,e){if(typeof e!="function")throw new Y("Graph.updateAttribute: updater should be a function.");const n=this._attributes[t];return this._attributes[t]=e(n),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:t}),this}removeAttribute(t){return delete this._attributes[t],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:t}),this}replaceAttributes(t){if(!ut(t))throw new Y("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=t,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this}mergeAttributes(t){if(!ut(t))throw new Y("Graph.mergeAttributes: provided attributes are not a plain object.");return tt(this._attributes,t),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:t}),this}updateAttributes(t){if(typeof t!="function")throw new Y("Graph.updateAttributes: provided updater is not a function.");return this._attributes=t(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this}updateEachNodeAttributes(t,e){if(typeof t!="function")throw new Y("Graph.updateEachNodeAttributes: expecting an updater function.");if(e&&!_d(e))throw new Y("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const n=this._nodes.values();let o,s;for(;o=n.next(),o.done!==!0;)s=o.value,s.attributes=t(s.key,s.attributes);this.emit("eachNodeAttributesUpdated",{hints:e||null})}updateEachEdgeAttributes(t,e){if(typeof t!="function")throw new Y("Graph.updateEachEdgeAttributes: expecting an updater function.");if(e&&!_d(e))throw new Y("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const n=this._edges.values();let o,s,u,l;for(;o=n.next(),o.done!==!0;)s=o.value,u=s.source,l=s.target,s.attributes=t(s.key,s.attributes,u.key,l.key,u.attributes,l.attributes,s.undirected);this.emit("eachEdgeAttributesUpdated",{hints:e||null})}forEachAdjacencyEntry(t){if(typeof t!="function")throw new Y("Graph.forEachAdjacencyEntry: expecting a callback.");fa(!1,!1,!1,this,t)}forEachAdjacencyEntryWithOrphans(t){if(typeof t!="function")throw new Y("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");fa(!1,!1,!0,this,t)}forEachAssymetricAdjacencyEntry(t){if(typeof t!="function")throw new Y("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");fa(!1,!0,!1,this,t)}forEachAssymetricAdjacencyEntryWithOrphans(t){if(typeof t!="function")throw new Y("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");fa(!1,!0,!0,this,t)}nodes(){return typeof Array.from=="function"?Array.from(this._nodes.keys()):rp(this._nodes.keys(),this._nodes.size)}forEachNode(t){if(typeof t!="function")throw new Y("Graph.forEachNode: expecting a callback.");const e=this._nodes.values();let n,o;for(;n=e.next(),n.done!==!0;)o=n.value,t(o.key,o.attributes)}findNode(t){if(typeof t!="function")throw new Y("Graph.findNode: expecting a callback.");const e=this._nodes.values();let n,o;for(;n=e.next(),n.done!==!0;)if(o=n.value,t(o.key,o.attributes))return o.key}mapNodes(t){if(typeof t!="function")throw new Y("Graph.mapNode: expecting a callback.");const e=this._nodes.values();let n,o;const s=new Array(this.order);let u=0;for(;n=e.next(),n.done!==!0;)o=n.value,s[u++]=t(o.key,o.attributes);return s}someNode(t){if(typeof t!="function")throw new Y("Graph.someNode: expecting a callback.");const e=this._nodes.values();let n,o;for(;n=e.next(),n.done!==!0;)if(o=n.value,t(o.key,o.attributes))return!0;return!1}everyNode(t){if(typeof t!="function")throw new Y("Graph.everyNode: expecting a callback.");const e=this._nodes.values();let n,o;for(;n=e.next(),n.done!==!0;)if(o=n.value,!t(o.key,o.attributes))return!1;return!0}filterNodes(t){if(typeof t!="function")throw new Y("Graph.filterNodes: expecting a callback.");const e=this._nodes.values();let n,o;const s=[];for(;n=e.next(),n.done!==!0;)o=n.value,t(o.key,o.attributes)&&s.push(o.key);return s}reduceNodes(t,e){if(typeof t!="function")throw new Y("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new Y("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");let n=e;const o=this._nodes.values();let s,u;for(;s=o.next(),s.done!==!0;)u=s.value,n=t(n,u.key,u.attributes);return n}nodeEntries(){const t=this._nodes.values();return new or(()=>{const e=t.next();if(e.done)return e;const n=e.value;return{value:{node:n.key,attributes:n.attributes},done:!1}})}export(){const t=new Array(this._nodes.size);let e=0;this._nodes.forEach((o,s)=>{t[e++]=AA(s,o)});const n=new Array(this._edges.size);return e=0,this._edges.forEach((o,s)=>{n[e++]=LA(this.type,s,o)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:t,edges:n}}import(t,e=!1){if(t instanceof Du)return t.forEachNode((h,d)=>{e?this.mergeNode(h,d):this.addNode(h,d)}),t.forEachEdge((h,d,g,v,f,y,x)=>{e?x?this.mergeUndirectedEdgeWithKey(h,g,v,d):this.mergeDirectedEdgeWithKey(h,g,v,d):x?this.addUndirectedEdgeWithKey(h,g,v,d):this.addDirectedEdgeWithKey(h,g,v,d)}),this;if(!ut(t))throw new Y("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(t.attributes){if(!ut(t.attributes))throw new Y("Graph.import: invalid attributes. Expecting a plain object.");e?this.mergeAttributes(t.attributes):this.replaceAttributes(t.attributes)}let n,o,s,u,l;if(t.nodes){if(s=t.nodes,!Array.isArray(s))throw new Y("Graph.import: invalid nodes. Expecting an array.");for(n=0,o=s.length;n<o;n++){u=s[n],SA(u);const{key:h,attributes:d}=u;e?this.mergeNode(h,d):this.addNode(h,d)}}if(t.edges){let h=!1;if(this.type==="undirected"&&(h=!0),s=t.edges,!Array.isArray(s))throw new Y("Graph.import: invalid edges. Expecting an array.");for(n=0,o=s.length;n<o;n++){l=s[n],TA(l);const{source:d,target:g,attributes:v,undirected:f=h}=l;let y;"key"in l?(y=e?f?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:f?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,y.call(this,l.key,d,g,v)):(y=e?f?this.mergeUndirectedEdge:this.mergeDirectedEdge:f?this.addUndirectedEdge:this.addDirectedEdge,y.call(this,d,g,v))}}return this}nullCopy(t){const e=new Du(tt({},this._options,t));return e.replaceAttributes(tt({},this.getAttributes())),e}emptyCopy(t){const e=this.nullCopy(t);return this._nodes.forEach((n,o)=>{const s=tt({},n.attributes);n=new e.NodeDataClass(o,s),e._nodes.set(o,n)}),e}copy(t){if(t=t||{},typeof t.type=="string"&&t.type!==this.type&&t.type!=="mixed")throw new ne(`Graph.copy: cannot create an incompatible copy from "${this.type}" type to "${t.type}" because this would mean losing information about the current graph.`);if(typeof t.multi=="boolean"&&t.multi!==this.multi&&t.multi!==!0)throw new ne("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if(typeof t.allowSelfLoops=="boolean"&&t.allowSelfLoops!==this.allowSelfLoops&&t.allowSelfLoops!==!0)throw new ne("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");const e=this.emptyCopy(t),n=this._edges.values();let o,s;for(;o=n.next(),o.done!==!0;)s=o.value,hp(e,"copy",!1,s.undirected,s.key,s.source.key,s.target.key,tt({},s.attributes));return e}toJSON(){return this.export()}toString(){return"[object Graph]"}inspect(){const t={};this._nodes.forEach((s,u)=>{t[u]=s.attributes});const e={},n={};this._edges.forEach((s,u)=>{const l=s.undirected?"--":"->";let h="",d=s.source.key,g=s.target.key,v;s.undirected&&d>g&&(v=d,d=g,g=v);const f=`(${d})${l}(${g})`;u.startsWith("geid_")?this.multi&&(typeof n[f]>"u"?n[f]=0:n[f]++,h+=`${n[f]}. `):h+=`[${u}]: `,h+=f,e[h]=s.attributes});const o={};for(const s in this)this.hasOwnProperty(s)&&!wd.has(s)&&typeof this[s]!="function"&&typeof s!="symbol"&&(o[s]=this[s]);return o.attributes=this._attributes,o.nodes=t,o.edges=e,Jt(o,"constructor",this.constructor),o}};typeof Symbol<"u"&&(Ge.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ge.prototype.inspect);PA.forEach(r=>{["add","merge","update"].forEach(t=>{const e=r.name(t),n=t==="add"?hp:DA;r.generateKey?Ge.prototype[e]=function(o,s,u){return n(this,e,!0,(r.type||this.type)==="undirected",null,o,s,u,t==="update")}:Ge.prototype[e]=function(o,s,u,l){return n(this,e,!1,(r.type||this.type)==="undirected",o,s,u,l,t==="update")}})});W1(Ge);J1(Ge);gA(Ge);xA(Ge);class dp extends Ge{constructor(t){const e=tt({type:"directed"},t);if("multi"in e&&e.multi!==!1)throw new Y("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(e.type!=="directed")throw new Y('DirectedGraph.from: inconsistent "'+e.type+'" type in given options!');super(e)}}class fp extends Ge{constructor(t){const e=tt({type:"undirected"},t);if("multi"in e&&e.multi!==!1)throw new Y("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(e.type!=="undirected")throw new Y('UndirectedGraph.from: inconsistent "'+e.type+'" type in given options!');super(e)}}class pp extends Ge{constructor(t){const e=tt({multi:!0},t);if("multi"in e&&e.multi!==!0)throw new Y("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");super(e)}}class dc extends Ge{constructor(t){const e=tt({type:"directed",multi:!0},t);if("multi"in e&&e.multi!==!0)throw new Y("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(e.type!=="directed")throw new Y('MultiDirectedGraph.from: inconsistent "'+e.type+'" type in given options!');super(e)}}class gp extends Ge{constructor(t){const e=tt({type:"undirected",multi:!0},t);if("multi"in e&&e.multi!==!0)throw new Y("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(e.type!=="undirected")throw new Y('MultiUndirectedGraph.from: inconsistent "'+e.type+'" type in given options!');super(e)}}function Pi(r){r.from=function(t,e){const n=tt({},t.options,e),o=new r(n);return o.import(t),o}}Pi(Ge);Pi(dp);Pi(fp);Pi(pp);Pi(dc);Pi(gp);Ge.Graph=Ge;Ge.DirectedGraph=dp;Ge.UndirectedGraph=fp;Ge.MultiGraph=pp;Ge.MultiDirectedGraph=dc;Ge.MultiUndirectedGraph=gp;Ge.InvalidArgumentsGraphError=Y;Ge.NotFoundGraphError=j;Ge.UsageGraphError=ne;var Pr={},fc={},vp=function(t,e){var n=e.length;if(n!==0){var o=t.length;t.length+=n;for(var s=0;s<n;s++)t[o+s]=e[s]}},Ga={},mp={},ue={},Ii=function(t){return t!==null&&typeof t=="object"&&typeof t.addUndirectedEdgeWithKey=="function"&&typeof t.dropNode=="function"&&typeof t.multi=="boolean"},_t={};Object.defineProperty(_t,"__esModule",{value:!0});_t.multiplyVec2=_t.multiply=_t.translate=_t.rotate=_t.scale=_t.identity=void 0;function NA(){return Float32Array.of(1,0,0,0,1,0,0,0,1)}_t.identity=NA;function GA(r,t,e){return r[0]=t,r[4]=typeof e=="number"?e:t,r}_t.scale=GA;function FA(r,t){var e=Math.sin(t),n=Math.cos(t);return r[0]=n,r[1]=e,r[3]=-e,r[4]=n,r}_t.rotate=FA;function MA(r,t,e){return r[6]=t,r[7]=e,r}_t.translate=MA;function kA(r,t){var e=r[0],n=r[1],o=r[2],s=r[3],u=r[4],l=r[5],h=r[6],d=r[7],g=r[8],v=t[0],f=t[1],y=t[2],x=t[3],w=t[4],A=t[5],R=t[6],T=t[7],S=t[8];return r[0]=v*e+f*s+y*h,r[1]=v*n+f*u+y*d,r[2]=v*o+f*l+y*g,r[3]=x*e+w*s+A*h,r[4]=x*n+w*u+A*d,r[5]=x*o+w*l+A*g,r[6]=R*e+T*s+S*h,r[7]=R*n+T*u+S*d,r[8]=R*o+T*l+S*g,r}_t.multiply=kA;function $A(r,t,e){e===void 0&&(e=1);var n=r[0],o=r[1],s=r[3],u=r[4],l=r[6],h=r[7],d=t.x,g=t.y;return{x:d*n+g*s+l*e,y:d*o+g*u+h*e}}_t.multiplyVec2=$A;var Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.HTML_COLORS=void 0;Fa.HTML_COLORS={black:"#000000",silver:"#C0C0C0",gray:"#808080",grey:"#808080",white:"#FFFFFF",maroon:"#800000",red:"#FF0000",purple:"#800080",fuchsia:"#FF00FF",green:"#008000",lime:"#00FF00",olive:"#808000",yellow:"#FFFF00",navy:"#000080",blue:"#0000FF",teal:"#008080",aqua:"#00FFFF",darkblue:"#00008B",mediumblue:"#0000CD",darkgreen:"#006400",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",springgreen:"#00FF7F",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",rebeccapurple:"#663399",mediumaquamarine:"#66CDAA",dimgray:"#696969",dimgrey:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",slategrey:"#708090",lightslategray:"#778899",lightslategrey:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370DB",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",palevioletred:"#DB7093",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",lightyellow:"#FFFFE0",ivory:"#FFFFF0"};var xd=H&&H.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),o,s=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(l){u={error:l}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(u)throw u.error}}return s},UA=H&&H.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ue,"__esModule",{value:!0});ue.validateGraph=vc=ue.canUse32BitsIndices=ue.extractPixel=ue.getMatrixImpact=ue.matrixFromCamera=ue.getCorrectionRatio=mr=ue.floatColor=ue.floatArrayColor=ue.parseColor=ue.zIndexOrdering=ue.createNormalizationFunction=pc=ue.graphExtent=ue.getPixelRatio=ue.createElement=ue.cancelFrame=ue.requestFrame=ue.assignDeep=ue.assign=ue.isPlainObject=void 0;var BA=UA(Ii),De=_t,xa=Fa;function yp(r){return typeof r=="object"&&r!==null&&r.constructor===Object}ue.isPlainObject=yp;function WA(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];r=r||{};for(var n=0,o=t.length;n<o;n++){var s=t[n];s&&Object.assign(r,s)}return r}ue.assign=WA;function bp(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];r=r||{};for(var n=0,o=t.length;n<o;n++){var s=t[n];if(s)for(var u in s)yp(s[u])?r[u]=bp(r[u],s[u]):r[u]=s[u]}return r}ue.assignDeep=bp;ue.requestFrame=typeof requestAnimationFrame<"u"?function(r){return requestAnimationFrame(r)}:function(r){return setTimeout(r,0)};ue.cancelFrame=typeof cancelAnimationFrame<"u"?function(r){return cancelAnimationFrame(r)}:function(r){return clearTimeout(r)};function zA(r,t,e){var n=document.createElement(r);if(t)for(var o in t)n.style[o]=t[o];if(e)for(var o in e)n.setAttribute(o,e[o]);return n}ue.createElement=zA;function jA(){return typeof window.devicePixelRatio<"u"?window.devicePixelRatio:1}ue.getPixelRatio=jA;function HA(r){if(!r.order)return{x:[0,1],y:[0,1]};var t=1/0,e=-1/0,n=1/0,o=-1/0;return r.forEachNode(function(s,u){var l=u.x,h=u.y;l<t&&(t=l),l>e&&(e=l),h<n&&(n=h),h>o&&(o=h)}),{x:[t,e],y:[n,o]}}var pc=ue.graphExtent=HA;function qA(r){var t=xd(r.x,2),e=t[0],n=t[1],o=xd(r.y,2),s=o[0],u=o[1],l=Math.max(n-e,u-s),h=(n+e)/2,d=(u+s)/2;(l===0||Math.abs(l)===1/0||isNaN(l))&&(l=1),isNaN(h)&&(h=0),isNaN(d)&&(d=0);var g=function(v){return{x:.5+(v.x-h)/l,y:.5+(v.y-d)/l}};return g.applyTo=function(v){v.x=.5+(v.x-h)/l,v.y=.5+(v.y-d)/l},g.inverse=function(v){return{x:h+l*(v.x-.5),y:d+l*(v.y-.5)}},g.ratio=l,g}ue.createNormalizationFunction=qA;function YA(r,t,e){return e.sort(function(n,o){var s=t(n)||0,u=t(o)||0;return s<u?-1:s>u?1:0})}ue.zIndexOrdering=YA;var _p=new Int8Array(4),VA=new Int32Array(_p.buffer,0,1),ZA=new Float32Array(_p.buffer,0,1),KA=/^\s*rgba?\s*\(/,XA=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)(?:\s*,\s*(.*)?)?\)\s*$/;function gc(r){var t=0,e=0,n=0,o=1;if(r[0]==="#")r.length===4?(t=parseInt(r.charAt(1)+r.charAt(1),16),e=parseInt(r.charAt(2)+r.charAt(2),16),n=parseInt(r.charAt(3)+r.charAt(3),16)):(t=parseInt(r.charAt(1)+r.charAt(2),16),e=parseInt(r.charAt(3)+r.charAt(4),16),n=parseInt(r.charAt(5)+r.charAt(6),16)),r.length===9&&(o=parseInt(r.charAt(7)+r.charAt(8),16)/255);else if(KA.test(r)){var s=r.match(XA);s&&(t=+s[1],e=+s[2],n=+s[3],s[4]&&(o=+s[4]))}return{r:t,g:e,b:n,a:o}}ue.parseColor=gc;var yi={};for(var pa in xa.HTML_COLORS)yi[pa]=wp(xa.HTML_COLORS[pa]),yi[xa.HTML_COLORS[pa]]=yi[pa];function QA(r){r=xa.HTML_COLORS[r]||r;var t=gc(r),e=t.r,n=t.g,o=t.b,s=t.a;return new Float32Array([e/255,n/255,o/255,s])}ue.floatArrayColor=QA;function wp(r){if(typeof yi[r]<"u")return yi[r];var t=gc(r),e=t.r,n=t.g,o=t.b,s=t.a;s=s*255|0,VA[0]=(s<<24|o<<16|n<<8|e)&4278190079;var u=ZA[0];return yi[r]=u,u}var mr=ue.floatColor=wp;function Ep(r,t){var e=r.height/r.width,n=t.height/t.width;return e<1&&n>1||e>1&&n<1?1:Math.min(Math.max(n,1/n),Math.max(1/e,e))}ue.getCorrectionRatio=Ep;function JA(r,t,e,n,o){var s=r.angle,u=r.ratio,l=r.x,h=r.y,d=t.width,g=t.height,v=(0,De.identity)(),f=Math.min(d,g)-2*n,y=Ep(t,e);return o?((0,De.multiply)(v,(0,De.translate)((0,De.identity)(),l,h)),(0,De.multiply)(v,(0,De.scale)((0,De.identity)(),u)),(0,De.multiply)(v,(0,De.rotate)((0,De.identity)(),s)),(0,De.multiply)(v,(0,De.scale)((0,De.identity)(),d/f/2/y,g/f/2/y))):((0,De.multiply)(v,(0,De.scale)((0,De.identity)(),2*(f/d)*y,2*(f/g)*y)),(0,De.multiply)(v,(0,De.rotate)((0,De.identity)(),-s)),(0,De.multiply)(v,(0,De.scale)((0,De.identity)(),1/u)),(0,De.multiply)(v,(0,De.translate)((0,De.identity)(),-l,-h))),v}ue.matrixFromCamera=JA;function eL(r,t,e){var n=(0,De.multiplyVec2)(r,{x:Math.cos(t.angle),y:Math.sin(t.angle)},0),o=n.x,s=n.y;return 1/Math.sqrt(Math.pow(o,2)+Math.pow(s,2))/e.width}ue.getMatrixImpact=eL;function tL(r,t,e,n){var o=n||new Uint8Array(4);return r.readPixels(t,e,1,1,r.RGBA,r.UNSIGNED_BYTE,o),o}ue.extractPixel=tL;function rL(r){var t=typeof WebGL2RenderingContext<"u"&&r instanceof WebGL2RenderingContext;return t||!!r.getExtension("OES_element_index_uint")}var vc=ue.canUse32BitsIndices=rL;function nL(r){if(!(0,BA.default)(r))throw new Error("Sigma: invalid graph instance.");r.forEachNode(function(t,e){if(!Number.isFinite(e.x)||!Number.isFinite(e.y))throw new Error("Sigma: Coordinates of node ".concat(t," are invalid. A node must have a numeric 'x' and 'y' attribute."))})}ue.validateGraph=nL;var mc={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.cubicInOut=r.cubicOut=r.cubicIn=r.quadraticInOut=r.quadraticOut=r.quadraticIn=r.linear=void 0;var t=function(d){return d};r.linear=t;var e=function(d){return d*d};r.quadraticIn=e;var n=function(d){return d*(2-d)};r.quadraticOut=n;var o=function(d){return(d*=2)<1?.5*d*d:-.5*(--d*(d-2)-1)};r.quadraticInOut=o;var s=function(d){return d*d*d};r.cubicIn=s;var u=function(d){return--d*d*d+1};r.cubicOut=u;var l=function(d){return(d*=2)<1?.5*d*d*d:.5*((d-=2)*d*d+2)};r.cubicInOut=l;var h={linear:r.linear,quadraticIn:r.quadraticIn,quadraticOut:r.quadraticOut,quadraticInOut:r.quadraticInOut,cubicIn:r.cubicIn,cubicOut:r.cubicOut,cubicInOut:r.cubicInOut};r.default=h})(mc);(function(r){var t=H&&H.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(r,"__esModule",{value:!0}),r.animateNodes=r.ANIMATE_DEFAULTS=void 0;var e=ue,n=t(mc);r.ANIMATE_DEFAULTS={easing:"quadraticInOut",duration:150};function o(s,u,l,h){var d=Object.assign({},r.ANIMATE_DEFAULTS,l),g=typeof d.easing=="function"?d.easing:n.default[d.easing],v=Date.now(),f={};for(var y in u){var x=u[y];f[y]={};for(var w in x)f[y][w]=s.getNodeAttribute(y,w)}var A=null,R=function(){A=null;var T=(Date.now()-v)/d.duration;if(T>=1){for(var S in u){var C=u[S];for(var E in C)s.setNodeAttribute(S,E,C[E])}typeof h=="function"&&h();return}T=g(T);for(var S in u){var C=u[S],I=f[S];for(var E in C)s.setNodeAttribute(S,E,C[E]*T+I[E]*(1-T))}A=(0,e.requestFrame)(R)};return R(),function(){A&&(0,e.cancelFrame)(A)}}r.animateNodes=o})(mp);var Oi={},iL=H&&H.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Oi,"__esModule",{value:!0});Oi.TypedEventEmitter=void 0;var oL=Hf,aL=function(r){iL(t,r);function t(){var e=r.call(this)||this;return e.rawEmitter=e,e}return t}(oL.EventEmitter);Oi.TypedEventEmitter=aL;var sL=H&&H.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),uL=H&&H.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ga,"__esModule",{value:!0});var cL=mp,lL=uL(mc),vu=ue,hL=Oi,ga=1.5,dL=function(r){sL(t,r);function t(){var e=r.call(this)||this;return e.x=.5,e.y=.5,e.angle=0,e.ratio=1,e.minRatio=null,e.maxRatio=null,e.nextFrame=null,e.previousState=null,e.enabled=!0,e.previousState=e.getState(),e}return t.from=function(e){var n=new t;return n.setState(e)},t.prototype.enable=function(){return this.enabled=!0,this},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.getState=function(){return{x:this.x,y:this.y,angle:this.angle,ratio:this.ratio}},t.prototype.hasState=function(e){return this.x===e.x&&this.y===e.y&&this.ratio===e.ratio&&this.angle===e.angle},t.prototype.getPreviousState=function(){var e=this.previousState;return e?{x:e.x,y:e.y,angle:e.angle,ratio:e.ratio}:null},t.prototype.getBoundedRatio=function(e){var n=e;return typeof this.minRatio=="number"&&(n=Math.max(n,this.minRatio)),typeof this.maxRatio=="number"&&(n=Math.min(n,this.maxRatio)),n},t.prototype.validateState=function(e){var n={};return typeof e.x=="number"&&(n.x=e.x),typeof e.y=="number"&&(n.y=e.y),typeof e.angle=="number"&&(n.angle=e.angle),typeof e.ratio=="number"&&(n.ratio=this.getBoundedRatio(e.ratio)),n},t.prototype.isAnimated=function(){return!!this.nextFrame},t.prototype.setState=function(e){if(!this.enabled)return this;this.previousState=this.getState();var n=this.validateState(e);return typeof n.x=="number"&&(this.x=n.x),typeof n.y=="number"&&(this.y=n.y),typeof n.angle=="number"&&(this.angle=n.angle),typeof n.ratio=="number"&&(this.ratio=n.ratio),this.hasState(this.previousState)||this.emit("updated",this.getState()),this},t.prototype.updateState=function(e){return this.setState(e(this.getState())),this},t.prototype.animate=function(e,n,o){var s=this;if(this.enabled){var u=Object.assign({},cL.ANIMATE_DEFAULTS,n),l=this.validateState(e),h=typeof u.easing=="function"?u.easing:lL.default[u.easing],d=Date.now(),g=this.getState(),v=function(){var f=(Date.now()-d)/u.duration;if(f>=1){s.nextFrame=null,s.setState(l),s.animationCallback&&(s.animationCallback.call(null),s.animationCallback=void 0);return}var y=h(f),x={};typeof l.x=="number"&&(x.x=g.x+(l.x-g.x)*y),typeof l.y=="number"&&(x.y=g.y+(l.y-g.y)*y),typeof l.angle=="number"&&(x.angle=g.angle+(l.angle-g.angle)*y),typeof l.ratio=="number"&&(x.ratio=g.ratio+(l.ratio-g.ratio)*y),s.setState(x),s.nextFrame=(0,vu.requestFrame)(v)};this.nextFrame?((0,vu.cancelFrame)(this.nextFrame),this.animationCallback&&this.animationCallback.call(null),this.nextFrame=(0,vu.requestFrame)(v)):v(),this.animationCallback=o}},t.prototype.animatedZoom=function(e){if(!e)this.animate({ratio:this.ratio/ga});else{if(typeof e=="number")return this.animate({ratio:this.ratio/e});this.animate({ratio:this.ratio/(e.factor||ga)},e)}},t.prototype.animatedUnzoom=function(e){if(!e)this.animate({ratio:this.ratio*ga});else{if(typeof e=="number")return this.animate({ratio:this.ratio*e});this.animate({ratio:this.ratio*(e.factor||ga)},e)}},t.prototype.animatedReset=function(e){this.animate({x:.5,y:.5,ratio:1,angle:0},e)},t.prototype.copy=function(){return t.from(this.getState())},t}(hL.TypedEventEmitter);Ga.default=dL;var Ma={},ft={},fL=H&&H.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),xi=H&&H.__assign||function(){return xi=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},xi.apply(this,arguments)};Object.defineProperty(ft,"__esModule",{value:!0});ft.getWheelDelta=ft.getTouchCoords=ft.getTouchesArray=ft.getWheelCoords=ft.getMouseCoords=ft.getPosition=void 0;var pL=Oi;function yc(r,t){var e=t.getBoundingClientRect();return{x:r.clientX-e.left,y:r.clientY-e.top}}ft.getPosition=yc;function xp(r,t){var e=xi(xi({},yc(r,t)),{sigmaDefaultPrevented:!1,preventSigmaDefault:function(){e.sigmaDefaultPrevented=!0},original:r});return e}ft.getMouseCoords=xp;function gL(r,t){return xi(xi({},xp(r,t)),{delta:Lp(r)})}ft.getWheelCoords=gL;var vL=2;function Ap(r){for(var t=[],e=0,n=Math.min(r.length,vL);e<n;e++)t.push(r[e]);return t}ft.getTouchesArray=Ap;function mL(r,t){return{touches:Ap(r.touches).map(function(e){return yc(e,t)}),original:r}}ft.getTouchCoords=mL;function Lp(r){if(typeof r.deltaY<"u")return r.deltaY*-3/360;if(typeof r.detail<"u")return r.detail/-9;throw new Error("Captor: could not extract delta from event.")}ft.getWheelDelta=Lp;var yL=function(r){fL(t,r);function t(e,n){var o=r.call(this)||this;return o.container=e,o.renderer=n,o}return t}(pL.TypedEventEmitter);ft.default=yL;var bL=H&&H.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),_L=H&&H.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),wL=H&&H.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),EL=H&&H.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&_L(t,r,e);return wL(t,r),t};Object.defineProperty(Ma,"__esModule",{value:!0});var It=EL(ft),xL=100,AL=3,LL=200,Ad=3,Ld=250,Sd=1.7,SL=300,TL=2.2,CL=200,RL=function(r){bL(t,r);function t(e,n){var o=r.call(this,e,n)||this;return o.enabled=!0,o.draggedEvents=0,o.downStartTime=null,o.lastMouseX=null,o.lastMouseY=null,o.isMouseDown=!1,o.isMoving=!1,o.movingTimeout=null,o.startCameraState=null,o.clicks=0,o.doubleClickTimeout=null,o.currentWheelDirection=0,o.handleClick=o.handleClick.bind(o),o.handleRightClick=o.handleRightClick.bind(o),o.handleDown=o.handleDown.bind(o),o.handleUp=o.handleUp.bind(o),o.handleMove=o.handleMove.bind(o),o.handleWheel=o.handleWheel.bind(o),o.handleOut=o.handleOut.bind(o),e.addEventListener("click",o.handleClick,!1),e.addEventListener("contextmenu",o.handleRightClick,!1),e.addEventListener("mousedown",o.handleDown,!1),e.addEventListener("wheel",o.handleWheel,!1),e.addEventListener("mouseout",o.handleOut,!1),document.addEventListener("mousemove",o.handleMove,!1),document.addEventListener("mouseup",o.handleUp,!1),o}return t.prototype.kill=function(){var e=this.container;e.removeEventListener("click",this.handleClick),e.removeEventListener("contextmenu",this.handleRightClick),e.removeEventListener("mousedown",this.handleDown),e.removeEventListener("wheel",this.handleWheel),e.removeEventListener("mouseout",this.handleOut),document.removeEventListener("mousemove",this.handleMove),document.removeEventListener("mouseup",this.handleUp)},t.prototype.handleClick=function(e){var n=this;if(this.enabled){if(this.clicks++,this.clicks===2)return this.clicks=0,typeof this.doubleClickTimeout=="number"&&(clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null),this.handleDoubleClick(e);setTimeout(function(){n.clicks=0,n.doubleClickTimeout=null},SL),this.draggedEvents<AL&&this.emit("click",(0,It.getMouseCoords)(e,this.container))}},t.prototype.handleRightClick=function(e){this.enabled&&this.emit("rightClick",(0,It.getMouseCoords)(e,this.container))},t.prototype.handleDoubleClick=function(e){if(this.enabled){e.preventDefault(),e.stopPropagation();var n=(0,It.getMouseCoords)(e,this.container);if(this.emit("doubleClick",n),!n.sigmaDefaultPrevented){var o=this.renderer.getCamera(),s=o.getBoundedRatio(o.getState().ratio/TL);o.animate(this.renderer.getViewportZoomedState((0,It.getPosition)(e,this.container),s),{easing:"quadraticInOut",duration:CL})}}},t.prototype.handleDown=function(e){if(this.enabled){if(e.button===0){this.startCameraState=this.renderer.getCamera().getState();var n=(0,It.getPosition)(e,this.container),o=n.x,s=n.y;this.lastMouseX=o,this.lastMouseY=s,this.draggedEvents=0,this.downStartTime=Date.now(),this.isMouseDown=!0}this.emit("mousedown",(0,It.getMouseCoords)(e,this.container))}},t.prototype.handleUp=function(e){var n=this;if(!(!this.enabled||!this.isMouseDown)){var o=this.renderer.getCamera();this.isMouseDown=!1,typeof this.movingTimeout=="number"&&(clearTimeout(this.movingTimeout),this.movingTimeout=null);var s=(0,It.getPosition)(e,this.container),u=s.x,l=s.y,h=o.getState(),d=o.getPreviousState()||{x:0,y:0};this.isMoving?o.animate({x:h.x+Ad*(h.x-d.x),y:h.y+Ad*(h.y-d.y)},{duration:LL,easing:"quadraticOut"}):(this.lastMouseX!==u||this.lastMouseY!==l)&&o.setState({x:h.x,y:h.y}),this.isMoving=!1,setTimeout(function(){n.draggedEvents=0,n.renderer.refresh()},0),this.emit("mouseup",(0,It.getMouseCoords)(e,this.container))}},t.prototype.handleMove=function(e){var n=this;if(this.enabled){var o=(0,It.getMouseCoords)(e,this.container);if(this.emit("mousemovebody",o),e.target===this.container&&this.emit("mousemove",o),!o.sigmaDefaultPrevented&&this.isMouseDown){this.isMoving=!0,this.draggedEvents++,typeof this.movingTimeout=="number"&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){n.movingTimeout=null,n.isMoving=!1},xL);var s=this.renderer.getCamera(),u=(0,It.getPosition)(e,this.container),l=u.x,h=u.y,d=this.renderer.viewportToFramedGraph({x:this.lastMouseX,y:this.lastMouseY}),g=this.renderer.viewportToFramedGraph({x:l,y:h}),v=d.x-g.x,f=d.y-g.y,y=s.getState(),x=y.x+v,w=y.y+f;s.setState({x,y:w}),this.lastMouseX=l,this.lastMouseY=h,e.preventDefault(),e.stopPropagation()}}},t.prototype.handleWheel=function(e){var n=this;if(this.enabled){e.preventDefault(),e.stopPropagation();var o=(0,It.getWheelDelta)(e);if(o){var s=(0,It.getWheelCoords)(e,this.container);if(this.emit("wheel",s),!s.sigmaDefaultPrevented){var u=o>0?1/Sd:Sd,l=this.renderer.getCamera(),h=l.getBoundedRatio(l.getState().ratio*u),d=o>0?1:-1,g=Date.now();this.currentWheelDirection===d&&this.lastWheelTriggerTime&&g-this.lastWheelTriggerTime<Ld/5||(l.animate(this.renderer.getViewportZoomedState((0,It.getPosition)(e,this.container),h),{easing:"quadraticOut",duration:Ld},function(){n.currentWheelDirection=0}),this.currentWheelDirection=d,this.lastWheelTriggerTime=g)}}}},t.prototype.handleOut=function(){},t}(It.default);Ma.default=RL;var rr={},PL=H&&H.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(rr,"__esModule",{value:!0});rr.rectangleCollidesWithQuad=rr.squareCollidesWithQuad=rr.getCircumscribedAlignedRectangle=rr.isRectangleAligned=void 0;var Nu=PL(vp),Nt=4,to=5,vi=5460,wt=0,Et=1,xt=2,At=3,IL=1,OL=2,DL=3,NL=4,Td=!1;function Sp(r){return r.x1===r.x2||r.y1===r.y2}rr.isRectangleAligned=Sp;function Tp(r){var t=Math.sqrt(Math.pow(r.x2-r.x1,2)+Math.pow(r.y2-r.y1,2)),e={x:(r.y1-r.y2)*r.height/t,y:(r.x2-r.x1)*r.height/t},n={x:r.x1,y:r.y1},o={x:r.x2,y:r.y2},s={x:r.x1+e.x,y:r.y1+e.y},u={x:r.x2+e.x,y:r.y2+e.y},l=Math.min(n.x,o.x,s.x,u.x),h=Math.max(n.x,o.x,s.x,u.x),d=Math.min(n.y,o.y,s.y,u.y),g=Math.max(n.y,o.y,s.y,u.y);return{x1:l,y1:d,x2:h,y2:d,height:g-d}}rr.getCircumscribedAlignedRectangle=Tp;function ao(r,t,e,n,o,s,u){return r<n+s&&r+e>n&&t<o+u&&t+e>o}rr.squareCollidesWithQuad=ao;function so(r,t,e,n,o,s,u,l){return r<o+u&&r+e>o&&t<s+l&&t+n>s}rr.rectangleCollidesWithQuad=so;function GL(r,t,e,n,o,s){var u=e+o/2,l=n+s/2,h=t<l,d=r<u;return h?d?IL:OL:d?DL:NL}function FL(r,t){for(var e=[0,0];e.length;){var n=e.pop(),o=e.pop(),s=4*o+Nt,u=4*o+2*Nt,l=4*o+3*Nt,h=4*o+4*Nt,d=t[o+wt],g=t[o+Et],v=t[o+xt],f=t[o+At],y=v/2,x=f/2;t[s+wt]=d,t[s+Et]=g,t[s+xt]=y,t[s+At]=x,t[u+wt]=d+y,t[u+Et]=g,t[u+xt]=y,t[u+At]=x,t[l+wt]=d,t[l+Et]=g+x,t[l+xt]=y,t[l+At]=x,t[h+wt]=d+y,t[h+Et]=g+x,t[h+xt]=y,t[h+At]=x,n<r-1&&(e.push(h,n+1),e.push(l,n+1),e.push(u,n+1),e.push(s,n+1))}}function ML(r,t,e,n,o,s,u){for(var l=o-u,h=s-u,d=u*2,g=0,v=0;;){if(g>=r){e[v]=e[v]||[],e[v].push(n);return}var f=4*v+Nt,y=4*v+2*Nt,x=4*v+3*Nt,w=4*v+4*Nt,A=ao(l,h,d,t[f+wt],t[f+Et],t[f+xt],t[f+At]),R=ao(l,h,d,t[y+wt],t[y+Et],t[y+xt],t[y+At]),T=ao(l,h,d,t[x+wt],t[x+Et],t[x+xt],t[x+At]),S=ao(l,h,d,t[w+wt],t[w+Et],t[w+xt],t[w+At]),C=[A,R,T,S].reduce(function(E,I){return I?E+1:E},0);if(C===0&&g===0){e[vi].push(n),!Td&&e[vi].length>=5&&(Td=!0,console.warn("sigma/quadtree.insertNode: At least 5 nodes are outside the global quadtree zone. You might have a problem with the normalization function or the custom bounding box."));return}if(C===0)throw new Error("sigma/quadtree.insertNode: no collision (level: ".concat(g,", key: ").concat(n,", x: ").concat(o,", y: ").concat(s,", size: ").concat(u,")."));if(C===3)throw new Error("sigma/quadtree.insertNode: 3 impossible collisions (level: ".concat(g,", key: ").concat(n,", x: ").concat(o,", y: ").concat(s,", size: ").concat(u,")."));if(C>1){e[v]=e[v]||[],e[v].push(n);return}else g++;A&&(v=f),R&&(v=y),T&&(v=x),S&&(v=w)}}function kL(r,t,e,n,o,s,u){for(var l=[0,0],h=[],d;l.length;){var g=l.pop(),v=l.pop();if(d=e[v],d&&(0,Nu.default)(h,d),!(g>=r)){var f=4*v+Nt,y=4*v+2*Nt,x=4*v+3*Nt,w=4*v+4*Nt,A=so(n,o,s,u,t[f+wt],t[f+Et],t[f+xt],t[f+At]),R=so(n,o,s,u,t[y+wt],t[y+Et],t[y+xt],t[y+At]),T=so(n,o,s,u,t[x+wt],t[x+Et],t[x+xt],t[x+At]),S=so(n,o,s,u,t[w+wt],t[w+Et],t[w+xt],t[w+At]);A&&l.push(f,g+1),R&&l.push(y,g+1),T&&l.push(x,g+1),S&&l.push(w,g+1)}}return h}var $L=function(){function r(t){var e;t===void 0&&(t={}),this.containers=(e={},e[vi]=[],e),this.cache=null,this.lastRectangle=null;var n=Math.pow(4,to);this.data=new Float32Array(Nt*((4*n-1)/3)),t.boundaries?this.resize(t.boundaries):this.resize({x:0,y:0,width:1,height:1})}return r.prototype.add=function(t,e,n,o){return ML(to,this.data,this.containers,t,e,n,o),this},r.prototype.resize=function(t){this.clear(),this.data[wt]=t.x,this.data[Et]=t.y,this.data[xt]=t.width,this.data[At]=t.height,FL(to,this.data)},r.prototype.clear=function(){var t;return this.containers=(t={},t[vi]=[],t),this},r.prototype.point=function(t,e){var n=this.containers[vi].slice(),o=0,s=0;do{this.containers[o]&&(0,Nu.default)(n,this.containers[o]);var u=GL(t,e,this.data[o+wt],this.data[o+Et],this.data[o+xt],this.data[o+At]);o=4*o+u*Nt,s++}while(s<=to);return n},r.prototype.rectangle=function(t,e,n,o,s){var u=this.lastRectangle;return u&&t===u.x1&&n===u.x2&&e===u.y1&&o===u.y2&&s===u.height?this.cache:(this.lastRectangle={x1:t,y1:e,x2:n,y2:o,height:s},Sp(this.lastRectangle)||(this.lastRectangle=Tp(this.lastRectangle)),this.cache=kL(to,this.data,this.containers,t,e,Math.abs(t-n)||Math.abs(e-o),s),(0,Nu.default)(this.cache,this.containers[vi]),this.cache)},r}();rr.default=$L;var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.edgeLabelsToDisplayFromNodes=Ai.LabelGrid=void 0;var Cd=function(){function r(t,e){this.key=t,this.size=e}return r.compare=function(t,e){return t.size>e.size?-1:t.size<e.size||t.key>e.key?1:-1},r}(),UL=function(){function r(){this.width=0,this.height=0,this.cellSize=0,this.columns=0,this.rows=0,this.cells={}}return r.prototype.resizeAndClear=function(t,e){this.width=t.width,this.height=t.height,this.cellSize=e,this.columns=Math.ceil(t.width/e),this.rows=Math.ceil(t.height/e),this.cells={}},r.prototype.getIndex=function(t){var e=Math.floor(t.x/this.cellSize),n=Math.floor(t.y/this.cellSize);return n*this.columns+e},r.prototype.add=function(t,e,n){var o=new Cd(t,e),s=this.getIndex(n),u=this.cells[s];u||(u=[],this.cells[s]=u),u.push(o)},r.prototype.organize=function(){for(var t in this.cells){var e=this.cells[t];e.sort(Cd.compare)}},r.prototype.getLabelsToDisplay=function(t,e){var n=this.cellSize*this.cellSize,o=n/t/t,s=o*e/n,u=Math.ceil(s),l=[];for(var h in this.cells)for(var d=this.cells[h],g=0;g<Math.min(u,d.length);g++)l.push(d[g].key);return l},r}();Ai.LabelGrid=UL;function BL(r){var t=r.graph,e=r.hoveredNode,n=r.highlightedNodes,o=r.displayedNodeLabels,s=[];return t.forEachEdge(function(u,l,h,d){(h===e||d===e||n.has(h)||n.has(d)||o.has(h)&&o.has(d))&&s.push(u)}),s}Ai.edgeLabelsToDisplayFromNodes=BL;var Cp={},ka={};Object.defineProperty(ka,"__esModule",{value:!0});function WL(r,t,e){if(t.label){var n=e.labelSize,o=e.labelFont,s=e.labelWeight,u=e.labelColor.attribute?t[e.labelColor.attribute]||e.labelColor.color||"#000":e.labelColor.color;r.fillStyle=u,r.font="".concat(s," ").concat(n,"px ").concat(o),r.fillText(t.label,t.x+t.size+3,t.y+n/3)}}ka.default=WL;var bc={},zL=H&&H.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bc,"__esModule",{value:!0});var jL=zL(ka);function HL(r,t,e){var n=e.labelSize,o=e.labelFont,s=e.labelWeight;r.font="".concat(s," ").concat(n,"px ").concat(o),r.fillStyle="#FFF",r.shadowOffsetX=0,r.shadowOffsetY=0,r.shadowBlur=8,r.shadowColor="#000";var u=2;if(typeof t.label=="string"){var l=r.measureText(t.label).width,h=Math.round(l+5),d=Math.round(n+2*u),g=Math.max(t.size,n/2)+u,v=Math.asin(d/2/g),f=Math.sqrt(Math.abs(Math.pow(g,2)-Math.pow(d/2,2)));r.beginPath(),r.moveTo(t.x+f,t.y+d/2),r.lineTo(t.x+g+h,t.y+d/2),r.lineTo(t.x+g+h,t.y-d/2),r.lineTo(t.x+f,t.y-d/2),r.arc(t.x,t.y,g,v,-v),r.closePath(),r.fill()}else r.beginPath(),r.arc(t.x,t.y,t.size+u,0,Math.PI*2),r.closePath(),r.fill();r.shadowOffsetX=0,r.shadowOffsetY=0,r.shadowBlur=0,(0,jL.default)(r,t,e)}bc.default=HL;var _c={};Object.defineProperty(_c,"__esModule",{value:!0});function qL(r,t,e,n,o){var s=o.edgeLabelSize,u=o.edgeLabelFont,l=o.edgeLabelWeight,h=o.edgeLabelColor.attribute?t[o.edgeLabelColor.attribute]||o.edgeLabelColor.color||"#000":o.edgeLabelColor.color,d=t.label;if(d){r.fillStyle=h,r.font="".concat(l," ").concat(s,"px ").concat(u);var g=e.size,v=n.size,f=e.x,y=e.y,x=n.x,w=n.y,A=(f+x)/2,R=(y+w)/2,T=x-f,S=w-y,C=Math.sqrt(T*T+S*S);if(!(C<g+v)){f+=T*g/C,y+=S*g/C,x-=T*v/C,w-=S*v/C,A=(f+x)/2,R=(y+w)/2,T=x-f,S=w-y,C=Math.sqrt(T*T+S*S);var E=r.measureText(d).width;if(E>C){var I="…";for(d=d+I,E=r.measureText(d).width;E>C&&d.length>1;)d=d.slice(0,-2)+I,E=r.measureText(d).width;if(d.length<4)return}var G;T>0?S>0?G=Math.acos(T/C):G=Math.asin(S/C):S>0?G=Math.acos(T/C)+Math.PI:G=Math.asin(T/C)+Math.PI/2,r.save(),r.translate(A,R),r.rotate(G),r.fillText(d,-E/2,t.size/2+s),r.restore()}}}_c.default=qL;var wc={},Rp={exports:{}};(()=>{var r={d:(n,o)=>{for(var s in o)r.o(o,s)&&!r.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:o[s]})},o:(n,o)=>Object.prototype.hasOwnProperty.call(n,o),r:n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},t={};r.r(t),r.d(t,{default:()=>e});const e=`attribute vec2 a_position;
attribute float a_size;
attribute vec4 a_color;

uniform float u_ratio;
uniform float u_scale;
uniform mat3 u_matrix;

varying vec4 v_color;
varying float v_border;

const float bias = 255.0 / 254.0;

void main() {
  gl_Position = vec4(
    (u_matrix * vec3(a_position, 1)).xy,
    0,
    1
  );

  // Multiply the point size twice:
  //  - x SCALING_RATIO to correct the canvas scaling
  //  - x 2 to correct the formulae
  gl_PointSize = a_size * u_ratio * u_scale * 2.0;

  v_border = (1.0 / u_ratio) * (0.5 / a_size);

  // Extract the color:
  v_color = a_color;
  v_color.a *= bias;
}
`;Rp.exports=t})();var YL=Rp.exports,Pp={exports:{}};(()=>{var r={d:(n,o)=>{for(var s in o)r.o(o,s)&&!r.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:o[s]})},o:(n,o)=>Object.prototype.hasOwnProperty.call(n,o),r:n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},t={};r.r(t),r.d(t,{default:()=>e});const e=`precision mediump float;

varying vec4 v_color;
varying float v_border;

const float radius = 0.5;
const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

void main(void) {
  vec2 m = gl_PointCoord - vec2(0.5, 0.5);
  float dist = radius - length(m);

  float t = 0.0;
  if (dist > v_border)
    t = 1.0;
  else if (dist > 0.0)
    t = dist / v_border;

  gl_FragColor = mix(transparent, v_color, t);
}
`;Pp.exports=t})();var VL=Pp.exports,Li={},go={},xn={};Object.defineProperty(xn,"__esModule",{value:!0});xn.loadProgram=xn.loadFragmentShader=xn.loadVertexShader=void 0;function Ip(r,t,e){var n=r==="VERTEX"?t.VERTEX_SHADER:t.FRAGMENT_SHADER,o=t.createShader(n);if(o===null)throw new Error("loadShader: error while creating the shader");t.shaderSource(o,e),t.compileShader(o);var s=t.getShaderParameter(o,t.COMPILE_STATUS);if(!s){var u=t.getShaderInfoLog(o);throw t.deleteShader(o),new Error(`loadShader: error while compiling the shader:
`.concat(u,`
`).concat(e))}return o}function ZL(r,t){return Ip("VERTEX",r,t)}xn.loadVertexShader=ZL;function KL(r,t){return Ip("FRAGMENT",r,t)}xn.loadFragmentShader=KL;function XL(r,t){var e=r.createProgram();if(e===null)throw new Error("loadProgram: error while creating the program.");var n,o;for(n=0,o=t.length;n<o;n++)r.attachShader(e,t[n]);r.linkProgram(e);var s=r.getProgramParameter(e,r.LINK_STATUS);if(!s)throw r.deleteProgram(e),new Error("loadProgram: error while linking the program.");return e}xn.loadProgram=XL;Object.defineProperty(go,"__esModule",{value:!0});go.AbstractProgram=void 0;var mu=xn,QL=function(){function r(t,e,n,o,s){this.array=new Float32Array,this.points=o,this.attributes=s,this.gl=t,this.vertexShaderSource=e,this.fragmentShaderSource=n;var u=t.createBuffer();if(u===null)throw new Error("AbstractProgram: error while creating the buffer");this.buffer=u,t.bindBuffer(t.ARRAY_BUFFER,this.buffer),this.vertexShader=(0,mu.loadVertexShader)(t,this.vertexShaderSource),this.fragmentShader=(0,mu.loadFragmentShader)(t,this.fragmentShaderSource),this.program=(0,mu.loadProgram)(t,[this.vertexShader,this.fragmentShader])}return r.prototype.bufferData=function(){var t=this.gl;t.bufferData(t.ARRAY_BUFFER,this.array,t.DYNAMIC_DRAW)},r.prototype.allocate=function(t){this.array=new Float32Array(this.points*this.attributes*t)},r.prototype.hasNothingToRender=function(){return this.array.length===0},r}();go.AbstractProgram=QL;var JL=H&&H.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Li,"__esModule",{value:!0});Li.createNodeCompoundProgram=Ec=Li.AbstractNodeProgram=void 0;var eS=go,tS=function(r){JL(t,r);function t(e,n,o,s,u){var l=r.call(this,e,n,o,s,u)||this;l.positionLocation=e.getAttribLocation(l.program,"a_position"),l.sizeLocation=e.getAttribLocation(l.program,"a_size"),l.colorLocation=e.getAttribLocation(l.program,"a_color");var h=e.getUniformLocation(l.program,"u_matrix");if(h===null)throw new Error("AbstractNodeProgram: error while getting matrixLocation");l.matrixLocation=h;var d=e.getUniformLocation(l.program,"u_ratio");if(d===null)throw new Error("AbstractNodeProgram: error while getting ratioLocation");l.ratioLocation=d;var g=e.getUniformLocation(l.program,"u_scale");if(g===null)throw new Error("AbstractNodeProgram: error while getting scaleLocation");return l.scaleLocation=g,l}return t.prototype.bind=function(){var e=this.gl;e.enableVertexAttribArray(this.positionLocation),e.enableVertexAttribArray(this.sizeLocation),e.enableVertexAttribArray(this.colorLocation),e.vertexAttribPointer(this.positionLocation,2,e.FLOAT,!1,this.attributes*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(this.sizeLocation,1,e.FLOAT,!1,this.attributes*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(this.colorLocation,4,e.UNSIGNED_BYTE,!0,this.attributes*Float32Array.BYTES_PER_ELEMENT,12)},t}(eS.AbstractProgram),Ec=Li.AbstractNodeProgram=tS;function rS(r){return function(){function t(e,n){this.programs=r.map(function(o){return new o(e,n)})}return t.prototype.bufferData=function(){this.programs.forEach(function(e){return e.bufferData()})},t.prototype.allocate=function(e){this.programs.forEach(function(n){return n.allocate(e)})},t.prototype.bind=function(){},t.prototype.render=function(e){this.programs.forEach(function(n){n.bind(),n.bufferData(),n.render(e)})},t.prototype.process=function(e,n,o){this.programs.forEach(function(s){return s.process(e,n,o)})},t}()}Li.createNodeCompoundProgram=rS;var nS=H&&H.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Op=H&&H.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wc,"__esModule",{value:!0});var iS=ue,oS=Op(YL),aS=Op(VL),sS=Li,Rd=1,yu=4,uS=function(r){nS(t,r);function t(e){var n=r.call(this,e,oS.default,aS.default,Rd,yu)||this;return n.bind(),n}return t.prototype.process=function(e,n,o){var s=this.array,u=o*Rd*yu;if(n){s[u++]=0,s[u++]=0,s[u++]=0,s[u++]=0;return}var l=(0,iS.floatColor)(e.color);s[u++]=e.x,s[u++]=e.y,s[u++]=e.size,s[u]=l},t.prototype.render=function(e){if(!this.hasNothingToRender()){var n=this.gl,o=this.program;n.useProgram(o),n.uniform1f(this.ratioLocation,1/Math.sqrt(e.ratio)),n.uniform1f(this.scaleLocation,e.scalingRatio),n.uniformMatrix3fv(this.matrixLocation,!1,e.matrix),n.drawArrays(n.POINTS,0,this.array.length/yu)}},t}(sS.AbstractNodeProgram);wc.default=uS;var xc={},Dp={exports:{}};(()=>{var r={d:(n,o)=>{for(var s in o)r.o(o,s)&&!r.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:o[s]})},o:(n,o)=>Object.prototype.hasOwnProperty.call(n,o),r:n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},t={};r.r(t),r.d(t,{default:()=>e});const e=`attribute vec4 a_color;
attribute vec2 a_normal;
attribute vec2 a_position;

uniform mat3 u_matrix;
uniform float u_sqrtZoomRatio;
uniform float u_correctionRatio;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;

const float minThickness = 1.7;
const float bias = 255.0 / 254.0;

void main() {
  float normalLength = length(a_normal);
  vec2 unitNormal = a_normal / normalLength;

  // We require edges to be at least \`minThickness\` pixels thick *on screen*
  // (so we need to compensate the SQRT zoom ratio):
  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);

  // Then, we need to retrieve the normalized thickness of the edge in the WebGL
  // referential (in a ([0, 1], [0, 1]) space), using our "magic" correction
  // ratio:
  float webGLThickness = pixelsThickness * u_correctionRatio;

  // Finally, we adapt the edge thickness to the "SQRT rule" in sigma (so that
  // items are not too big when zoomed in, and not too small when zoomed out).
  // The exact computation should be \`adapted = value * zoom / sqrt(zoom)\`, but
  // it's simpler like this:
  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;

  // Here is the proper position of the vertex
  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * adaptedWebGLThickness, 1)).xy, 0, 1);

  // For the fragment shader though, we need a thickness that takes the "magic"
  // correction ratio into account (as in webGLThickness), but so that the
  // antialiasing effect does not depend on the zoom level. So here's yet
  // another thickness version:
  v_thickness = webGLThickness / u_sqrtZoomRatio;

  v_normal = unitNormal;
  v_color = a_color;
  v_color.a *= bias;
}
`;Dp.exports=t})();var cS=Dp.exports,Np={exports:{}};(()=>{var r={d:(n,o)=>{for(var s in o)r.o(o,s)&&!r.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:o[s]})},o:(n,o)=>Object.prototype.hasOwnProperty.call(n,o),r:n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},t={};r.r(t),r.d(t,{default:()=>e});const e=`precision mediump float;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;

const float feather = 0.001;
const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

void main(void) {
  float dist = length(v_normal) * v_thickness;

  float t = smoothstep(
    v_thickness - feather,
    v_thickness,
    dist
  );

  gl_FragColor = mix(v_color, transparent, t);
}
`;Np.exports=t})();var Ac=Np.exports;const lS=Vn(Ac);var tn={},hS=H&&H.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(tn,"__esModule",{value:!0});var $a=tn.createEdgeCompoundProgram=vo=tn.AbstractEdgeProgram=void 0,dS=go,fS=function(r){hS(t,r);function t(e,n,o,s,u){return r.call(this,e,n,o,s,u)||this}return t}(dS.AbstractProgram),vo=tn.AbstractEdgeProgram=fS;function pS(r){return function(){function t(e,n){this.programs=r.map(function(o){return new o(e,n)})}return t.prototype.bufferData=function(){this.programs.forEach(function(e){return e.bufferData()})},t.prototype.allocate=function(e){this.programs.forEach(function(n){return n.allocate(e)})},t.prototype.bind=function(){},t.prototype.computeIndices=function(){this.programs.forEach(function(e){return e.computeIndices()})},t.prototype.render=function(e){this.programs.forEach(function(n){n.bind(),n.bufferData(),n.render(e)})},t.prototype.process=function(e,n,o,s,u){this.programs.forEach(function(l){return l.process(e,n,o,s,u)})},t}()}$a=tn.createEdgeCompoundProgram=pS;var gS=H&&H.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gp=H&&H.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xc,"__esModule",{value:!0});var Pd=ue,vS=Gp(cS),mS=Gp(Ac),yS=tn,Gu=4,qn=5,Id=Gu*qn,bS=function(r){gS(t,r);function t(e){var n=r.call(this,e,vS.default,mS.default,Gu,qn)||this,o=e.createBuffer();if(o===null)throw new Error("EdgeProgram: error while creating indicesBuffer");n.indicesBuffer=o,n.positionLocation=e.getAttribLocation(n.program,"a_position"),n.colorLocation=e.getAttribLocation(n.program,"a_color"),n.normalLocation=e.getAttribLocation(n.program,"a_normal");var s=e.getUniformLocation(n.program,"u_matrix");if(s===null)throw new Error("EdgeProgram: error while getting matrixLocation");n.matrixLocation=s;var u=e.getUniformLocation(n.program,"u_correctionRatio");if(u===null)throw new Error("EdgeProgram: error while getting correctionRatioLocation");n.correctionRatioLocation=u;var l=e.getUniformLocation(n.program,"u_sqrtZoomRatio");if(l===null)throw new Error("EdgeProgram: error while getting sqrtZoomRatioLocation");return n.sqrtZoomRatioLocation=l,n.canUse32BitsIndices=(0,Pd.canUse32BitsIndices)(e),n.IndicesArray=n.canUse32BitsIndices?Uint32Array:Uint16Array,n.indicesArray=new n.IndicesArray,n.indicesType=n.canUse32BitsIndices?e.UNSIGNED_INT:e.UNSIGNED_SHORT,n.bind(),n}return t.prototype.bind=function(){var e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),e.enableVertexAttribArray(this.positionLocation),e.enableVertexAttribArray(this.normalLocation),e.enableVertexAttribArray(this.colorLocation),e.vertexAttribPointer(this.positionLocation,2,e.FLOAT,!1,qn*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(this.normalLocation,2,e.FLOAT,!1,qn*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(this.colorLocation,4,e.UNSIGNED_BYTE,!0,qn*Float32Array.BYTES_PER_ELEMENT,16)},t.prototype.computeIndices=function(){for(var e=this.array.length/qn,n=e+e/2,o=new this.IndicesArray(n),s=0,u=0;s<e;s+=4)o[u++]=s,o[u++]=s+1,o[u++]=s+2,o[u++]=s+2,o[u++]=s+1,o[u++]=s+3;this.indicesArray=o},t.prototype.bufferData=function(){r.prototype.bufferData.call(this);var e=this.gl;e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indicesArray,e.STATIC_DRAW)},t.prototype.process=function(e,n,o,s,u){if(s){for(var l=u*Id,h=l+Id;l<h;l++)this.array[l]=0;return}var d=o.size||1,g=e.x,v=e.y,f=n.x,y=n.y,x=(0,Pd.floatColor)(o.color),w=f-g,A=y-v,R=w*w+A*A,T=0,S=0;R&&(R=1/Math.sqrt(R),T=-A*R*d,S=w*R*d);var C=Gu*qn*u,E=this.array;E[C++]=g,E[C++]=v,E[C++]=T,E[C++]=S,E[C++]=x,E[C++]=g,E[C++]=v,E[C++]=-T,E[C++]=-S,E[C++]=x,E[C++]=f,E[C++]=y,E[C++]=T,E[C++]=S,E[C++]=x,E[C++]=f,E[C++]=y,E[C++]=-T,E[C++]=-S,E[C]=x},t.prototype.render=function(e){if(!this.hasNothingToRender()){var n=this.gl,o=this.program;n.useProgram(o),n.uniformMatrix3fv(this.matrixLocation,!1,e.matrix),n.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(e.ratio)),n.uniform1f(this.correctionRatioLocation,e.correctionRatio),n.drawElements(n.TRIANGLES,this.indicesArray.length,this.indicesType,0)}},t}(yS.AbstractEdgeProgram);xc.default=bS;var Lc={},Sc={},Fp={exports:{}};(()=>{var r={d:(n,o)=>{for(var s in o)r.o(o,s)&&!r.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:o[s]})},o:(n,o)=>Object.prototype.hasOwnProperty.call(n,o),r:n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},t={};r.r(t),r.d(t,{default:()=>e});const e=`attribute vec2 a_position;
attribute vec2 a_normal;
attribute float a_radius;
attribute vec4 a_color;
attribute vec3 a_barycentric;

uniform mat3 u_matrix;
uniform float u_sqrtZoomRatio;
uniform float u_correctionRatio;

varying vec4 v_color;

const float minThickness = 1.7;
const float bias = 255.0 / 254.0;
const float arrowHeadWidthLengthRatio = 0.66;
const float arrowHeadLengthThicknessRatio = 2.5;

void main() {
  float normalLength = length(a_normal);
  vec2 unitNormal = a_normal / normalLength;

  // These first computations are taken from edge.vert.glsl and
  // edge.clamped.vert.glsl. Please read it to get better comments on what's
  // happening:
  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);
  float webGLThickness = pixelsThickness * u_correctionRatio;
  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;
  float adaptedWebGLNodeRadius = a_radius * 2.0 * u_correctionRatio * u_sqrtZoomRatio;
  float adaptedWebGLArrowHeadLength = adaptedWebGLThickness * 2.0 * arrowHeadLengthThicknessRatio;
  float adaptedWebGLArrowHeadHalfWidth = adaptedWebGLArrowHeadLength * arrowHeadWidthLengthRatio / 2.0;

  float da = a_barycentric.x;
  float db = a_barycentric.y;
  float dc = a_barycentric.z;

  vec2 delta = vec2(
      da * (adaptedWebGLNodeRadius * unitNormal.y)
    + db * ((adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.y + adaptedWebGLArrowHeadHalfWidth * unitNormal.x)
    + dc * ((adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.y - adaptedWebGLArrowHeadHalfWidth * unitNormal.x),

      da * (-adaptedWebGLNodeRadius * unitNormal.x)
    + db * (-(adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.x + adaptedWebGLArrowHeadHalfWidth * unitNormal.y)
    + dc * (-(adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.x - adaptedWebGLArrowHeadHalfWidth * unitNormal.y)
  );

  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;

  gl_Position = vec4(position, 0, 1);

  // Extract the color:
  v_color = a_color;
  v_color.a *= bias;
}
`;Fp.exports=t})();var _S=Fp.exports,Mp={exports:{}};(()=>{var r={d:(n,o)=>{for(var s in o)r.o(o,s)&&!r.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:o[s]})},o:(n,o)=>Object.prototype.hasOwnProperty.call(n,o),r:n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},t={};r.r(t),r.d(t,{default:()=>e});const e=`precision mediump float;

varying vec4 v_color;

void main(void) {
  gl_FragColor = v_color;
}
`;Mp.exports=t})();var wS=Mp.exports,ES=H&&H.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),kp=H&&H.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Sc,"__esModule",{value:!0});var xS=ue,AS=kp(_S),LS=kp(wS),SS=tn,Fu=3,Hr=9,Od=Fu*Hr,TS=function(r){ES(t,r);function t(e){var n=r.call(this,e,AS.default,LS.default,Fu,Hr)||this;n.positionLocation=e.getAttribLocation(n.program,"a_position"),n.colorLocation=e.getAttribLocation(n.program,"a_color"),n.normalLocation=e.getAttribLocation(n.program,"a_normal"),n.radiusLocation=e.getAttribLocation(n.program,"a_radius"),n.barycentricLocation=e.getAttribLocation(n.program,"a_barycentric");var o=e.getUniformLocation(n.program,"u_matrix");if(o===null)throw new Error("EdgeArrowHeadProgram: error while getting matrixLocation");n.matrixLocation=o;var s=e.getUniformLocation(n.program,"u_sqrtZoomRatio");if(s===null)throw new Error("EdgeArrowHeadProgram: error while getting sqrtZoomRatioLocation");n.sqrtZoomRatioLocation=s;var u=e.getUniformLocation(n.program,"u_correctionRatio");if(u===null)throw new Error("EdgeArrowHeadProgram: error while getting correctionRatioLocation");return n.correctionRatioLocation=u,n.bind(),n}return t.prototype.bind=function(){var e=this.gl;e.enableVertexAttribArray(this.positionLocation),e.enableVertexAttribArray(this.normalLocation),e.enableVertexAttribArray(this.radiusLocation),e.enableVertexAttribArray(this.colorLocation),e.enableVertexAttribArray(this.barycentricLocation),e.vertexAttribPointer(this.positionLocation,2,e.FLOAT,!1,Hr*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(this.normalLocation,2,e.FLOAT,!1,Hr*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(this.radiusLocation,1,e.FLOAT,!1,Hr*Float32Array.BYTES_PER_ELEMENT,16),e.vertexAttribPointer(this.colorLocation,4,e.UNSIGNED_BYTE,!0,Hr*Float32Array.BYTES_PER_ELEMENT,20),e.vertexAttribPointer(this.barycentricLocation,3,e.FLOAT,!1,Hr*Float32Array.BYTES_PER_ELEMENT,24)},t.prototype.computeIndices=function(){},t.prototype.process=function(e,n,o,s,u){if(s){for(var l=u*Od,h=l+Od;l<h;l++)this.array[l]=0;return}var d=o.size||1,g=n.size||1,v=e.x,f=e.y,y=n.x,x=n.y,w=(0,xS.floatColor)(o.color),A=y-v,R=x-f,T=A*A+R*R,S=0,C=0;T&&(T=1/Math.sqrt(T),S=-R*T*d,C=A*T*d);var E=Fu*Hr*u,I=this.array;I[E++]=y,I[E++]=x,I[E++]=-S,I[E++]=-C,I[E++]=g,I[E++]=w,I[E++]=1,I[E++]=0,I[E++]=0,I[E++]=y,I[E++]=x,I[E++]=-S,I[E++]=-C,I[E++]=g,I[E++]=w,I[E++]=0,I[E++]=1,I[E++]=0,I[E++]=y,I[E++]=x,I[E++]=-S,I[E++]=-C,I[E++]=g,I[E++]=w,I[E++]=0,I[E++]=0,I[E]=1},t.prototype.render=function(e){if(!this.hasNothingToRender()){var n=this.gl,o=this.program;n.useProgram(o),n.uniformMatrix3fv(this.matrixLocation,!1,e.matrix),n.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(e.ratio)),n.uniform1f(this.correctionRatioLocation,e.correctionRatio),n.drawArrays(n.TRIANGLES,0,this.array.length/Hr)}},t}(SS.AbstractEdgeProgram);Sc.default=TS;var Tc={},$p={exports:{}};(()=>{var r={d:(n,o)=>{for(var s in o)r.o(o,s)&&!r.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:o[s]})},o:(n,o)=>Object.prototype.hasOwnProperty.call(n,o),r:n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},t={};r.r(t),r.d(t,{default:()=>e});const e=`attribute vec4 a_color;
attribute vec2 a_normal;
attribute vec2 a_position;
attribute float a_radius;

uniform mat3 u_matrix;
uniform float u_sqrtZoomRatio;
uniform float u_correctionRatio;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;

const float minThickness = 1.7;
const float bias = 255.0 / 254.0;
const float arrowHeadLengthThicknessRatio = 2.5;

void main() {
  float normalLength = length(a_normal);
  vec2 unitNormal = a_normal / normalLength;

  // These first computations are taken from edge.vert.glsl. Please read it to
  // get better comments on what's happening:
  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);
  float webGLThickness = pixelsThickness * u_correctionRatio;
  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;

  // Here, we move the point to leave space for the arrow head:
  float direction = sign(a_radius);
  float adaptedWebGLNodeRadius = direction * a_radius * 2.0 * u_correctionRatio * u_sqrtZoomRatio;
  float adaptedWebGLArrowHeadLength = adaptedWebGLThickness * 2.0 * arrowHeadLengthThicknessRatio;

  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength);

  // Here is the proper position of the vertex
  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * adaptedWebGLThickness + compensationVector, 1)).xy, 0, 1);

  v_thickness = webGLThickness / u_sqrtZoomRatio;

  v_normal = unitNormal;
  v_color = a_color;
  v_color.a *= bias;
}
`;$p.exports=t})();var Up=$p.exports;const CS=Vn(Up);var RS=H&&H.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bp=H&&H.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Tc,"__esModule",{value:!0});var PS=tn,Dd=ue,IS=Bp(Up),OS=Bp(Ac),Mu=4,mn=6,Nd=Mu*mn,DS=function(r){RS(t,r);function t(e){var n=r.call(this,e,IS.default,OS.default,Mu,mn)||this,o=e.createBuffer();if(o===null)throw new Error("EdgeClampedProgram: error while getting resolutionLocation");n.indicesBuffer=o,n.positionLocation=e.getAttribLocation(n.program,"a_position"),n.colorLocation=e.getAttribLocation(n.program,"a_color"),n.normalLocation=e.getAttribLocation(n.program,"a_normal"),n.radiusLocation=e.getAttribLocation(n.program,"a_radius");var s=e.getUniformLocation(n.program,"u_matrix");if(s===null)throw new Error("EdgeClampedProgram: error while getting matrixLocation");n.matrixLocation=s;var u=e.getUniformLocation(n.program,"u_sqrtZoomRatio");if(u===null)throw new Error("EdgeClampedProgram: error while getting cameraRatioLocation");n.sqrtZoomRatioLocation=u;var l=e.getUniformLocation(n.program,"u_correctionRatio");if(l===null)throw new Error("EdgeClampedProgram: error while getting viewportRatioLocation");return n.correctionRatioLocation=l,n.canUse32BitsIndices=(0,Dd.canUse32BitsIndices)(e),n.IndicesArray=n.canUse32BitsIndices?Uint32Array:Uint16Array,n.indicesArray=new n.IndicesArray,n.indicesType=n.canUse32BitsIndices?e.UNSIGNED_INT:e.UNSIGNED_SHORT,n.bind(),n}return t.prototype.bind=function(){var e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),e.enableVertexAttribArray(this.positionLocation),e.enableVertexAttribArray(this.normalLocation),e.enableVertexAttribArray(this.colorLocation),e.enableVertexAttribArray(this.radiusLocation),e.vertexAttribPointer(this.positionLocation,2,e.FLOAT,!1,mn*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(this.normalLocation,2,e.FLOAT,!1,mn*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(this.colorLocation,4,e.UNSIGNED_BYTE,!0,mn*Float32Array.BYTES_PER_ELEMENT,16),e.vertexAttribPointer(this.radiusLocation,1,e.FLOAT,!1,mn*Float32Array.BYTES_PER_ELEMENT,20)},t.prototype.process=function(e,n,o,s,u){if(s){for(var l=u*Nd,h=l+Nd;l<h;l++)this.array[l]=0;return}var d=o.size||1,g=e.x,v=e.y,f=n.x,y=n.y,x=n.size||1,w=(0,Dd.floatColor)(o.color),A=f-g,R=y-v,T=A*A+R*R,S=0,C=0;T&&(T=1/Math.sqrt(T),S=-R*T*d,C=A*T*d);var E=Mu*mn*u,I=this.array;I[E++]=g,I[E++]=v,I[E++]=S,I[E++]=C,I[E++]=w,I[E++]=0,I[E++]=g,I[E++]=v,I[E++]=-S,I[E++]=-C,I[E++]=w,I[E++]=0,I[E++]=f,I[E++]=y,I[E++]=S,I[E++]=C,I[E++]=w,I[E++]=x,I[E++]=f,I[E++]=y,I[E++]=-S,I[E++]=-C,I[E++]=w,I[E]=-x},t.prototype.computeIndices=function(){for(var e=this.array.length/mn,n=e+e/2,o=new this.IndicesArray(n),s=0,u=0;s<e;s+=4)o[u++]=s,o[u++]=s+1,o[u++]=s+2,o[u++]=s+2,o[u++]=s+1,o[u++]=s+3;this.indicesArray=o},t.prototype.bufferData=function(){r.prototype.bufferData.call(this);var e=this.gl;e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indicesArray,e.STATIC_DRAW)},t.prototype.render=function(e){if(!this.hasNothingToRender()){var n=this.gl,o=this.program;n.useProgram(o),n.uniformMatrix3fv(this.matrixLocation,!1,e.matrix),n.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(e.ratio)),n.uniform1f(this.correctionRatioLocation,e.correctionRatio),n.drawElements(n.TRIANGLES,this.indicesArray.length,this.indicesType,0)}},t}(PS.AbstractEdgeProgram);Tc.default=DS;var Wp=H&&H.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Lc,"__esModule",{value:!0});var NS=tn,GS=Wp(Sc),FS=Wp(Tc),MS=(0,NS.createEdgeCompoundProgram)([FS.default,GS.default]);Lc.default=MS;(function(r){var t=H&&H.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(r,"__esModule",{value:!0}),r.resolveSettings=r.validateSettings=r.DEFAULT_EDGE_PROGRAM_CLASSES=r.DEFAULT_NODE_PROGRAM_CLASSES=r.DEFAULT_SETTINGS=void 0;var e=ue,n=t(ka),o=t(bc),s=t(_c),u=t(wc),l=t(xc),h=t(Lc);r.DEFAULT_SETTINGS={hideEdgesOnMove:!1,hideLabelsOnMove:!1,renderLabels:!0,renderEdgeLabels:!1,enableEdgeClickEvents:!1,enableEdgeWheelEvents:!1,enableEdgeHoverEvents:!1,defaultNodeColor:"#999",defaultNodeType:"circle",defaultEdgeColor:"#ccc",defaultEdgeType:"line",labelFont:"Arial",labelSize:14,labelWeight:"normal",labelColor:{color:"#000"},edgeLabelFont:"Arial",edgeLabelSize:14,edgeLabelWeight:"normal",edgeLabelColor:{attribute:"color"},stagePadding:30,labelDensity:1,labelGridCellSize:100,labelRenderedSizeThreshold:6,nodeReducer:null,edgeReducer:null,zIndex:!1,minCameraRatio:null,maxCameraRatio:null,labelRenderer:n.default,hoverRenderer:o.default,edgeLabelRenderer:s.default,allowInvalidContainer:!1,nodeProgramClasses:{},nodeHoverProgramClasses:{},edgeProgramClasses:{}},r.DEFAULT_NODE_PROGRAM_CLASSES={circle:u.default},r.DEFAULT_EDGE_PROGRAM_CLASSES={arrow:h.default,line:l.default};function d(v){if(typeof v.labelDensity!="number"||v.labelDensity<0)throw new Error("Settings: invalid `labelDensity`. Expecting a positive number.");var f=v.minCameraRatio,y=v.maxCameraRatio;if(typeof f=="number"&&typeof y=="number"&&y<f)throw new Error("Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.")}r.validateSettings=d;function g(v){var f=(0,e.assign)({},r.DEFAULT_SETTINGS,v);return f.nodeProgramClasses=(0,e.assign)({},r.DEFAULT_NODE_PROGRAM_CLASSES,f.nodeProgramClasses),f.edgeProgramClasses=(0,e.assign)({},r.DEFAULT_EDGE_PROGRAM_CLASSES,f.edgeProgramClasses),f}r.resolveSettings=g})(Cp);var Cc={},kS=H&&H.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),$S=H&&H.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),US=H&&H.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),BS=H&&H.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&$S(t,r,e);return US(t,r),t},Gd=H&&H.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),o,s=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(l){u={error:l}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(u)throw u.error}}return s};Object.defineProperty(Cc,"__esModule",{value:!0});var gn=BS(ft),WS=200,Fd=3,zS=200,jS=function(r){kS(t,r);function t(e,n){var o=r.call(this,e,n)||this;return o.enabled=!0,o.isMoving=!1,o.hasMoved=!1,o.touchMode=0,o.startTouchesPositions=[],o.handleStart=o.handleStart.bind(o),o.handleLeave=o.handleLeave.bind(o),o.handleMove=o.handleMove.bind(o),e.addEventListener("touchstart",o.handleStart,!1),e.addEventListener("touchend",o.handleLeave,!1),e.addEventListener("touchcancel",o.handleLeave,!1),e.addEventListener("touchmove",o.handleMove,!1),o}return t.prototype.kill=function(){var e=this.container;e.removeEventListener("touchstart",this.handleStart),e.removeEventListener("touchend",this.handleLeave),e.removeEventListener("touchcancel",this.handleLeave),e.removeEventListener("touchmove",this.handleMove)},t.prototype.getDimensions=function(){return{width:this.container.offsetWidth,height:this.container.offsetHeight}},t.prototype.dispatchRelatedMouseEvent=function(e,n,o,s){var u=o||n.touches[0],l=new MouseEvent(e,{clientX:u.clientX,clientY:u.clientY,altKey:n.altKey,ctrlKey:n.ctrlKey});l.isFakeSigmaMouseEvent=!0,(s||this.container).dispatchEvent(l)},t.prototype.handleStart=function(e){var n=this;if(this.enabled){e.preventDefault(),e.touches.length===1&&this.dispatchRelatedMouseEvent("mousedown",e);var o=(0,gn.getTouchesArray)(e.touches);if(this.touchMode=o.length,this.startCameraState=this.renderer.getCamera().getState(),this.startTouchesPositions=o.map(function(f){return(0,gn.getPosition)(f,n.container)}),this.lastTouches=o,this.lastTouchesPositions=this.startTouchesPositions,this.touchMode===2){var s=Gd(this.startTouchesPositions,2),u=s[0],l=u.x,h=u.y,d=s[1],g=d.x,v=d.y;this.startTouchesAngle=Math.atan2(v-h,g-l),this.startTouchesDistance=Math.sqrt(Math.pow(g-l,2)+Math.pow(v-h,2))}this.emit("touchdown",(0,gn.getTouchCoords)(e,this.container))}},t.prototype.handleLeave=function(e){if(this.enabled){switch(e.preventDefault(),e.touches.length===0&&this.lastTouches&&this.lastTouches.length&&(this.dispatchRelatedMouseEvent("mouseup",e,this.lastTouches[0],document),this.hasMoved||this.dispatchRelatedMouseEvent("click",e,this.lastTouches[0])),this.movingTimeout&&(this.isMoving=!1,clearTimeout(this.movingTimeout)),this.touchMode){case 2:if(e.touches.length===1){this.handleStart(e),e.preventDefault();break}case 1:if(this.isMoving){var n=this.renderer.getCamera(),o=n.getState(),s=n.getPreviousState()||{x:0,y:0};n.animate({x:o.x+Fd*(o.x-s.x),y:o.y+Fd*(o.y-s.y)},{duration:zS,easing:"quadraticOut"})}this.hasMoved=!1,this.isMoving=!1,this.touchMode=0;break}this.emit("touchup",(0,gn.getTouchCoords)(e,this.container))}},t.prototype.handleMove=function(e){var n,o=this;if(this.enabled){e.preventDefault(),e.touches.length===1&&this.dispatchRelatedMouseEvent("mousemove",e);var s=(0,gn.getTouchesArray)(e.touches),u=s.map(function(me){return(0,gn.getPosition)(me,o.container)});if(this.lastTouches=s,this.lastTouchesPositions=u,this.hasMoved||(this.hasMoved=u.some(function(me,Me){var ke=o.startTouchesPositions[Me];return me.x!==ke.x||me.y!==ke.y})),!!this.hasMoved){this.isMoving=!0,this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){o.isMoving=!1},WS);var l=this.renderer.getCamera(),h=this.startCameraState;switch(this.touchMode){case 1:{var d=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0]),g=d.x,v=d.y,f=this.renderer.viewportToFramedGraph(u[0]),y=f.x,x=f.y;l.setState({x:h.x+g-y,y:h.y+v-x});break}case 2:{var w={},A=u[0],R=A.x,T=A.y,S=u[1],C=S.x,E=S.y,I=Math.atan2(E-T,C-R)-this.startTouchesAngle,G=Math.hypot(E-T,C-R)/this.startTouchesDistance,M=l.getBoundedRatio(h.ratio/G);w.ratio=M,w.angle=h.angle+I;var D=this.getDimensions(),ee=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0],{cameraState:h}),se=Math.min(D.width,D.height),fe=se/D.width,he=se/D.height,te=M/se,y=R-se/2/fe,x=T-se/2/he;n=Gd([y*Math.cos(-w.angle)-x*Math.sin(-w.angle),x*Math.cos(-w.angle)+y*Math.sin(-w.angle)],2),y=n[0],x=n[1],w.x=ee.x-y*te,w.y=ee.y+x*te,l.setState(w);break}}this.emit("touchmove",(0,gn.getTouchCoords)(e,this.container))}}},t}(gn.default);Cc.default=jS;var Si={};Object.defineProperty(Si,"__esModule",{value:!0});Si.doEdgeCollideWithPoint=Si.isPixelColored=void 0;function HS(r,t,e){var n=new Uint8Array(4);return r.readPixels(t,r.drawingBufferHeight-e,1,1,r.RGBA,r.UNSIGNED_BYTE,n),n[3]>0}Si.isPixelColored=HS;function qS(r,t,e,n,o,s,u){if(r<e-u&&r<o-u||t<n-u&&t<s-u||r>e+u&&r>o+u||t>n+u&&t>s+u)return!1;var l=Math.abs((o-e)*(n-t)-(e-r)*(s-n))/Math.sqrt(Math.pow(o-e,2)+Math.pow(s-n,2));return l<u/2}Si.doEdgeCollideWithPoint=qS;var YS=H&&H.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Te=H&&H.__assign||function(){return Te=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},Te.apply(this,arguments)},VS=H&&H.__values||function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},mo=H&&H.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fc,"__esModule",{value:!0});var ZS=mo(vp),Md=mo(Ga),KS=mo(Ma),kd=mo(rr),XS=Oi,Ue=ue,$d=Ai,va=Cp,QS=mo(Cc),ma=_t,Ud=Si,JS=150,eT=50;function tT(r,t,e){if(!e.hasOwnProperty("x")||!e.hasOwnProperty("y"))throw new Error('Sigma: could not find a valid position (x, y) for node "'.concat(t,'". All your nodes must have a number "x" and "y". Maybe your forgot to apply a layout or your "nodeReducer" is not returning the correct data?'));return e.color||(e.color=r.defaultNodeColor),!e.label&&e.label!==""&&(e.label=null),e.label!==void 0&&e.label!==null?e.label=""+e.label:e.label=null,e.size||(e.size=2),e.hasOwnProperty("hidden")||(e.hidden=!1),e.hasOwnProperty("highlighted")||(e.highlighted=!1),e.hasOwnProperty("forceLabel")||(e.forceLabel=!1),(!e.type||e.type==="")&&(e.type=r.defaultNodeType),e.zIndex||(e.zIndex=0),e}function rT(r,t,e){return e.color||(e.color=r.defaultEdgeColor),e.label||(e.label=""),e.size||(e.size=.5),e.hasOwnProperty("hidden")||(e.hidden=!1),e.hasOwnProperty("forceLabel")||(e.forceLabel=!1),(!e.type||e.type==="")&&(e.type=r.defaultEdgeType),e.zIndex||(e.zIndex=0),e}var nT=function(r){YS(t,r);function t(e,n,o){o===void 0&&(o={});var s=r.call(this)||this;if(s.elements={},s.canvasContexts={},s.webGLContexts={},s.activeListeners={},s.quadtree=new kd.default,s.labelGrid=new $d.LabelGrid,s.nodeDataCache={},s.edgeDataCache={},s.nodesWithForcedLabels=[],s.edgesWithForcedLabels=[],s.nodeExtent={x:[0,1],y:[0,1]},s.matrix=(0,ma.identity)(),s.invMatrix=(0,ma.identity)(),s.correctionRatio=1,s.customBBox=null,s.normalizationFunction=(0,Ue.createNormalizationFunction)({x:[0,1],y:[0,1]}),s.cameraSizeRatio=1,s.width=0,s.height=0,s.pixelRatio=(0,Ue.getPixelRatio)(),s.displayedLabels=new Set,s.highlightedNodes=new Set,s.hoveredNode=null,s.hoveredEdge=null,s.renderFrame=null,s.renderHighlightedNodesFrame=null,s.needToProcess=!1,s.needToSoftProcess=!1,s.checkEdgesEventsFrame=null,s.nodePrograms={},s.nodeHoverPrograms={},s.edgePrograms={},s.settings=(0,va.resolveSettings)(o),(0,va.validateSettings)(s.settings),(0,Ue.validateGraph)(e),!(n instanceof HTMLElement))throw new Error("Sigma: container should be an html element.");s.graph=e,s.container=n,s.createWebGLContext("edges",{preserveDrawingBuffer:!0}),s.createCanvasContext("edgeLabels"),s.createWebGLContext("nodes"),s.createCanvasContext("labels"),s.createCanvasContext("hovers"),s.createWebGLContext("hoverNodes"),s.createCanvasContext("mouse");for(var u in s.webGLContexts){var l=s.webGLContexts[u];l.blendFunc(l.ONE,l.ONE_MINUS_SRC_ALPHA),l.enable(l.BLEND)}for(var h in s.settings.nodeProgramClasses){var d=s.settings.nodeProgramClasses[h];s.nodePrograms[h]=new d(s.webGLContexts.nodes,s);var g=d;h in s.settings.nodeHoverProgramClasses&&(g=s.settings.nodeHoverProgramClasses[h]),s.nodeHoverPrograms[h]=new g(s.webGLContexts.hoverNodes,s)}for(var h in s.settings.edgeProgramClasses){var v=s.settings.edgeProgramClasses[h];s.edgePrograms[h]=new v(s.webGLContexts.edges,s)}return s.resize(),s.camera=new Md.default,s.bindCameraHandlers(),s.mouseCaptor=new KS.default(s.elements.mouse,s),s.touchCaptor=new QS.default(s.elements.mouse,s),s.bindEventHandlers(),s.bindGraphHandlers(),s.handleSettingsUpdate(),s.process(),s.render(),s}return t.prototype.createCanvas=function(e){var n=(0,Ue.createElement)("canvas",{position:"absolute"},{class:"sigma-".concat(e)});return this.elements[e]=n,this.container.appendChild(n),n},t.prototype.createCanvasContext=function(e){var n=this.createCanvas(e),o={preserveDrawingBuffer:!1,antialias:!1};return this.canvasContexts[e]=n.getContext("2d",o),this},t.prototype.createWebGLContext=function(e,n){var o=this.createCanvas(e),s=Te({preserveDrawingBuffer:!1,antialias:!1},n||{}),u;return u=o.getContext("webgl2",s),u||(u=o.getContext("webgl",s)),u||(u=o.getContext("experimental-webgl",s)),this.webGLContexts[e]=u,this},t.prototype.bindCameraHandlers=function(){var e=this;return this.activeListeners.camera=function(){e._scheduleRefresh()},this.camera.on("updated",this.activeListeners.camera),this},t.prototype.mouseIsOnNode=function(e,n,o){var s=e.x,u=e.y,l=n.x,h=n.y;return s>l-o&&s<l+o&&u>h-o&&u<h+o&&Math.sqrt(Math.pow(s-l,2)+Math.pow(u-h,2))<o},t.prototype.getQuadNodes=function(e){var n=this.viewportToFramedGraph(e);return this.quadtree.point(n.x,1-n.y)},t.prototype.getNodeAtPosition=function(e){for(var n=e.x,o=e.y,s=this.getQuadNodes(e),u=1/0,l=null,h=0,d=s.length;h<d;h++){var g=s[h],v=this.nodeDataCache[g],f=this.framedGraphToViewport(v),y=this.scaleSize(v.size);if(!v.hidden&&this.mouseIsOnNode(e,f,y)){var x=Math.sqrt(Math.pow(n-f.x,2)+Math.pow(o-f.y,2));x<u&&(u=x,l=g)}}return l},t.prototype.bindEventHandlers=function(){var e=this;this.activeListeners.handleResize=function(){e.needToSoftProcess=!0,e._scheduleRefresh()},window.addEventListener("resize",this.activeListeners.handleResize),this.activeListeners.handleMove=function(o){var s={event:o,preventSigmaDefault:function(){o.preventSigmaDefault()}},u=e.getNodeAtPosition(o);if(u&&e.hoveredNode!==u&&!e.nodeDataCache[u].hidden){e.hoveredNode&&e.emit("leaveNode",Te(Te({},s),{node:e.hoveredNode})),e.hoveredNode=u,e.emit("enterNode",Te(Te({},s),{node:u})),e.scheduleHighlightedNodesRender();return}if(e.hoveredNode){var l=e.nodeDataCache[e.hoveredNode],h=e.framedGraphToViewport(l),d=e.scaleSize(l.size);if(!e.mouseIsOnNode(o,h,d)){var g=e.hoveredNode;e.hoveredNode=null,e.emit("leaveNode",Te(Te({},s),{node:g})),e.scheduleHighlightedNodesRender();return}}e.settings.enableEdgeHoverEvents===!0?e.checkEdgeHoverEvents(s):e.settings.enableEdgeHoverEvents==="debounce"&&(e.checkEdgesEventsFrame||(e.checkEdgesEventsFrame=(0,Ue.requestFrame)(function(){e.checkEdgeHoverEvents(s),e.checkEdgesEventsFrame=null})))};var n=function(o){return function(s){var u={event:s,preventSigmaDefault:function(){s.preventSigmaDefault()}},l=s.original.isFakeSigmaMouseEvent,h=l?e.getNodeAtPosition(s):e.hoveredNode;if(h)return e.emit("".concat(o,"Node"),Te(Te({},u),{node:h}));if(o==="wheel"?e.settings.enableEdgeWheelEvents:e.settings.enableEdgeClickEvents){var d=e.getEdgeAtPoint(s.x,s.y);if(d)return e.emit("".concat(o,"Edge"),Te(Te({},u),{edge:d}))}return e.emit("".concat(o,"Stage"),u)}};return this.activeListeners.handleClick=n("click"),this.activeListeners.handleRightClick=n("rightClick"),this.activeListeners.handleDoubleClick=n("doubleClick"),this.activeListeners.handleWheel=n("wheel"),this.activeListeners.handleDown=n("down"),this.mouseCaptor.on("mousemove",this.activeListeners.handleMove),this.mouseCaptor.on("click",this.activeListeners.handleClick),this.mouseCaptor.on("rightClick",this.activeListeners.handleRightClick),this.mouseCaptor.on("doubleClick",this.activeListeners.handleDoubleClick),this.mouseCaptor.on("wheel",this.activeListeners.handleWheel),this.mouseCaptor.on("mousedown",this.activeListeners.handleDown),this},t.prototype.bindGraphHandlers=function(){var e=this,n=this.graph;return this.activeListeners.graphUpdate=function(){e.needToProcess=!0,e._scheduleRefresh()},this.activeListeners.softGraphUpdate=function(){e.needToSoftProcess=!0,e._scheduleRefresh()},this.activeListeners.dropNodeGraphUpdate=function(o){delete e.nodeDataCache[o.key],e.hoveredNode===o.key&&(e.hoveredNode=null),e.activeListeners.graphUpdate()},this.activeListeners.dropEdgeGraphUpdate=function(o){delete e.edgeDataCache[o.key],e.hoveredEdge===o.key&&(e.hoveredEdge=null),e.activeListeners.graphUpdate()},this.activeListeners.clearEdgesGraphUpdate=function(){e.edgeDataCache={},e.hoveredEdge=null,e.activeListeners.graphUpdate()},this.activeListeners.clearGraphUpdate=function(){e.nodeDataCache={},e.hoveredNode=null,e.activeListeners.clearEdgesGraphUpdate()},n.on("nodeAdded",this.activeListeners.graphUpdate),n.on("nodeDropped",this.activeListeners.dropNodeGraphUpdate),n.on("nodeAttributesUpdated",this.activeListeners.softGraphUpdate),n.on("eachNodeAttributesUpdated",this.activeListeners.graphUpdate),n.on("edgeAdded",this.activeListeners.graphUpdate),n.on("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),n.on("edgeAttributesUpdated",this.activeListeners.softGraphUpdate),n.on("eachEdgeAttributesUpdated",this.activeListeners.graphUpdate),n.on("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),n.on("cleared",this.activeListeners.clearGraphUpdate),this},t.prototype.unbindGraphHandlers=function(){var e=this.graph;e.removeListener("nodeAdded",this.activeListeners.graphUpdate),e.removeListener("nodeDropped",this.activeListeners.dropNodeGraphUpdate),e.removeListener("nodeAttributesUpdated",this.activeListeners.softGraphUpdate),e.removeListener("eachNodeAttributesUpdated",this.activeListeners.graphUpdate),e.removeListener("edgeAdded",this.activeListeners.graphUpdate),e.removeListener("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),e.removeListener("edgeAttributesUpdated",this.activeListeners.softGraphUpdate),e.removeListener("eachEdgeAttributesUpdated",this.activeListeners.graphUpdate),e.removeListener("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),e.removeListener("cleared",this.activeListeners.clearGraphUpdate)},t.prototype.checkEdgeHoverEvents=function(e){var n=this.hoveredNode?null:this.getEdgeAtPoint(e.event.x,e.event.y);return n!==this.hoveredEdge&&(this.hoveredEdge&&this.emit("leaveEdge",Te(Te({},e),{edge:this.hoveredEdge})),n&&this.emit("enterEdge",Te(Te({},e),{edge:n})),this.hoveredEdge=n),this},t.prototype.getEdgeAtPoint=function(e,n){var o,s,u=this,l=this,h=l.edgeDataCache,d=l.nodeDataCache;if(!(0,Ud.isPixelColored)(this.webGLContexts.edges,e*this.pixelRatio,n*this.pixelRatio))return null;var g=this.viewportToGraph({x:e,y:n}),v=g.x,f=g.y,y=0;if(this.graph.someEdge(function(E,I,G,M,D,ee){var se=D.x,fe=D.y,he=ee.x,te=ee.y;if(h[E].hidden||d[G].hidden||d[M].hidden)return!1;if(se!==he||fe!==te){var me=Math.sqrt(Math.pow(he-se,2)+Math.pow(te-fe,2)),Me=u.graphToViewport({x:se,y:fe}),ke=Me.x,He=Me.y,Ze=u.graphToViewport({x:he,y:te}),J=Ze.x,ge=Ze.y,Xe=Math.sqrt(Math.pow(J-ke,2)+Math.pow(ge-He,2));return y=me/Xe,!0}}),!y)return null;var x=this.graph.filterEdges(function(E,I,G,M,D,ee){if(h[E].hidden||d[G].hidden||d[M].hidden)return!1;if((0,Ud.doEdgeCollideWithPoint)(v,f,D.x,D.y,ee.x,ee.y,h[E].size*y/u.cameraSizeRatio))return!0});if(x.length===0)return null;var w=x[x.length-1],A=-1/0;try{for(var R=VS(x),T=R.next();!T.done;T=R.next()){var S=T.value,C=this.graph.getEdgeAttribute(S,"zIndex");C>=A&&(w=S,A=C)}}catch(E){o={error:E}}finally{try{T&&!T.done&&(s=R.return)&&s.call(R)}finally{if(o)throw o.error}}return w},t.prototype.process=function(e){var n=this;e===void 0&&(e=!1);var o=this.graph,s=this.settings,u=this.getDimensions(),l=[1/0,-1/0],h=[1/0,-1/0];this.quadtree.clear(),this.labelGrid.resizeAndClear(u,s.labelGridCellSize),this.highlightedNodes=new Set,this.nodeExtent=(0,Ue.graphExtent)(o),this.nodesWithForcedLabels=[],this.edgesWithForcedLabels=[];var d=new Md.default,g=(0,Ue.matrixFromCamera)(d.getState(),this.getDimensions(),this.getGraphDimensions(),this.getSetting("stagePadding")||0);this.normalizationFunction=(0,Ue.createNormalizationFunction)(this.customBBox||this.nodeExtent);for(var v={},f=o.nodes(),y=0,x=f.length;y<x;y++){var w=f[y],A=Object.assign({},o.getNodeAttributes(w));s.nodeReducer&&(A=s.nodeReducer(w,A));var R=tT(this.settings,w,A);v[R.type]=(v[R.type]||0)+1,this.nodeDataCache[w]=R,this.normalizationFunction.applyTo(R),R.forceLabel&&this.nodesWithForcedLabels.push(w),this.settings.zIndex&&(R.zIndex<l[0]&&(l[0]=R.zIndex),R.zIndex>l[1]&&(l[1]=R.zIndex))}for(var T in this.nodePrograms){if(!this.nodePrograms.hasOwnProperty(T))throw new Error('Sigma: could not find a suitable program for node type "'.concat(T,'"!'));e||this.nodePrograms[T].allocate(v[T]||0),v[T]=0}this.settings.zIndex&&l[0]!==l[1]&&(f=(0,Ue.zIndexOrdering)(l,function(fe){return n.nodeDataCache[fe].zIndex},f));for(var y=0,x=f.length;y<x;y++){var w=f[y],R=this.nodeDataCache[w];this.quadtree.add(w,R.x,1-R.y,R.size/this.width),typeof R.label=="string"&&!R.hidden&&this.labelGrid.add(w,R.size,this.framedGraphToViewport(R,{matrix:g}));var S=this.nodePrograms[R.type];if(!S)throw new Error('Sigma: could not find a suitable program for node type "'.concat(R.type,'"!'));S.process(R,R.hidden,v[R.type]++),R.highlighted&&!R.hidden&&this.highlightedNodes.add(w)}this.labelGrid.organize();for(var C={},E=o.edges(),y=0,x=E.length;y<x;y++){var I=E[y],A=Object.assign({},o.getEdgeAttributes(I));s.edgeReducer&&(A=s.edgeReducer(I,A));var R=rT(this.settings,I,A);C[R.type]=(C[R.type]||0)+1,this.edgeDataCache[I]=R,R.forceLabel&&!R.hidden&&this.edgesWithForcedLabels.push(I),this.settings.zIndex&&(R.zIndex<h[0]&&(h[0]=R.zIndex),R.zIndex>h[1]&&(h[1]=R.zIndex))}for(var T in this.edgePrograms){if(!this.edgePrograms.hasOwnProperty(T))throw new Error('Sigma: could not find a suitable program for edge type "'.concat(T,'"!'));e||this.edgePrograms[T].allocate(C[T]||0),C[T]=0}this.settings.zIndex&&h[0]!==h[1]&&(E=(0,Ue.zIndexOrdering)(h,function(fe){return n.edgeDataCache[fe].zIndex},E));for(var y=0,x=E.length;y<x;y++){var I=E[y],R=this.edgeDataCache[I],G=o.extremities(I),M=this.nodeDataCache[G[0]],D=this.nodeDataCache[G[1]],ee=R.hidden||M.hidden||D.hidden;this.edgePrograms[R.type].process(M,D,R,ee,C[R.type]++)}for(var T in this.edgePrograms){var se=this.edgePrograms[T];!e&&typeof se.computeIndices=="function"&&se.computeIndices()}return this},t.prototype.handleSettingsUpdate=function(){return this.camera.minRatio=this.settings.minCameraRatio,this.camera.maxRatio=this.settings.maxCameraRatio,this.camera.setState(this.camera.validateState(this.camera.getState())),this},t.prototype._refresh=function(){return this.needToProcess?this.process():this.needToSoftProcess&&this.process(!0),this.needToProcess=!1,this.needToSoftProcess=!1,this.render(),this},t.prototype._scheduleRefresh=function(){var e=this;return this.renderFrame||(this.renderFrame=(0,Ue.requestFrame)(function(){e._refresh(),e.renderFrame=null})),this},t.prototype.renderLabels=function(){if(!this.settings.renderLabels)return this;var e=this.camera.getState(),n=this.labelGrid.getLabelsToDisplay(e.ratio,this.settings.labelDensity);(0,ZS.default)(n,this.nodesWithForcedLabels),this.displayedLabels=new Set;for(var o=this.canvasContexts.labels,s=0,u=n.length;s<u;s++){var l=n[s],h=this.nodeDataCache[l];if(!this.displayedLabels.has(l)&&!h.hidden){var d=this.framedGraphToViewport(h),g=d.x,v=d.y,f=this.scaleSize(h.size);!h.forceLabel&&f<this.settings.labelRenderedSizeThreshold||g<-150||g>this.width+JS||v<-50||v>this.height+eT||(this.displayedLabels.add(l),this.settings.labelRenderer(o,Te(Te({key:l},h),{size:f,x:g,y:v}),this.settings))}}return this},t.prototype.renderEdgeLabels=function(){if(!this.settings.renderEdgeLabels)return this;var e=this.canvasContexts.edgeLabels;e.clearRect(0,0,this.width,this.height);for(var n=(0,$d.edgeLabelsToDisplayFromNodes)({graph:this.graph,hoveredNode:this.hoveredNode,displayedNodeLabels:this.displayedLabels,highlightedNodes:this.highlightedNodes}).concat(this.edgesWithForcedLabels),o=new Set,s=0,u=n.length;s<u;s++){var l=n[s],h=this.graph.extremities(l),d=this.nodeDataCache[h[0]],g=this.nodeDataCache[h[1]],v=this.edgeDataCache[l];o.has(l)||v.hidden||d.hidden||g.hidden||(this.settings.edgeLabelRenderer(e,Te(Te({key:l},v),{size:this.scaleSize(v.size)}),Te(Te(Te({key:h[0]},d),this.framedGraphToViewport(d)),{size:this.scaleSize(d.size)}),Te(Te(Te({key:h[1]},g),this.framedGraphToViewport(g)),{size:this.scaleSize(g.size)}),this.settings),o.add(l))}return this},t.prototype.renderHighlightedNodes=function(){var e=this,n=this.canvasContexts.hovers;n.clearRect(0,0,this.width,this.height);var o=function(d){var g=e.nodeDataCache[d],v=e.framedGraphToViewport(g),f=v.x,y=v.y,x=e.scaleSize(g.size);e.settings.hoverRenderer(n,Te(Te({key:d},g),{size:x,x:f,y}),e.settings)},s=[];this.hoveredNode&&!this.nodeDataCache[this.hoveredNode].hidden&&s.push(this.hoveredNode),this.highlightedNodes.forEach(function(d){d!==e.hoveredNode&&s.push(d)}),s.forEach(function(d){return o(d)});var u={};s.forEach(function(d){var g=e.nodeDataCache[d].type;u[g]=(u[g]||0)+1});for(var l in this.nodeHoverPrograms)this.nodeHoverPrograms[l].allocate(u[l]||0),u[l]=0;s.forEach(function(d){var g=e.nodeDataCache[d];e.nodeHoverPrograms[g.type].process(g,g.hidden,u[g.type]++)}),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);for(var l in this.nodeHoverPrograms){var h=this.nodeHoverPrograms[l];h.bind(),h.bufferData(),h.render({matrix:this.matrix,width:this.width,height:this.height,ratio:this.camera.ratio,correctionRatio:this.correctionRatio/this.camera.ratio,scalingRatio:this.pixelRatio})}},t.prototype.scheduleHighlightedNodesRender=function(){var e=this;this.renderHighlightedNodesFrame||this.renderFrame||(this.renderHighlightedNodesFrame=(0,Ue.requestFrame)(function(){e.renderHighlightedNodesFrame=null,e.renderHighlightedNodes(),e.renderEdgeLabels()}))},t.prototype.render=function(){var e=this;this.emit("beforeRender");var n=function(){return e.emit("afterRender"),e};if(this.renderFrame&&((0,Ue.cancelFrame)(this.renderFrame),this.renderFrame=null,this.needToProcess=!1,this.needToSoftProcess=!1),this.resize(),this.clear(),this.updateCachedValues(),!this.graph.order)return n();var o=this.mouseCaptor,s=this.camera.isAnimated()||o.isMoving||o.draggedEvents||o.currentWheelDirection,u=this.camera.getState(),l=this.getDimensions(),h=this.getGraphDimensions(),d=this.getSetting("stagePadding")||0;this.matrix=(0,Ue.matrixFromCamera)(u,l,h,d),this.invMatrix=(0,Ue.matrixFromCamera)(u,l,h,d,!0),this.correctionRatio=(0,Ue.getMatrixImpact)(this.matrix,u,l);for(var g in this.nodePrograms){var v=this.nodePrograms[g];v.bind(),v.bufferData(),v.render({matrix:this.matrix,width:this.width,height:this.height,ratio:u.ratio,correctionRatio:this.correctionRatio/u.ratio,scalingRatio:this.pixelRatio})}if(!this.settings.hideEdgesOnMove||!s)for(var g in this.edgePrograms){var v=this.edgePrograms[g];v.bind(),v.bufferData(),v.render({matrix:this.matrix,width:this.width,height:this.height,ratio:u.ratio,correctionRatio:this.correctionRatio/u.ratio,scalingRatio:this.pixelRatio})}return this.settings.hideLabelsOnMove&&s||(this.renderLabels(),this.renderEdgeLabels(),this.renderHighlightedNodes()),n()},t.prototype.updateCachedValues=function(){var e=this.camera.getState().ratio;this.cameraSizeRatio=Math.sqrt(e)},t.prototype.getCamera=function(){return this.camera},t.prototype.getContainer=function(){return this.container},t.prototype.getGraph=function(){return this.graph},t.prototype.setGraph=function(e){e!==this.graph&&(this.unbindGraphHandlers(),this.nodeDataCache={},this.edgeDataCache={},this.displayedLabels.clear(),this.highlightedNodes.clear(),this.hoveredNode=null,this.hoveredEdge=null,this.nodesWithForcedLabels.length=0,this.edgesWithForcedLabels.length=0,this.checkEdgesEventsFrame!==null&&((0,Ue.cancelFrame)(this.checkEdgesEventsFrame),this.checkEdgesEventsFrame=null),this.graph=e,this.bindGraphHandlers(),this.process(),this.render())},t.prototype.getMouseCaptor=function(){return this.mouseCaptor},t.prototype.getTouchCaptor=function(){return this.touchCaptor},t.prototype.getDimensions=function(){return{width:this.width,height:this.height}},t.prototype.getGraphDimensions=function(){var e=this.customBBox||this.nodeExtent;return{width:e.x[1]-e.x[0]||1,height:e.y[1]-e.y[0]||1}},t.prototype.getNodeDisplayData=function(e){var n=this.nodeDataCache[e];return n?Object.assign({},n):void 0},t.prototype.getEdgeDisplayData=function(e){var n=this.edgeDataCache[e];return n?Object.assign({},n):void 0},t.prototype.getSettings=function(){return Te({},this.settings)},t.prototype.getSetting=function(e){return this.settings[e]},t.prototype.setSetting=function(e,n){return this.settings[e]=n,(0,va.validateSettings)(this.settings),this.handleSettingsUpdate(),this.needToProcess=!0,this._scheduleRefresh(),this},t.prototype.updateSetting=function(e,n){return this.settings[e]=n(this.settings[e]),(0,va.validateSettings)(this.settings),this.handleSettingsUpdate(),this.needToProcess=!0,this._scheduleRefresh(),this},t.prototype.resize=function(){var e=this.width,n=this.height;if(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.pixelRatio=(0,Ue.getPixelRatio)(),this.width===0)if(this.settings.allowInvalidContainer)this.width=1;else throw new Error("Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seeing this error.");if(this.height===0)if(this.settings.allowInvalidContainer)this.height=1;else throw new Error("Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seeing this error.");if(e===this.width&&n===this.height)return this;this.emit("resize");for(var o in this.elements){var s=this.elements[o];s.style.width=this.width+"px",s.style.height=this.height+"px"}for(var o in this.canvasContexts)this.elements[o].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[o].setAttribute("height",this.height*this.pixelRatio+"px"),this.pixelRatio!==1&&this.canvasContexts[o].scale(this.pixelRatio,this.pixelRatio);for(var o in this.webGLContexts)this.elements[o].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[o].setAttribute("height",this.height*this.pixelRatio+"px"),this.webGLContexts[o].viewport(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio);return this},t.prototype.clear=function(){return this.webGLContexts.nodes.clear(this.webGLContexts.nodes.COLOR_BUFFER_BIT),this.webGLContexts.edges.clear(this.webGLContexts.edges.COLOR_BUFFER_BIT),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT),this.canvasContexts.labels.clearRect(0,0,this.width,this.height),this.canvasContexts.hovers.clearRect(0,0,this.width,this.height),this.canvasContexts.edgeLabels.clearRect(0,0,this.width,this.height),this},t.prototype.refresh=function(){return this.needToProcess=!0,this._refresh(),this},t.prototype.scheduleRefresh=function(){return this.needToProcess=!0,this._scheduleRefresh(),this},t.prototype.getViewportZoomedState=function(e,n){var o=this.camera.getState(),s=o.ratio,u=o.angle,l=o.x,h=o.y,d=n/s,g={x:this.width/2,y:this.height/2},v=this.viewportToFramedGraph(e),f=this.viewportToFramedGraph(g);return{angle:u,x:(v.x-f.x)*(1-d)+l,y:(v.y-f.y)*(1-d)+h,ratio:n}},t.prototype.viewRectangle=function(){var e=0*this.width/8,n=0*this.height/8,o=this.viewportToFramedGraph({x:0-e,y:0-n}),s=this.viewportToFramedGraph({x:this.width+e,y:0-n}),u=this.viewportToFramedGraph({x:0,y:this.height+n});return{x1:o.x,y1:o.y,x2:s.x,y2:s.y,height:s.y-u.y}},t.prototype.framedGraphToViewport=function(e,n){n===void 0&&(n={});var o=!!n.cameraState||!!n.viewportDimensions||!!n.graphDimensions,s=n.matrix?n.matrix:o?(0,Ue.matrixFromCamera)(n.cameraState||this.camera.getState(),n.viewportDimensions||this.getDimensions(),n.graphDimensions||this.getGraphDimensions(),n.padding||this.getSetting("stagePadding")||0):this.matrix,u=(0,ma.multiplyVec2)(s,e);return{x:(1+u.x)*this.width/2,y:(1-u.y)*this.height/2}},t.prototype.viewportToFramedGraph=function(e,n){n===void 0&&(n={});var o=!!n.cameraState||!!n.viewportDimensions||!n.graphDimensions,s=n.matrix?n.matrix:o?(0,Ue.matrixFromCamera)(n.cameraState||this.camera.getState(),n.viewportDimensions||this.getDimensions(),n.graphDimensions||this.getGraphDimensions(),n.padding||this.getSetting("stagePadding")||0,!0):this.invMatrix,u=(0,ma.multiplyVec2)(s,{x:e.x/this.width*2-1,y:1-e.y/this.height*2});return isNaN(u.x)&&(u.x=0),isNaN(u.y)&&(u.y=0),u},t.prototype.viewportToGraph=function(e,n){return n===void 0&&(n={}),this.normalizationFunction.inverse(this.viewportToFramedGraph(e,n))},t.prototype.graphToViewport=function(e,n){return n===void 0&&(n={}),this.framedGraphToViewport(this.normalizationFunction(e),n)},t.prototype.getBBox=function(){return(0,Ue.graphExtent)(this.graph)},t.prototype.getCustomBBox=function(){return this.customBBox},t.prototype.setCustomBBox=function(e){return this.customBBox=e,this._scheduleRefresh(),this},t.prototype.kill=function(){this.emit("kill"),this.removeAllListeners(),this.camera.removeListener("updated",this.activeListeners.camera),window.removeEventListener("resize",this.activeListeners.handleResize),this.mouseCaptor.kill(),this.touchCaptor.kill(),this.unbindGraphHandlers(),this.quadtree=new kd.default,this.nodeDataCache={},this.edgeDataCache={},this.nodesWithForcedLabels=[],this.edgesWithForcedLabels=[],this.highlightedNodes.clear(),this.renderFrame&&((0,Ue.cancelFrame)(this.renderFrame),this.renderFrame=null),this.renderHighlightedNodesFrame&&((0,Ue.cancelFrame)(this.renderHighlightedNodesFrame),this.renderHighlightedNodesFrame=null);for(var e=this.container;e.firstChild;)e.removeChild(e.firstChild)},t.prototype.scaleSize=function(e){return e/this.cameraSizeRatio},t.prototype.getCanvases=function(){return Te({},this.elements)},t}(XS.TypedEventEmitter);fc.default=nT;var Ua=H&&H.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pr,"__esModule",{value:!0});var zp=Pr.Sigma=Pr.MouseCaptor=Pr.QuadTree=Pr.Camera=void 0,jp=Ua(fc);zp=Pr.Sigma=jp.default;var iT=Ua(Ga);Pr.Camera=iT.default;var oT=Ua(rr);Pr.QuadTree=oT.default;var aT=Ua(Ma);Pr.MouseCaptor=aT.default;Pr.default=jp.default;const Hp=V.createContext(null),sT=Hp.Provider;function qp(){const r=V.useContext(Hp);if(r==null)throw new Error("No context provided: useSigmaContext() can only be used in a descendant of <SigmaContainer>");return r}function Rc(){return qp().sigma}function Yp(){const{sigma:r,container:t}=qp(),[e,n]=V.useState({});return V.useEffect(()=>{if(!r||!e)return;const o={};return Object.keys(e).forEach(s=>{o[s]=e[s],r.setSetting(s,e[s])}),()=>{r&&t&&t.offsetWidth>0&&t.offsetHeight>0&&Object.keys(o).forEach(s=>{r.setSetting(s,o[s])})}},[r,e,t]),n}const Bd=["clickNode","rightClickNode","downNode","enterNode","leaveNode","doubleClickNode","wheelNode","clickEdge","rightClickEdge","downEdge","enterEdge","leaveEdge","doubleClickEdge","wheelEdge","clickStage","rightClickStage","downStage","doubleClickStage","wheelStage","beforeRender","afterRender","kill"],Wd=["click","rightClick","mouseup","mousedown","mousemove","mousemovebody","doubleClick","wheel"],zd=["touchup","touchdown","touchmove"],jd=["updated"];function uT(){const r=Rc(),t=Yp(),[e,n]=V.useState({});return V.useEffect(()=>{if(!r||!e)return;const o=e,s=Object.keys(o),u={},l={},h=r.getSettings();return s.some(d=>["clickEdge","rightClickEdge","doubleClickEdge","downEdge"].includes(d))&&h.enableEdgeClickEvents===!1&&(u.enableEdgeClickEvents=!0,l.enableEdgeClickEvents=!1),s.some(d=>["enterEdge","leaveEdge"].includes(d))&&h.enableEdgeHoverEvents===!1&&(u.enableEdgeHoverEvents=!0,l.enableEdgeHoverEvents=!1),s.some(d=>["wheelEdge"].includes(d))&&h.enableEdgeWheelEvents===!1&&(u.enableEdgeWheelEvents=!0,l.enableEdgeWheelEvents=!1),Object.keys(u).length>0&&t(u),s.forEach(d=>{const g=o[d];Bd.find(v=>v===d)&&r.on(d,g),Wd.find(v=>v===d)&&r.getMouseCaptor().on(d,g),zd.find(v=>v===d)&&r.getTouchCaptor().on(d,g),jd.find(v=>v===d)&&r.getCamera().on(d,g)}),()=>{Object.keys(l).length>0&&t(l),r&&s.forEach(d=>{const g=o[d];Bd.find(v=>v===d)&&r.off(d,g),Wd.find(v=>v===d)&&r.getMouseCaptor().off(d,g),zd.find(v=>v===d)&&r.getTouchCaptor().off(d,g),jd.find(v=>v===d)&&r.getCamera().off(d,g)})}},[r,e,t]),n}const cT=V.forwardRef(({graph:r,id:t,className:e,style:n,settings:o,children:s},u)=>{const l=V.useRef(null),h=V.useRef(null),d={className:`react-sigma ${e||""}`,id:t,style:n},[g,v]=V.useState(null),f=V.useRef({});b1.isEqual(f.current,o)||(f.current=o||{}),V.useEffect(()=>{let w=null;if(h.current!==null){const A=r?typeof r=="function"?new r:r:new Ge;w=new zp(A,h.current,Object.assign({allowInvalidContainer:!0},f.current)),g&&w.getCamera().setState(g.getCamera().getState())}return v(w),()=>{w&&w.kill(),v(null)}},[h,r,f]),V.useImperativeHandle(u,()=>g,[g]);const y=V.useMemo(()=>g&&l.current?{sigma:g,container:l.current}:null,[g,l.current]),x=y!==null?uu.createElement(sT,{value:y},s):null;return uu.createElement("div",Object.assign({},d,{ref:l}),uu.createElement("div",{className:"sigma-container",ref:h}),x)}),bu=.06,ku=.5,$u=15,lT=8,hT=0,dT=(r,t)=>{const e=t.x-r.x,n=t.y-r.y;return Math.sqrt(e*e+n*n)},fT=(r,t)=>({x:t.x-r.x,y:t.y-r.y}),Ra=r=>{const t=r.split("_"),e=t.shift(),n=t.pop(),o=t.join("_");return e?n?o?{source:e,target:n,label:o}:(console.warn("Invalid edge key. Unable to evaluate label"),null):(console.warn("Invalid edge key. No target found"),null):(console.warn("Invalid edge key. No source found"),null)},Uu=(r,t,e)=>{const n=e.getNodeDisplayData(r),o=e.getNodeDisplayData(t);return!n||!o?null:{source:n,target:o}},Vp=(r,t)=>{const e=r.size,n=t.size;let o=r.x,s=r.y,u=t.x,l=t.y,h=(o+u)/2,d=(s+l)/2,g=u-o,v=l-s,f=Math.sqrt(g*g+v*v);return f<e+n?{distance:0,cx:h,cy:d}:(o+=g*e/f,s+=v*e/f,u-=g*n/f,l-=v*n/f,h=(o+u)/2,d=(s+l)/2,g=u-o,v=l-s,f=Math.sqrt(g*g+v*v),{distance:f,cx:h,cy:d})},pT=(r,t,e)=>{let n=t,o=r.measureText(n).width;if(o>e&&e!==0){const s="…";for(n=n+s,o=r.measureText(n).width;o>e&&n.length>1;)n=n.slice(0,-2)+s,o=r.measureText(n).width;if(n.length<4)return 0}return o},Pa=(r,t)=>r.viewportToFramedGraph(r.graphToViewport(t)),gT=r=>{const{x:t,y:e}=r,[n,o]=t,[s,u]=e,l=(o+n)/2,h=(u+s)/2;return{x:l,y:h}},vT=r=>{const t=r.getGraph(),e=pc(t),n=r.getCamera(),o=n.ratio,s=n.getState(),{x:u,y:l}=Pa(r,{x:e.x[0],y:e.y[0]}),{x:h,y:d}=Pa(r,{x:e.x[1],y:e.y[1]}),{x1:g,x2:v,y1:f,y2:y,height:x}=r.viewRectangle(),w=d-l,A=h-u,R=v-g;if(u<g||h>v||l<f||d>y){const T=Math.hypot(R,x),S=Math.hypot(A,w);let C=o*Math.max(S/T,w/x,A/R)*1.1;C<ku&&(C=ku),C>$u&&(C=$u),s.ratio=C,s.x=.5,s.y=.5}n.animate(s,{easing:"quadraticOut",duration:250},()=>{r.scheduleRefresh()})},mT=r=>{const t=pc(r.getGraph()),e=gT(t),{width:n,height:o}=r.getDimensions();return{x:[e.x-n/2,e.x+n/2],y:[e.y-o/2,e.y+o/2]}},ro=r=>{r.setCustomBBox(mT(r)),setTimeout(()=>{vT(r)},250)},xe={getNormals(r,t){const e=t.x-r.x,n=t.y-r.y,o=1/xe.getLineLength(r,t);return{x:e*o,y:n*o}},getOffsetVertex:(r,t,e,n)=>{const o=xe.getNormals(r,t);return{x:e.x+n*o.y,y:e.y-n*o.x}},getCoordinatesAlongQuadraticBezier:(r,t,e,n)=>({x:(1-n)*(1-n)*r.x+2*(1-n)*n*e.x+n*n*t.x,y:(1-n)*(1-n)*r.y+2*(1-n)*n*e.y+n*n*t.y}),getCoordinatesAlongCubicBezier:(r,t,e,n,o)=>({x:Math.pow(1-o,3)*r.x+3*Math.pow(1-o,2)*o*t.x+3*(1-o)*Math.pow(o,2)*e.x+Math.pow(o,3)*n.x,y:Math.pow(1-o,3)*r.y+3*Math.pow(1-o,2)*o*t.y+3*(1-o)*Math.pow(o,2)*e.y+Math.pow(o,3)*n.y}),getMidpoint:(r,t)=>({x:(r.x+t.x)/2,y:(r.y+t.y)/2}),getLineLength:(r,t)=>Math.sqrt((t.x-r.x)*(t.x-r.x)+(t.y-r.y)*(t.y-r.y)),calculateCurveHeight:(r,t,e)=>{if(t===void 0||r===void 0)return 0;const n=r%2===0,o=t%2===0;if(!n&&t===0)return 0;n||(t-=1);let s=Math.floor(t/2)*bu+bu;return n&&(s-=bu/2),o&&(s*=-1),e&&(s*=e),s},getControlAtMidpoint:(r,t,e)=>{const n=xe.getMidpoint(t,e);return xe.getOffsetVertex(t,e,n,r)}},yT=`
precision mediump float;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;

const float feather = 0.001;
const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

void main(void) {
  float dist = length(v_normal) * v_thickness;

  float t = smoothstep(
    v_thickness - feather,
    v_thickness,
    dist
  );

  gl_FragColor = mix(v_color, transparent, t);
}
`,bT=`
attribute vec4 a_color;
attribute vec2 a_normal;
attribute vec2 a_position;
attribute float a_radius;

uniform mat3 u_matrix;
uniform float u_sqrtZoomRatio;
uniform float u_correctionRatio;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;

const float minThickness = 1.7;
const float bias = 255.0 / 254.0;
const float arrowHeadLengthThicknessRatio = 2.5;

void main() {
  float normalLength = length(a_normal);
  vec2 unitNormal = a_normal / normalLength;

  // These first computations are taken from edge.vert.glsl. Please read it to
  // get better comments on what's happening:
  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);
  float webGLThickness = pixelsThickness * u_correctionRatio;
  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;

  // Here, we move the point to leave space for the arrow head:
  float direction = sign(a_radius);
  float adaptedWebGLNodeRadius = direction * a_radius * 2.0 * u_correctionRatio * u_sqrtZoomRatio;
  float adaptedWebGLArrowHeadLength = adaptedWebGLThickness * 2.0 * arrowHeadLengthThicknessRatio;

  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength);

  // Here is the proper position of the vertex
  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * adaptedWebGLThickness + compensationVector, 1)).xy, 0, 1);

  v_thickness = webGLThickness / u_sqrtZoomRatio;

  v_normal = unitNormal;
  v_color = a_color;
  v_color.a *= bias;
}`,Bu=.02,Wu=2/Bu+2,yn=6,Hd=Wu*yn;class Zp extends vo{constructor(e){super(e,bT,yT,Wu,yn);Q(this,"IndicesArray");Q(this,"indicesArray");Q(this,"indicesBuffer");Q(this,"indicesType");Q(this,"positionLocation");Q(this,"colorLocation");Q(this,"normalLocation");Q(this,"radiusLocation");Q(this,"matrixLocation");Q(this,"sqrtZoomRatioLocation");Q(this,"correctionRatioLocation");Q(this,"canUse32BitsIndices");const n=e.createBuffer();if(n===null)throw new Error("EdgeClampedProgram: error while getting resolutionLocation");this.indicesBuffer=n,this.positionLocation=e.getAttribLocation(this.program,"a_position"),this.colorLocation=e.getAttribLocation(this.program,"a_color"),this.normalLocation=e.getAttribLocation(this.program,"a_normal"),this.radiusLocation=e.getAttribLocation(this.program,"a_radius");const o=e.getUniformLocation(this.program,"u_matrix");if(o===null)throw new Error("EdgeClampedProgram: error while getting matrixLocation");this.matrixLocation=o;const s=e.getUniformLocation(this.program,"u_sqrtZoomRatio");if(s===null)throw new Error("EdgeClampedProgram: error while getting cameraRatioLocation");this.sqrtZoomRatioLocation=s;const u=e.getUniformLocation(this.program,"u_correctionRatio");if(u===null)throw new Error("EdgeClampedProgram: error while getting viewportRatioLocation");this.correctionRatioLocation=u,this.canUse32BitsIndices=vc(e),this.IndicesArray=this.canUse32BitsIndices?Uint32Array:Uint16Array,this.indicesArray=new this.IndicesArray,this.indicesType=this.canUse32BitsIndices?e.UNSIGNED_INT:e.UNSIGNED_SHORT,this.bind()}bind(){const e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),e.enableVertexAttribArray(this.positionLocation),e.enableVertexAttribArray(this.normalLocation),e.enableVertexAttribArray(this.colorLocation),e.enableVertexAttribArray(this.radiusLocation),e.vertexAttribPointer(this.positionLocation,2,e.FLOAT,!1,yn*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(this.normalLocation,2,e.FLOAT,!1,yn*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(this.colorLocation,4,e.UNSIGNED_BYTE,!0,yn*Float32Array.BYTES_PER_ELEMENT,16),e.vertexAttribPointer(this.radiusLocation,1,e.FLOAT,!1,yn*Float32Array.BYTES_PER_ELEMENT,20)}process(e,n,o,s,u){if(s){for(let w=u*Hd,A=w+Hd;w<A;w++)this.array[w]=0;return}const l={x:e.x,y:e.y},h={x:n.x,y:n.y},d=o.size||1;let{control:g}=o;if(!g){const w=xe.calculateCurveHeight(o.groupSize,o.groupPosition,o.direction);g=xe.getControlAtMidpoint(w,l,h)}const v=[];for(let w=0;w<=1;w+=Bu){const A=xe.getCoordinatesAlongQuadraticBezier(l,h,g,w);v.push(A)}let f=Wu*yn*u;const y=this.array,x=mr(o.color);for(let w=0;w<v.length;w++){const A=w===0,R=w===v.length-1;let T;if(A)T=xe.getNormals(v[w],v[w+1]);else if(R)T=xe.getNormals(v[w-1],v[w]);else{const C=xe.getNormals(v[w-1],v[w]),E=xe.getNormals(v[w],v[w+1]);T=xe.getMidpoint(C,E)}const S={x:T.x*d,y:-T.y*d};y[f++]=v[w].x,y[f++]=v[w].y,y[f++]=S.y,y[f++]=S.x,y[f++]=x,y[f++]=0,y[f++]=v[w].x,y[f++]=v[w].y,y[f++]=-S.y,y[f++]=-S.x,y[f++]=x,y[f++]=0}}computeIndices(){const e=this.array.length/yn,n=e*3,o=new this.IndicesArray(n);for(let s=0,u=0;s+3<e;s+=2)o[u++]=s,o[u++]=s+1,o[u++]=s+2,o[u++]=s+2,o[u++]=s+1,o[u++]=s+3,u/6%(Bu-1)===0&&(s+=2);this.indicesArray=o}bufferData(){super.bufferData();const e=this.gl;e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indicesArray,e.STATIC_DRAW)}render(e){if(this.hasNothingToRender())return;const n=this.gl,o=this.program;n.useProgram(o),n.uniformMatrix3fv(this.matrixLocation,!1,e.matrix),n.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(e.ratio)),n.uniform1f(this.correctionRatioLocation,e.correctionRatio),n.drawElements(n.TRIANGLES,this.indicesArray.length,this.indicesType,0)}}const Kp=.02,Xp=2/Kp+2,Qp=6,qd=Xp*Qp,Ba=(r,t,e,n,o)=>{const s=r++,u=Math.PI/2,l=u*s-Math.PI/2,h=l+u,d=t*Math.cos(h),g=t*Math.sin(h),v=t*Math.cos(l),f=t*Math.sin(l);if(o&&!n){const y={x:e.x+-1*d,y:e.y+g},x={x:e.x+-1*v,y:e.y+f};return{control2:y,control3:x}}if(n&&!o){const y={x:e.x+d,y:e.y+-1*g},x={x:e.x+v,y:e.y+-1*f};return{control2:y,control3:x}}else if(n&&o){const y={x:e.x+-1*d,y:e.y+-1*g},x={x:e.x+-1*v,y:e.y+-1*f};return{control2:y,control3:x}}else{const y={x:e.x+d,y:e.y+g},x={x:e.x+v,y:e.y+f};return{control2:y,control3:x}}};class _T extends Zp{process(t,e,n,o,s){if(o){for(let f=s*qd,y=f+qd;f<y;f++)this.array[f]=0;return}const u={x:t.x,y:t.y},l=n.size||1,h=[];for(let f=0;f<=1;f+=Kp){const{control2:y,control3:x}=Ba(n.groupPosition,n.framedGraphNodeRadius*3,u,!0,!0),w=xe.getCoordinatesAlongCubicBezier(u,y,x,u,f);h.push(w)}let d=Xp*Qp*s;const g=this.array,v=mr(n.color);for(let f=0;f<h.length;f++){const y=f===0,x=f===h.length-1;let w;if(y)w=xe.getNormals(h[f],h[f+1]);else if(x)w=xe.getNormals(h[f-1],h[f]);else{const R=xe.getNormals(h[f-1],h[f]),T=xe.getNormals(h[f],h[f+1]);w=xe.getMidpoint(R,T)}const A={x:w.x*l,y:-w.y*l};g[d++]=h[f].x,g[d++]=h[f].y,g[d++]=A.y,g[d++]=A.x,g[d++]=v,g[d++]=0,g[d++]=h[f].x,g[d++]=h[f].y,g[d++]=-A.y,g[d++]=-A.x,g[d++]=v,g[d++]=0}}}const _u=.65,wu=.5,mi=3,wT=2,ET=8,xT=["curved","arrow"],Jp=r=>r>=_u?1:r<_u&&r>wu?(r-wu)/(_u-wu):0,AT={inverseSqrtZoomRatio:1,label:"",position:{x:0,y:0},size:1},LT=(r,t=AT)=>{const e=r.measureText(t.label),n=e.width,o=e.actualBoundingBoxAscent+e.actualBoundingBoxDescent,s=((t.size??0)+mi/2)*t.inverseSqrtZoomRatio,u=o/2;return[t.position.x+s-1,t.position.y-u-mi,n+2*mi,o+2*mi]},Di=(r,t,e)=>{let n=1;return e&&(r?n=(e+wT+2)*t:n=e*t),n};function Pc(r,t,e){if(!t.label||!e.labelColor.color)return;const n=t.inverseSqrtZoomRatio||1,o=e.labelSize*n,s=e.labelFont,u=e.labelWeight;r.globalAlpha=Jp(n),r.font=`${u} ${o}px ${s}`;const l={inverseSqrtZoomRatio:n,label:t.label,position:t,size:t.size??0},h=LT(r,l);xT.includes(t.type??"")&&(h[0]=h[0]-h[2]/2-ET),r.fillStyle=t.highlighted?t.highlightedBackground:t.backgroundColor,r.fillRect(...h),r.fillStyle=t.highlighted?t.highlightedText:e.labelColor.color,r.fillText(t.label,h[0]+mi,h[1]+h[3]-mi),r.globalAlpha=1}const ST=5,TT=r=>ST*r,CT=(r,t,e,n)=>{const o=TT(r),s=-t/2-o,u=e/2*r-n*r,l=t+2*o,h=n*r*1.4;return{deltaX:s,deltaY:u,width:l,height:h}},RT=(r,t,e)=>xe.getCoordinatesAlongQuadraticBezier(r,t,e,.5),eg=(r,t,e,n)=>xe.getCoordinatesAlongCubicBezier(r,t,e,n,.5),PT=(r,t,e,n)=>{if(r.controlInViewport)return RT(t,e,r.controlInViewport);if(r.type==="self"){const o=r.inverseSqrtZoomRatio||1,s=xe.getLineLength({x:0,y:0},{x:t.size*Math.pow(o,2),y:t.size*Math.pow(o,2)}),{control2:u,control3:l}=Ba(r.groupPosition,s*3,t,!1,!0);return eg(t,u,l,t)}else return{x:n.cx,y:n.cy}};function IT(r,t,e,n,o){if(!t.label)return;const u=Vp(e,n),l=PT(t,e,n,u),h={...t,...l};Pc(r,h,o)}const tg=`
precision mediump float;

varying vec4 v_color;

void main(void) {
  gl_FragColor = v_color;
}`,rg=`
attribute vec2 a_position;
attribute vec2 a_normal;
attribute float a_radius;
attribute vec4 a_color;
attribute vec3 a_barycentric;

uniform mat3 u_matrix;
uniform float u_sqrtZoomRatio;
uniform float u_correctionRatio;

varying vec4 v_color;

const float minThickness = 1.7;
const float bias = 255.0 / 254.0;
const float arrowHeadWidthLengthRatio = 0.75;
const float arrowHeadLengthThicknessRatio = 3.0;

void main() {
  float normalLength = length(a_normal);
  vec2 unitNormal = a_normal / normalLength;

  // These first computations are taken from edge.vert.glsl and
  // edge.clamped.vert.glsl. Please read it to get better comments on what's
  // happening:
  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);
  float webGLThickness = pixelsThickness * u_correctionRatio;
  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;
  float adaptedWebGLNodeRadius = a_radius * 2.0 * u_correctionRatio * u_sqrtZoomRatio;
  float adaptedWebGLArrowHeadLength = adaptedWebGLThickness * 2.0 * arrowHeadLengthThicknessRatio;
  float adaptedWebGLArrowHeadHalfWidth = adaptedWebGLArrowHeadLength * arrowHeadWidthLengthRatio / 2.0;

  float da = a_barycentric.x;
  float db = a_barycentric.y;
  float dc = a_barycentric.z;

  vec2 delta = vec2(
      da * (adaptedWebGLNodeRadius * unitNormal.y)
    + db * ((adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.y + adaptedWebGLArrowHeadHalfWidth * unitNormal.x)
    + dc * ((adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.y - adaptedWebGLArrowHeadHalfWidth * unitNormal.x),

      da * (-adaptedWebGLNodeRadius * unitNormal.x)
    + db * (-(adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.x + adaptedWebGLArrowHeadHalfWidth * unitNormal.y)
    + dc * (-(adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.x - adaptedWebGLArrowHeadHalfWidth * unitNormal.y)
  );

  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;

  gl_Position = vec4(position, 0, 1);

  // Extract the color:
  v_color = a_color;
  v_color.a *= bias;
}`,zu=3,qr=9,Yd=zu*qr;class OT extends vo{constructor(e){super(e,rg,tg,zu,qr);Q(this,"positionLocation");Q(this,"colorLocation");Q(this,"normalLocation");Q(this,"radiusLocation");Q(this,"barycentricLocation");Q(this,"matrixLocation");Q(this,"sqrtZoomRatioLocation");Q(this,"correctionRatioLocation");this.positionLocation=e.getAttribLocation(this.program,"a_position"),this.colorLocation=e.getAttribLocation(this.program,"a_color"),this.normalLocation=e.getAttribLocation(this.program,"a_normal"),this.radiusLocation=e.getAttribLocation(this.program,"a_radius"),this.barycentricLocation=e.getAttribLocation(this.program,"a_barycentric");const n=e.getUniformLocation(this.program,"u_matrix");if(n===null)throw new Error("EdgeArrowHeadProgram: error while getting matrixLocation");this.matrixLocation=n;const o=e.getUniformLocation(this.program,"u_sqrtZoomRatio");if(o===null)throw new Error("EdgeArrowHeadProgram: error while getting sqrtZoomRatioLocation");this.sqrtZoomRatioLocation=o;const s=e.getUniformLocation(this.program,"u_correctionRatio");if(s===null)throw new Error("EdgeArrowHeadProgram: error while getting correctionRatioLocation");this.correctionRatioLocation=s,this.bind()}bind(){const e=this.gl;e.enableVertexAttribArray(this.positionLocation),e.enableVertexAttribArray(this.normalLocation),e.enableVertexAttribArray(this.radiusLocation),e.enableVertexAttribArray(this.colorLocation),e.enableVertexAttribArray(this.barycentricLocation),e.vertexAttribPointer(this.positionLocation,2,e.FLOAT,!1,qr*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(this.normalLocation,2,e.FLOAT,!1,qr*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(this.radiusLocation,1,e.FLOAT,!1,qr*Float32Array.BYTES_PER_ELEMENT,16),e.vertexAttribPointer(this.colorLocation,4,e.UNSIGNED_BYTE,!0,qr*Float32Array.BYTES_PER_ELEMENT,20),e.vertexAttribPointer(this.barycentricLocation,3,e.FLOAT,!1,qr*Float32Array.BYTES_PER_ELEMENT,24)}computeIndices(){}process(e,n,o,s,u){if(s){for(let I=u*Yd,G=I+Yd;I<G;I++)this.array[I]=0;return}const l=o.inverseSqrtZoomRatio||1,h=o.size||1,d=e.x,g=e.y,v=n.x,f=n.y,y=mr(o.color),x=Di(n.highlighted,l,n.size),w=v-d,A=f-g;let R=w*w+A*A,T=0,S=0;R&&(R=1/Math.sqrt(R),T=-A*R*h,S=w*R*h);let C=zu*qr*u;const E=this.array;E[C++]=v,E[C++]=f,E[C++]=-T,E[C++]=-S,E[C++]=x,E[C++]=y,E[C++]=1,E[C++]=0,E[C++]=0,E[C++]=v,E[C++]=f,E[C++]=-T,E[C++]=-S,E[C++]=x,E[C++]=y,E[C++]=0,E[C++]=1,E[C++]=0,E[C++]=v,E[C++]=f,E[C++]=-T,E[C++]=-S,E[C++]=x,E[C++]=y,E[C++]=0,E[C++]=0,E[C]=1}render(e){if(this.hasNothingToRender())return;const n=this.gl,o=this.program;n.useProgram(o),n.uniformMatrix3fv(this.matrixLocation,!1,e.matrix),n.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(e.ratio)),n.uniform1f(this.correctionRatioLocation,e.correctionRatio),n.drawArrays(n.TRIANGLES,0,this.array.length/qr)}}const ju=4,bn=6,Vd=ju*bn;class DT extends vo{constructor(e){super(e,CS,lS,ju,bn);Q(this,"IndicesArray");Q(this,"indicesArray");Q(this,"indicesBuffer");Q(this,"indicesType");Q(this,"positionLocation");Q(this,"colorLocation");Q(this,"normalLocation");Q(this,"radiusLocation");Q(this,"matrixLocation");Q(this,"sqrtZoomRatioLocation");Q(this,"correctionRatioLocation");Q(this,"canUse32BitsIndices");const n=e.createBuffer();if(n===null)throw new Error("EdgeClampedProgram: error while getting resolutionLocation");this.indicesBuffer=n,this.positionLocation=e.getAttribLocation(this.program,"a_position"),this.colorLocation=e.getAttribLocation(this.program,"a_color"),this.normalLocation=e.getAttribLocation(this.program,"a_normal"),this.radiusLocation=e.getAttribLocation(this.program,"a_radius");const o=e.getUniformLocation(this.program,"u_matrix");if(o===null)throw new Error("EdgeClampedProgram: error while getting matrixLocation");this.matrixLocation=o;const s=e.getUniformLocation(this.program,"u_sqrtZoomRatio");if(s===null)throw new Error("EdgeClampedProgram: error while getting cameraRatioLocation");this.sqrtZoomRatioLocation=s;const u=e.getUniformLocation(this.program,"u_correctionRatio");if(u===null)throw new Error("EdgeClampedProgram: error while getting viewportRatioLocation");this.correctionRatioLocation=u,this.canUse32BitsIndices=vc(e),this.IndicesArray=this.canUse32BitsIndices?Uint32Array:Uint16Array,this.indicesArray=new this.IndicesArray,this.indicesType=this.canUse32BitsIndices?e.UNSIGNED_INT:e.UNSIGNED_SHORT,this.bind()}bind(){const e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),e.enableVertexAttribArray(this.positionLocation),e.enableVertexAttribArray(this.normalLocation),e.enableVertexAttribArray(this.colorLocation),e.enableVertexAttribArray(this.radiusLocation),e.vertexAttribPointer(this.positionLocation,2,e.FLOAT,!1,bn*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(this.normalLocation,2,e.FLOAT,!1,bn*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(this.colorLocation,4,e.UNSIGNED_BYTE,!0,bn*Float32Array.BYTES_PER_ELEMENT,16),e.vertexAttribPointer(this.radiusLocation,1,e.FLOAT,!1,bn*Float32Array.BYTES_PER_ELEMENT,20)}process(e,n,o,s,u){if(s){for(let I=u*Vd,G=I+Vd;I<G;I++)this.array[I]=0;return}const l=o.inverseSqrtZoomRatio||1,h=o.size||1,d=e.x,g=e.y,v=n.x,f=n.y,y=mr(o.color),x=Di(n.highlighted,l,n.size),w=v-d,A=f-g;let R=w*w+A*A,T=0,S=0;R&&(R=1/Math.sqrt(R),T=-A*R*h,S=w*R*h);let C=ju*bn*u;const E=this.array;E[C++]=d,E[C++]=g,E[C++]=T,E[C++]=S,E[C++]=y,E[C++]=0,E[C++]=d,E[C++]=g,E[C++]=-T,E[C++]=-S,E[C++]=y,E[C++]=0,E[C++]=v,E[C++]=f,E[C++]=T,E[C++]=S,E[C++]=y,E[C++]=x,E[C++]=v,E[C++]=f,E[C++]=-T,E[C++]=-S,E[C++]=y,E[C]=-x}computeIndices(){const e=this.array.length/bn,n=e+e/2,o=new this.IndicesArray(n);for(let s=0,u=0;s<e;s+=4)o[u++]=s,o[u++]=s+1,o[u++]=s+2,o[u++]=s+2,o[u++]=s+1,o[u++]=s+3;this.indicesArray=o}bufferData(){super.bufferData();const e=this.gl;e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indicesArray,e.STATIC_DRAW)}render(e){if(this.hasNothingToRender())return;const n=this.gl,o=this.program;n.useProgram(o),n.uniformMatrix3fv(this.matrixLocation,!1,e.matrix),n.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(e.ratio)),n.uniform1f(this.correctionRatioLocation,e.correctionRatio),n.drawElements(n.TRIANGLES,this.indicesArray.length,this.indicesType,0)}}const NT=$a([DT,OT]),Hu=3,Yr=9,Zd=Hu*Yr;class ng extends vo{constructor(e){super(e,rg,tg,Hu,Yr);Q(this,"positionLocation");Q(this,"colorLocation");Q(this,"normalLocation");Q(this,"radiusLocation");Q(this,"barycentricLocation");Q(this,"matrixLocation");Q(this,"sqrtZoomRatioLocation");Q(this,"correctionRatioLocation");this.positionLocation=e.getAttribLocation(this.program,"a_position"),this.colorLocation=e.getAttribLocation(this.program,"a_color"),this.normalLocation=e.getAttribLocation(this.program,"a_normal"),this.radiusLocation=e.getAttribLocation(this.program,"a_radius"),this.barycentricLocation=e.getAttribLocation(this.program,"a_barycentric");const n=e.getUniformLocation(this.program,"u_matrix");if(n===null)throw new Error("EdgeArrowHeadProgram: error while getting matrixLocation");this.matrixLocation=n;const o=e.getUniformLocation(this.program,"u_sqrtZoomRatio");if(o===null)throw new Error("EdgeArrowHeadProgram: error while getting sqrtZoomRatioLocation");this.sqrtZoomRatioLocation=o;const s=e.getUniformLocation(this.program,"u_correctionRatio");if(s===null)throw new Error("EdgeArrowHeadProgram: error while getting correctionRatioLocation");this.correctionRatioLocation=s,this.bind()}bind(){const e=this.gl;e.enableVertexAttribArray(this.positionLocation),e.enableVertexAttribArray(this.normalLocation),e.enableVertexAttribArray(this.radiusLocation),e.enableVertexAttribArray(this.colorLocation),e.enableVertexAttribArray(this.barycentricLocation),e.vertexAttribPointer(this.positionLocation,2,e.FLOAT,!1,Yr*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(this.normalLocation,2,e.FLOAT,!1,Yr*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(this.radiusLocation,1,e.FLOAT,!1,Yr*Float32Array.BYTES_PER_ELEMENT,16),e.vertexAttribPointer(this.colorLocation,4,e.UNSIGNED_BYTE,!0,Yr*Float32Array.BYTES_PER_ELEMENT,20),e.vertexAttribPointer(this.barycentricLocation,3,e.FLOAT,!1,Yr*Float32Array.BYTES_PER_ELEMENT,24)}computeIndices(){}calculateAdjustmentFactor(e){return e>=.1?.007:.007+(.1-e)*.15}process(e,n,o,s,u){if(s){for(let C=u*Zd,E=C+Zd;C<E;C++)this.array[C]=0;return}let l,h;o.direction===Iu.BACKWARDS?(l={x:n.x,y:n.y},h={x:e.x,y:e.y}):(l={x:e.x,y:e.y},h={x:n.x,y:n.y});const d=o.inverseSqrtZoomRatio||1,g=o.size||1,v=Di(n.highlighted,d,n.size),f=mr(o.color),y=xe.calculateCurveHeight(o.groupSize,o.groupPosition);let x=0;if(y!==0){const C=xe.getLineLength(l,h),E=this.calculateAdjustmentFactor(C);x=Math.abs(y)-E}y<0&&(x*=-1);const w=xe.getControlAtMidpoint(x,l,h),A=xe.getNormals(w,n),R={x:A.x*g,y:-A.y*g};let T=Hu*Yr*u;const S=this.array;S[T++]=n.x,S[T++]=n.y,S[T++]=-R.y,S[T++]=-R.x,S[T++]=v,S[T++]=f,S[T++]=1,S[T++]=0,S[T++]=0,S[T++]=n.x,S[T++]=n.y,S[T++]=-R.y,S[T++]=-R.x,S[T++]=v,S[T++]=f,S[T++]=0,S[T++]=1,S[T++]=0,S[T++]=n.x,S[T++]=n.y,S[T++]=-R.y,S[T++]=-R.x,S[T++]=v,S[T++]=f,S[T++]=0,S[T++]=0,S[T]=1}render(e){if(this.hasNothingToRender())return;const n=this.gl,o=this.program;n.useProgram(o),n.uniformMatrix3fv(this.matrixLocation,!1,e.matrix),n.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(e.ratio)),n.uniform1f(this.correctionRatioLocation,e.correctionRatio),n.drawArrays(n.TRIANGLES,0,this.array.length/Yr)}}const GT=$a([Zp,ng]),ig=3,og=9,FT=.8975,Kd=ig*og;class MT extends ng{process(t,e,n,o,s){if(o){for(let T=s*Kd,S=T+Kd;T<S;T++)this.array[T]=0;return}const u=n.inverseSqrtZoomRatio||1,l={x:t.x,y:t.y},h=n.size||1,d=Di(e.highlighted,u,e.size),g=mr(n.color),{control2:v,control3:f}=Ba(n.groupPosition,n.framedGraphNodeRadius*3,l,!1,!1),y=xe.getCoordinatesAlongCubicBezier(l,v,f,l,FT),x=xe.getNormals(l,y),w={x:x.x*h*u,y:-x.y*h*u};let A=ig*og*s;const R=this.array;R[A++]=l.x,R[A++]=l.y,R[A++]=-w.y,R[A++]=-w.x,R[A++]=d,R[A++]=g,R[A++]=1,R[A++]=0,R[A++]=0,R[A++]=l.x,R[A++]=l.y,R[A++]=-w.y,R[A++]=-w.x,R[A++]=d,R[A++]=g,R[A++]=0,R[A++]=1,R[A++]=0,R[A++]=l.x,R[A++]=l.y,R[A++]=-w.y,R[A++]=-w.x,R[A++]=d,R[A++]=g,R[A++]=0,R[A++]=0,R[A]=1}}const kT=$a([_T,MT]);function $T(r,t,e){if(!t.highlighted)return;const n=e.labelFont,o=e.labelWeight,s=t.inverseSqrtZoomRatio||1,u=e.labelSize*s;r.font=`${o} ${u}px ${n}`,r.fillStyle=t.highlightedBackground;const l=Di(!0,s,t.size),h=typeof t.label=="string";r.globalAlpha=Jp(s),r.beginPath(),r.arc(t.x,t.y,l,0,Math.PI*2),r.closePath(),r.fill(),h&&e.renderLabels&&Pc(r,t,e),r.globalAlpha=1}const UT=`
precision mediump float;

varying vec4 v_color;
varying float v_border;
varying vec4 v_borderColor;
varying float v_softborder;
varying vec4 v_texture;
varying vec2 v_diffVector;
varying float v_radius;
varying float v_angle;
varying vec2 v_position;



uniform sampler2D u_atlas;

const float radius = 0.5;
const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

mat2 rotate2d(float _angle){
    return mat2(cos(_angle),-sin(_angle),
                sin(_angle),cos(_angle));
}

void main(void) {
  vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);
  vec4 color;

  if (v_texture.z > 0.0) {
    vec4 texel = texture2D(u_atlas, v_texture.xy, -1.0);
    color = vec4(mix(v_color, texel, texel.a).rgb, max(texel.a, v_color.a));
  } else {
    color = v_color;
  }

  float dist = length(v_diffVector) - v_radius;
  vec4 border_color = v_borderColor;

  if (dist > v_softborder)
    // outside border
    gl_FragColor = transparent;
  else if (dist > 0.0)
    // outside border antialias
    gl_FragColor = mix(border_color, transparent, dist / v_softborder);
  else if (dist > v_radius - v_border + v_softborder)
    // inner border
    gl_FragColor = mix(color, border_color, border_color.a);
  else if (dist > v_radius - v_border)
    // inner border antialias
    gl_FragColor = mix(color, border_color, (dist - v_radius + v_border) / v_softborder);
  else
    gl_FragColor = color;
}`,BT=`
attribute vec2 a_position;
attribute float a_size;
attribute vec4 a_color;
attribute vec4 a_texture;
attribute float a_angle;
attribute vec4 a_borderColor;

uniform float u_ratio;
uniform float u_scale;
uniform mat3 u_matrix;
uniform float u_sqrtZoomRatio;
uniform float u_correctionRatio;

varying vec4 v_color;
varying vec4 v_borderColor;
varying float v_softborder;
varying float v_border;
varying vec4 v_texture;
varying vec2 v_diffVector;
varying float v_radius;

const float bias = 255.0 / 254.0;
const float marginRatio = 1.05;
const float border_factor = 1.0;
const float border_width_factor = 1.13;
const float border_soft_factor = 0.0007;

void main() {
  float size = a_size * u_correctionRatio * (1. / u_sqrtZoomRatio*u_sqrtZoomRatio ) * 4.0 * border_factor;
  // workaround to keep u_scale and u_ratio
  gl_PointSize = u_ratio * u_scale * 2.0;

  vec2 diffVector = size * vec2(cos(a_angle), sin(a_angle));
  vec2 position = a_position + diffVector * marginRatio;
  gl_Position = vec4(
    (u_matrix * vec3(position, 1)).xy,
    0,
    1
  );

  v_diffVector = diffVector;
  v_radius = size / 2.0 / marginRatio;
  v_border = v_radius * border_width_factor;
  v_softborder = border_soft_factor / u_ratio;
  v_color = a_color;
  v_color.a *= bias;
  v_texture = a_texture;
  v_borderColor = a_borderColor;
  v_borderColor.a *= bias;
}`,Xd=3,Eu=9,Qd=192,Jd=2048,WT=0,zT=2*Math.PI/3,jT=4*Math.PI/3;function HT(){const r=[],t={};let e,n=!1,o,s=0,u=0,l=0;function h(g){if(t[g])return;const v=new Image;v.addEventListener("load",()=>{t[g]={status:"pending",image:v},typeof o!="number"&&(o=requestAnimationFrame(()=>d()))}),v.addEventListener("error",()=>{t[g]={status:"error"}}),t[g]={status:"loading"},v.setAttribute("crossOrigin",""),v.src=g}function d(){o=void 0;const g=[];for(const S in t){const C=t[S];C.status==="pending"&&g.push({id:S,image:C.image,size:Math.min(C.image.width,C.image.height)||1})}const v=document.createElement("canvas"),f=v.getContext("2d");let y=n?e.width:0,x=n?e.height:0,w=s,A=u;const R=S=>{(v.width!==y||v.height!==x)&&(v.width=Math.min(Jd,y),v.height=x,n&&f.putImageData(e,0,0)),S.forEach(({id:C,image:E,size:I})=>{const G=Math.min(Qd,I);let M=0,D=0;(E.width||0)>(E.height||0)?M=(E.width-E.height)/2:D=(E.height-E.width)/2,f.drawImage(E,M,D,I,I,w,A,G,G),t[C]={status:"ready",x:w,y:A,width:G,height:G},w+=G}),n=!0,e=f.getImageData(0,0,v.width,v.height)};let T=[];g.forEach(S=>{const{size:C}=S,E=Math.min(C,Qd);s+E>Jd&&(T.length>0&&(y=Math.max(s,y),x=Math.max(u+l,x),R(T),T=[],l=0),s=0,u=x,w=0,A=x),T.push(S),s+=E,l=Math.max(l,E)}),y=Math.max(s,y),x=Math.max(u+l,x),R(T),T=[],r.forEach(S=>S())}return class extends Ec{constructor(f,y){super(f,BT,UT,Xd,Eu);Q(this,"texture");Q(this,"textureLocation");Q(this,"atlasLocation");Q(this,"sqrtZoomRatioLocation");Q(this,"correctionRatioLocation");Q(this,"angleLocation");Q(this,"borderColorLocation");Q(this,"latestRenderParams");r.push(()=>{this&&this.rebindTexture&&this.rebindTexture(),y&&y.refresh&&y.refresh()}),e=new ImageData(1,1),this.textureLocation=f.getAttribLocation(this.program,"a_texture"),this.angleLocation=f.getAttribLocation(this.program,"a_angle"),this.borderColorLocation=f.getAttribLocation(this.program,"a_borderColor");const x=f.getUniformLocation(this.program,"u_atlas");if(x===null)throw new Error("NodeProgramImage: error while getting atlasLocation");this.atlasLocation=x;const w=f.getUniformLocation(this.program,"u_sqrtZoomRatio");if(w===null)throw new Error("NodeProgram: error while getting sqrtZoomRatioLocation");this.sqrtZoomRatioLocation=w;const A=f.getUniformLocation(this.program,"u_correctionRatio");if(A===null)throw new Error("NodeProgram: error while getting correctionRatioLocation");this.correctionRatioLocation=A,this.texture=f.createTexture(),f.bindTexture(f.TEXTURE_2D,this.texture),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,1,1,0,f.RGBA,f.UNSIGNED_BYTE,new Uint8Array([0,0,0,0])),this.bind()}bind(){super.bind();const f=this.gl;f.enableVertexAttribArray(this.textureLocation),f.enableVertexAttribArray(this.angleLocation),f.enableVertexAttribArray(this.borderColorLocation),f.vertexAttribPointer(this.textureLocation,3,f.FLOAT,!1,this.attributes*Float32Array.BYTES_PER_ELEMENT,16),f.vertexAttribPointer(this.angleLocation,1,f.FLOAT,!1,this.attributes*Float32Array.BYTES_PER_ELEMENT,28),f.vertexAttribPointer(this.borderColorLocation,4,f.UNSIGNED_BYTE,!0,this.attributes*Float32Array.BYTES_PER_ELEMENT,32)}process(f,y,x){const w=this.array;let A=x*Xd*Eu;const R=f.image,T=R&&t[R];if(typeof R=="string"&&!T&&h(R),y){w[A++]=0,w[A++]=0,w[A++]=0,w[A++]=0,w[A++]=0,w[A++]=0,w[A++]=0,w[A++]=0,w[A++]=0;return}const S=mr(f.color),C=mr(f.borderColor??f.color);if(w[A++]=f.x,w[A++]=f.y,w[A++]=f.size,w[A++]=S,T&&T.status==="ready"){const{width:I,height:G}=e;w[A++]=T.x/I+1.5*T.width/I,w[A++]=T.y/G+.5*T.height/G,w[A++]=1}else w[A++]=0,w[A++]=0,w[A++]=0;w[A++]=WT,w[A++]=C,w[A++]=f.x,w[A++]=f.y,w[A++]=f.size,w[A++]=S;const E=8/3*(1-Math.sin(2*Math.PI/3));if(T&&T.status==="ready"){const{width:I,height:G}=e;w[A++]=T.x/I,w[A++]=T.y/G-E*T.height/G,w[A++]=1}else w[A++]=0,w[A++]=0,w[A++]=0;if(w[A++]=zT,w[A++]=C,w[A++]=f.x,w[A++]=f.y,w[A++]=f.size,w[A++]=S,T&&T.status==="ready"){const{width:I,height:G}=e;w[A++]=T.x/I,w[A++]=T.y/G+(1+E)*(T.height/G),w[A++]=1}else w[A++]=0,w[A++]=0,w[A++]=0;w[A++]=jT,w[A++]=C}render(f){if(this.hasNothingToRender())return;this.latestRenderParams=f;const y=this.gl,x=this.program;y.useProgram(x),y.uniform1f(this.ratioLocation,1/Math.sqrt(f.ratio)),y.uniform1f(this.scaleLocation,f.scalingRatio),y.uniform1f(this.correctionRatioLocation,f.correctionRatio),y.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(f.ratio)),y.uniformMatrix3fv(this.matrixLocation,!1,f.matrix),y.uniform1i(this.atlasLocation,0),y.drawArrays(y.TRIANGLES,0,this.array.length/Eu)}rebindTexture(){const f=this.gl;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,this.texture),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,e),f.generateMipmap(f.TEXTURE_2D),this.latestRenderParams&&(this.bind(),this.bufferData(),this.render(this.latestRenderParams))}}}const qT=`
precision mediump float;

varying vec4 v_color;
varying float v_border;
varying vec4 v_borderColor;
varying float v_softborder;
varying vec4 v_texture;
varying vec2 v_diffVector;
varying float v_radius;
varying float v_angle;
varying vec2 v_position;



uniform sampler2D u_atlas;

const float radius = 0.5;
const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

mat2 rotate2d(float _angle){
    return mat2(cos(_angle),-sin(_angle),
                sin(_angle),cos(_angle));
}

void main(void) {
  vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);
  vec4 color;

  if (v_texture.z > 0.0) {
    vec4 texel = texture2D(u_atlas, v_texture.xy, -1.0);
    color = vec4(mix(v_color, texel, texel.a).rgb, max(texel.a, v_color.a));
  } else {
    color = v_color;
  }

  float dist = length(v_diffVector) - v_radius;
  vec4 border_color = v_borderColor;

  if (dist > v_softborder)
    // outside border
    gl_FragColor = transparent;
  else if (dist > 0.0)
    // outside border antialias
    gl_FragColor = mix(border_color, transparent, dist / v_softborder);
  else if (dist > v_radius - v_border + v_softborder)
    // inner border
    gl_FragColor = mix(color, border_color, border_color.a);
  else if (dist > v_radius - v_border)
    // inner border antialias
    gl_FragColor = mix(color, border_color, (dist - v_radius + v_border) / v_softborder);
  else
    gl_FragColor = color;
}`,YT=`
attribute vec2 a_position;
attribute float a_size;
attribute vec4 a_color;
attribute vec4 a_texture;
attribute float a_angle;
attribute vec2 a_translation;
attribute vec4 a_borderColor;

uniform float u_ratio;
uniform float u_scale;
uniform mat3 u_matrix;
uniform float u_sqrtZoomRatio;
uniform float u_correctionRatio;

varying vec4 v_color;
varying vec4 v_borderColor;
varying float v_softborder;
varying float v_border;
varying vec4 v_texture;
varying vec2 v_diffVector;
varying float v_radius;

const float bias = 255.0 / 254.0;
const float marginRatio = 1.05;
const float border_factor = 1.0;
const float border_width_factor = 1.13;
const float border_soft_factor = 0.0007;

void main() {
  float size = a_size * u_correctionRatio * (1. / u_sqrtZoomRatio*u_sqrtZoomRatio ) * 4.0 * border_factor;
  vec2 translation = a_translation * u_correctionRatio * (1. / u_sqrtZoomRatio*u_sqrtZoomRatio ) * 4.0 * border_factor;
  // workaround to keep u_scale and u_ratio
  gl_PointSize = u_ratio * u_scale * 2.0;

  vec2 diffVector = size * vec2(cos(a_angle), sin(a_angle));
  vec2 position = translation + (a_position + diffVector * marginRatio);
  gl_Position = vec4(
    (u_matrix * vec3(position, 1)).xy,
    0,
    1
  );

  v_diffVector = diffVector;
  v_radius = size / 2.0 / marginRatio;
  v_border = v_radius * border_width_factor;
  v_softborder = border_soft_factor / u_ratio;
  v_color = a_color;
  v_color.a *= bias;
  v_texture = a_texture;
  v_borderColor = a_borderColor;
  v_borderColor.a *= bias;
}`,ya=3,no=11,ef=5,tf=192,rf=2048,VT=0,ZT=2*Math.PI/3,KT=4*Math.PI/3;var Aa=(r=>(r[r.TOP_RIGHT=0]="TOP_RIGHT",r[r.BOTTOM_RIGHT=1]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=2]="BOTTOM_LEFT",r[r.TOP_LEFT=3]="TOP_LEFT",r))(Aa||{});function XT(){const r=[],t={};let e,n=!1,o,s=0,u=0,l=0;function h(g){if(t[g])return;const v=new Image;v.addEventListener("load",()=>{t[g]={status:"pending",image:v},typeof o!="number"&&(o=requestAnimationFrame(()=>d()))}),v.addEventListener("error",()=>{t[g]={status:"error"}}),t[g]={status:"loading"},v.setAttribute("crossOrigin",""),v.src=g}function d(){o=void 0;const g=[];for(const S in t){const C=t[S];C.status==="pending"&&g.push({id:S,image:C.image,size:Math.min(C.image.width,C.image.height)||1})}const v=document.createElement("canvas"),f=v.getContext("2d");let y=n?e.width:0,x=n?e.height:0,w=s,A=u;const R=S=>{(v.width!==y||v.height!==x)&&(v.width=Math.min(rf,y),v.height=x,n&&f.putImageData(e,0,0)),S.forEach(({id:C,image:E,size:I})=>{const G=Math.min(tf,I);let M=0,D=0;(E.width||0)>(E.height||0)?M=(E.width-E.height)/2:D=(E.height-E.width)/2,f.drawImage(E,M,D,I,I,w,A,G,G),t[C]={status:"ready",x:w,y:A,width:G,height:G},w+=G}),n=!0,e=f.getImageData(0,0,v.width,v.height)};let T=[];g.forEach(S=>{const{size:C}=S,E=Math.min(C,tf);s+E>rf&&(T.length>0&&(y=Math.max(s,y),x=Math.max(u+l,x),R(T),T=[],l=0),s=0,u=x,w=0,A=x),T.push(S),s+=E,l=Math.max(l,E)}),y=Math.max(s,y),x=Math.max(u+l,x),R(T),T=[],r.forEach(S=>S())}return class extends Ec{constructor(f,y){super(f,YT,qT,ya,no);Q(this,"texture");Q(this,"textureLocation");Q(this,"atlasLocation");Q(this,"sqrtZoomRatioLocation");Q(this,"correctionRatioLocation");Q(this,"angleLocation");Q(this,"translationLocation");Q(this,"borderColorLocation");Q(this,"latestRenderParams");r.push(()=>{this&&this.rebindTexture&&this.rebindTexture(),y&&y.refresh&&y.refresh()}),e=new ImageData(1,1),this.textureLocation=f.getAttribLocation(this.program,"a_texture"),this.angleLocation=f.getAttribLocation(this.program,"a_angle"),this.borderColorLocation=f.getAttribLocation(this.program,"a_borderColor"),this.translationLocation=f.getAttribLocation(this.program,"a_translation");const x=f.getUniformLocation(this.program,"u_atlas");if(x===null)throw new Error("NodeProgramImage: error while getting atlasLocation");this.atlasLocation=x;const w=f.getUniformLocation(this.program,"u_sqrtZoomRatio");if(w===null)throw new Error("NodeProgram: error while getting sqrtZoomRatioLocation");this.sqrtZoomRatioLocation=w;const A=f.getUniformLocation(this.program,"u_correctionRatio");if(A===null)throw new Error("NodeProgram: error while getting correctionRatioLocation");this.correctionRatioLocation=A,this.texture=f.createTexture(),f.bindTexture(f.TEXTURE_2D,this.texture),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,1,1,0,f.RGBA,f.UNSIGNED_BYTE,new Uint8Array([0,0,0,0])),this.bind()}bind(){super.bind();const f=this.gl;f.enableVertexAttribArray(this.textureLocation),f.enableVertexAttribArray(this.angleLocation),f.enableVertexAttribArray(this.translationLocation),f.enableVertexAttribArray(this.borderColorLocation),f.vertexAttribPointer(this.textureLocation,3,f.FLOAT,!1,this.attributes*Float32Array.BYTES_PER_ELEMENT,16),f.vertexAttribPointer(this.angleLocation,1,f.FLOAT,!1,this.attributes*Float32Array.BYTES_PER_ELEMENT,28),f.vertexAttribPointer(this.translationLocation,2,f.FLOAT,!1,this.attributes*Float32Array.BYTES_PER_ELEMENT,32),f.vertexAttribPointer(this.borderColorLocation,4,f.UNSIGNED_BYTE,!0,this.attributes*Float32Array.BYTES_PER_ELEMENT,40)}allocate(f){this.array=new Float32Array(this.points*this.attributes*f*ef)}process(f,y,x){let w=x*ya*no*ef;this.fillCircleAttributeBuffer(this.array,w,y,f.x,f.y,f.size,f.color,f.borderColor??f.color,f.image),w+=ya*no;const A=new Array(4).fill(void 0);f.glyphs&&f.glyphs.forEach(R=>A[R.location]=R);for(const R of A){if(R){const T=f.size/2*Math.sin(Math.PI/4*(2*R.location+1)),S=f.size/2*Math.cos(Math.PI/4*(2*R.location+1));this.fillCircleAttributeBuffer(this.array,w,y,f.x,f.y,f.size/2.4,R.backgroundColor,R.color,R.image,{x:T,y:S})}w+=ya*no}}fillCircleAttributeBuffer(f,y,x,w,A,R,T,S,C,E){let I=y;const G=C,M=G&&t[G],D=(E==null?void 0:E.x)??0,ee=(E==null?void 0:E.y)??0;typeof G=="string"&&!M&&h(G),x&&(f[I++]=0,f[I++]=0,f[I++]=0,f[I++]=0,f[I++]=0,f[I++]=0,f[I++]=0,f[I++]=0,f[I++]=0,f[I++]=0,f[I++]=0);const se=mr(T),fe=mr(S??T);if(f[I++]=w,f[I++]=A,f[I++]=R,f[I++]=se,M&&M.status==="ready"){const{width:te,height:me}=e;f[I++]=M.x/te+1.5*M.width/te,f[I++]=M.y/me+.5*M.height/me,f[I++]=1}else f[I++]=0,f[I++]=0,f[I++]=0;f[I++]=VT,f[I++]=D,f[I++]=ee,f[I++]=fe,f[I++]=w,f[I++]=A,f[I++]=R,f[I++]=se;const he=8/3*(1-Math.sin(2*Math.PI/3));if(M&&M.status==="ready"){const{width:te,height:me}=e;f[I++]=M.x/te,f[I++]=M.y/me-he*M.height/me,f[I++]=1}else f[I++]=0,f[I++]=0,f[I++]=0;if(f[I++]=ZT,f[I++]=D,f[I++]=ee,f[I++]=fe,f[I++]=w,f[I++]=A,f[I++]=R,f[I++]=se,M&&M.status==="ready"){const{width:te,height:me}=e;f[I++]=M.x/te,f[I++]=M.y/me+(1+he)*(M.height/me),f[I++]=1}else f[I++]=0,f[I++]=0,f[I++]=0;f[I++]=KT,f[I++]=D,f[I++]=ee,f[I++]=fe}render(f){if(this.hasNothingToRender())return;this.latestRenderParams=f;const y=this.gl,x=this.program;y.useProgram(x),y.uniform1f(this.ratioLocation,1/Math.sqrt(f.ratio)),y.uniform1f(this.scaleLocation,f.scalingRatio),y.uniform1f(this.correctionRatioLocation,f.correctionRatio),y.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(f.ratio)),y.uniformMatrix3fv(this.matrixLocation,!1,f.matrix),y.uniform1i(this.atlasLocation,1),y.drawArrays(y.TRIANGLES,0,this.array.length/no)}rebindTexture(){const f=this.gl;f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,this.texture),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,e),f.generateMipmap(f.TEXTURE_2D),this.latestRenderParams&&(this.bind(),this.bufferData(),this.render(this.latestRenderParams))}}}const nf=250,of=1.3;function ag(r,t){const e=t.getBoundingClientRect();return{x:r.clientX-e.left,y:r.clientY-e.top}}function QT(r,t){const e={...ag(r,t),sigmaDefaultPrevented:!1,preventSigmaDefault(){e.sigmaDefaultPrevented=!0},original:r};return e}function JT(r,t){return{...QT(r,t),delta:sg(r)}}function sg(r){if(typeof r.deltaY<"u")return r.deltaY*-3/360;if(typeof r.detail<"u")return r.detail/-9;throw new Error("Captor: could not extract delta from event.")}function eC(r){if(!this.enabled)return;r.preventDefault(),r.stopPropagation();const t=sg(r);if(!t)return;const e=JT(r,this.container);if(this.emit("wheel",e),e.sigmaDefaultPrevented)return;const n=t>0?1/of:of,o=this.renderer.getCamera(),s=o.getBoundedRatio(o.getState().ratio*n),u=t>0?1:-1,l=Date.now();this.currentWheelDirection===u&&this.lastWheelTriggerTime&&l-this.lastWheelTriggerTime<nf/5||(o.animate(this.renderer.getViewportZoomedState(ag(r,this.container),s),{easing:"quadraticOut",duration:nf},()=>{this.currentWheelDirection=0}),this.currentWheelDirection=u,this.lastWheelTriggerTime=l)}const tC=({onClickEdge:r})=>{const t=Rc(),e=t.getCanvases(),n=document.getElementById("sigma-container"),o=e.mouse,s=e.edgeLabels,{height:u,width:l}=o.style,h=V.useCallback(g=>{const v=s.getContext("2d");if(!v)return;if(g.type==="click"||g.type==="mousemove"){const x=t.getCamera().getState().ratio,w=1/Math.sqrt(x),A=t.getSettings().edgeLabelSize,R=t.getGraph(),T=R.edges();for(let S=0;S<T.length;S++){const C=T[S],E=R.getEdgeAttributes(C),I=Ra(C);if(I===null)continue;const G=Uu(I.source,I.target,t);if(G===null)continue;const{source:M,target:D}=G,ee={x:M.x,y:M.y},se={x:D.x,y:D.y},fe=t.framedGraphToViewport(ee),he=t.framedGraphToViewport(se),te=Vp({...fe,size:M.size},{...he,size:D.size}),me=pT(v,E.label,te.distance);if(!me)continue;let Me={x:te.cx,y:te.cy};if(E.type==="curved"){const zt=xe.calculateCurveHeight(E.groupSize,E.groupPosition,E.direction),ur=t.framedGraphToViewport(xe.getControlAtMidpoint(zt,ee,se));Me=xe.getCoordinatesAlongQuadraticBezier(fe,he,ur,.5)}else if(E.type==="self"){const zt=xe.getLineLength({x:0,y:0},{x:M.size*Math.pow(w,3),y:D.size*Math.pow(w,3)}),{control2:ur,control3:Kn}=Ba(E.groupPosition,zt*3,fe,!1,!0);Me=eg(fe,ur,Kn,fe)}const{deltaX:ke,deltaY:He,width:Ze,height:J}=CT(w,me,E.size*w,A),ge=Me.x+ke,Xe=Me.y+He,br=ge+Ze,sr=Xe+J,_r=s.getBoundingClientRect().x,{x:pt,y:Sn}={x:g.clientX-_r,y:g.clientY};if(pt>ge&&pt<br&&Sn>Xe&&Sn<sr){g.type==="click"?r==null||r(C):n&&(n.style.cursor="pointer");return}}}n&&n.style.cursor==="pointer"&&(n.style.cursor="default");const f=new Event(g.type,{bubbles:!0});Object.assign(f,{clientX:g.clientX,clientY:g.clientY,deltaY:g.deltaY,button:g.button}),o.dispatchEvent(f),t.scheduleRefresh()},[s,n,o,t,r]),d=Tx(g=>{eC.call(t.getMouseCaptor(),g),h(g)});return $.jsx("canvas",{ref:d,id:"edge-events",width:parseInt(l),height:parseInt(u),style:{position:"absolute",height:u,width:l,inset:0},onClick:h,onContextMenu:h,onMouseDown:h,onWheel:h,onMouseOut:h,onMouseMove:h,onMouseUp:h})};function rC(r){return!r||typeof r!="object"||typeof r=="function"||Array.isArray(r)||r instanceof Set||r instanceof Map||r instanceof RegExp||r instanceof Date}function ug(r,t){r=r||{};var e={};for(var n in t){var o=r[n],s=t[n];if(!rC(s)){e[n]=ug(o,s);continue}o===void 0?e[n]=s:e[n]=o}return e}var Wa=ug;function cg(r){return function(t,e){return t+Math.floor(r()*(e-t+1))}}var lg=cg(Math.random);lg.createRandom=cg;var nC=lg,iC=nC.createRandom;function hg(r){var t=iC(r);return function(e){for(var n=e.length,o=n-1,s=-1;++s<n;){var u=t(s,o),l=e[u];e[u]=e[s],e[s]=l}}}var dg=hg(Math.random);dg.createShuffleInPlace=hg;var oC=dg,aC=Wa,sC=Ii,uC=oC,cC={attributes:{x:"x",y:"y"},center:0,hierarchyAttributes:[],rng:Math.random,scale:1};function Gt(r,t,e,n,o){this.wrappedCircle=o||null,this.children={},this.countChildren=0,this.id=r||null,this.next=null,this.previous=null,this.x=t||null,this.y=e||null,o?this.r=1010101:this.r=n||999}Gt.prototype.hasChildren=function(){return this.countChildren>0};Gt.prototype.addChild=function(r,t){this.children[r]=t,++this.countChildren};Gt.prototype.getChild=function(r){if(!this.children.hasOwnProperty(r)){var t=new Gt;this.children[r]=t,++this.countChildren}return this.children[r]};Gt.prototype.applyPositionToChildren=function(){if(this.hasChildren()){var r=this;for(var t in r.children){var e=r.children[t];e.x+=r.x,e.y+=r.y,e.applyPositionToChildren()}}};function fg(r,t,e){for(var n in t.children){var o=t.children[n];o.hasChildren()?fg(r,o,e):e[o.id]={x:o.x,y:o.y}}}function ba(r,t){var e=r.r-t.r,n=t.x-r.x,o=t.y-r.y;return e<0||e*e<n*n+o*o}function pg(r,t){var e=r.r-t.r+1e-6,n=t.x-r.x,o=t.y-r.y;return e>0&&e*e>n*n+o*o}function xu(r,t){for(var e=0;e<t.length;++e)if(!pg(r,t[e]))return!1;return!0}function lC(r){return new Gt(null,r.x,r.y,r.r)}function uo(r,t){var e=r.x,n=r.y,o=r.r,s=t.x,u=t.y,l=t.r,h=s-e,d=u-n,g=l-o,v=Math.sqrt(h*h+d*d);return new Gt(null,(e+s+h/v*g)/2,(n+u+d/v*g)/2,(v+o+l)/2)}function gg(r,t,e){var n=r.x,o=r.y,s=r.r,u=t.x,l=t.y,h=t.r,d=e.x,g=e.y,v=e.r,f=n-u,y=n-d,x=o-l,w=o-g,A=h-s,R=v-s,T=n*n+o*o-s*s,S=T-u*u-l*l+h*h,C=T-d*d-g*g+v*v,E=y*x-f*w,I=(x*C-w*S)/(E*2)-n,G=(w*A-x*R)/E,M=(y*S-f*C)/(E*2)-o,D=(f*R-y*A)/E,ee=G*G+D*D-1,se=2*(s+I*G+M*D),fe=I*I+M*M-s*s,he=-(ee?(se+Math.sqrt(se*se-4*ee*fe))/(2*ee):fe/se);return new Gt(null,n+I+G*he,o+M+D*he,he)}function hC(r){switch(r.length){case 1:return lC(r[0]);case 2:return uo(r[0],r[1]);case 3:return gg(r[0],r[1],r[2]);default:throw new Error("graphology-layout/circlepack: Invalid basis length "+r.length)}}function dC(r,t){var e,n;if(xu(t,r))return[t];for(e=0;e<r.length;++e)if(ba(t,r[e])&&xu(uo(r[e],t),r))return[r[e],t];for(e=0;e<r.length-1;++e)for(n=e+1;n<r.length;++n)if(ba(uo(r[e],r[n]),t)&&ba(uo(r[e],t),r[n])&&ba(uo(r[n],t),r[e])&&xu(gg(r[e],r[n],t),r))return[r[e],r[n],t];throw new Error("graphology-layout/circlepack: extendBasis failure !")}function af(r){var t=r.wrappedCircle,e=r.next.wrappedCircle,n=t.r+e.r,o=(t.x*e.r+e.x*t.r)/n,s=(t.y*e.r+e.y*t.r)/n;return o*o+s*s}function fC(r,t){var e=0,n=r.slice(),o=r.length,s=[],u,l;for(t(n);e<o;)u=n[e],l&&pg(l,u)?++e:(s=dC(s,u),l=hC(s),e=0);return l}function sf(r,t,e){var n=r.x-t.x,o,s,u=r.y-t.y,l,h,d=n*n+u*u;d?(s=t.r+e.r,s*=s,h=r.r+e.r,h*=h,s>h?(o=(d+h-s)/(2*d),l=Math.sqrt(Math.max(0,h/d-o*o)),e.x=r.x-o*n-l*u,e.y=r.y-o*u+l*n):(o=(d+s-h)/(2*d),l=Math.sqrt(Math.max(0,s/d-o*o)),e.x=t.x+o*n-l*u,e.y=t.y+o*u+l*n)):(e.x=t.x+e.r,e.y=t.y)}function uf(r,t){var e=r.r+t.r-1e-6,n=t.x-r.x,o=t.y-r.y;return e>0&&e*e>n*n+o*o}function pC(r,t){var e=r.length;if(e===0)return 0;var n,o,s,u,l,h,d,g,v,f;if(n=r[0],n.x=0,n.y=0,e<=1)return n.r;if(o=r[1],n.x=-o.r,o.x=n.r,o.y=0,e<=2)return n.r+o.r;s=r[2],sf(o,n,s),n=new Gt(null,null,null,null,n),o=new Gt(null,null,null,null,o),s=new Gt(null,null,null,null,s),n.next=s.previous=o,o.next=n.previous=s,s.next=o.previous=n;e:for(h=3;h<e;++h){s=r[h],sf(n.wrappedCircle,o.wrappedCircle,s),s=new Gt(null,null,null,null,s),d=o.next,g=n.previous,v=o.wrappedCircle.r,f=n.wrappedCircle.r;do if(v<=f){if(uf(d.wrappedCircle,s.wrappedCircle)){o=d,n.next=o,o.previous=n,--h;continue e}v+=d.wrappedCircle.r,d=d.next}else{if(uf(g.wrappedCircle,s.wrappedCircle)){n=g,n.next=o,o.previous=n,--h;continue e}f+=g.wrappedCircle.r,g=g.previous}while(d!==g.next);for(s.previous=n,s.next=o,n.next=o.previous=o=s,u=af(n);(s=s.next)!==o;)(l=af(s))<u&&(n=s,u=l);o=n.next}n=[o.wrappedCircle],s=o;for(var y=1e4;(s=s.next)!==o&&--y!==0;)n.push(s.wrappedCircle);for(s=fC(n,t),h=0;h<e;++h)n=r[h],n.x-=s.x,n.y-=s.y;return s.r}function vg(r,t){var e=0;if(r.hasChildren()){for(var n in r.children){var o=r.children[n];o.hasChildren()&&(o.r=vg(o,t))}e=pC(Object.values(r.children),t)}return e}function gC(r,t){vg(r,t);for(var e in r.children){var n=r.children[e];n.applyPositionToChildren()}}function mg(r,t,e){if(!sC(t))throw new Error("graphology-layout/circlepack: the given graph is not a valid graphology instance.");e=aC(e,cC);var n={},o={},s=t.nodes(),u=e.center,l=e.hierarchyAttributes,h=uC.createShuffleInPlace(e.rng),d=e.scale,g=new Gt;t.forEachNode(function(A,R){var T=R.size?R.size:1,S=new Gt(A,null,null,T),C=g;l.forEach(function(E){var I=R[E];C=C.getChild(I)}),C.addChild(A,S)}),gC(g,h),fg(t,g,n);var v=s.length,f,y,x;for(x=0;x<v;x++){var w=s[x];f=u+d*n[w].x,y=u+d*n[w].y,o[w]={x:f,y},r&&(t.setNodeAttribute(w,e.attributes.x,f),t.setNodeAttribute(w,e.attributes.y,y))}return o}var vC=mg.bind(null,!1);vC.assign=mg.bind(null,!0);var mC=Wa,yC=Ii,bC={dimensions:["x","y"],center:.5,scale:1};function yg(r,t,e){if(!yC(t))throw new Error("graphology-layout/random: the given graph is not a valid graphology instance.");e=mC(e,bC);var n=e.dimensions;if(!Array.isArray(n)||n.length!==2)throw new Error("graphology-layout/random: given dimensions are invalid.");var o=e.center,s=e.scale,u=Math.PI*2,l=(o-.5)*s,h=t.order,d=n[0],g=n[1];function v(x,w){return w[d]=s*Math.cos(x*u/h)+l,w[g]=s*Math.sin(x*u/h)+l,w}var f=0;if(!r){var y={};return t.forEachNode(function(x){y[x]=v(f++,{})}),y}t.updateEachNodeAttributes(function(x,w){return v(f++,w),w},{attributes:n})}var _C=yg.bind(null,!1);_C.assign=yg.bind(null,!0);var wC=Wa,EC=Ii,xC={dimensions:["x","y"],center:.5,rng:Math.random,scale:1};function bg(r,t,e){if(!EC(t))throw new Error("graphology-layout/random: the given graph is not a valid graphology instance.");e=wC(e,xC);var n=e.dimensions;if(!Array.isArray(n)||n.length<1)throw new Error("graphology-layout/random: given dimensions are invalid.");var o=n.length,s=e.center,u=e.rng,l=e.scale,h=(s-.5)*l;function d(v){for(var f=0;f<o;f++)v[n[f]]=u()*l+h;return v}if(!r){var g={};return t.forEachNode(function(v){g[v]=d({})}),g}t.updateEachNodeAttributes(function(v,f){return d(f),f},{attributes:n})}var _g=bg.bind(null,!1);_g.assign=bg.bind(null,!0);var AC=_g,LC=Wa,SC=Ii,TC=Math.PI/180,CC={dimensions:["x","y"],centeredOnZero:!1,degrees:!1};function wg(r,t,e,n){if(!SC(t))throw new Error("graphology-layout/rotation: the given graph is not a valid graphology instance.");n=LC(n,CC),n.degrees&&(e*=TC);var o=n.dimensions;if(!Array.isArray(o)||o.length!==2)throw new Error("graphology-layout/random: given dimensions are invalid.");if(t.order===0)return r?void 0:{};var s=o[0],u=o[1],l=0,h=0;if(!n.centeredOnZero){var d=1/0,g=-1/0,v=1/0,f=-1/0;t.forEachNode(function(R,T){var S=T[s],C=T[u];S<d&&(d=S),S>g&&(g=S),C<v&&(v=C),C>f&&(f=C)}),l=(d+g)/2,h=(v+f)/2}var y=Math.cos(e),x=Math.sin(e);function w(R){var T=R[s],S=R[u];return R[s]=l+(T-l)*y-(S-h)*x,R[u]=h+(T-l)*x+(S-h)*y,R}if(!r){var A={};return t.forEachNode(function(R,T){var S={};S[s]=T[s],S[u]=T[u],A[R]=w(S)}),A}t.updateEachNodeAttributes(function(R,T){return w(T),T},{attributes:o})}var RC=wg.bind(null,!1);RC.assign=wg.bind(null,!0);var PC=AC,za={};function IC(r){return typeof r!="number"||isNaN(r)?1:r}function OC(r,t){var e={},n=function(u){return typeof u>"u"?t:u};typeof t=="function"&&(n=t);var o=function(u){return n(u[r])},s=function(){return n(void 0)};return typeof r=="string"?(e.fromAttributes=o,e.fromGraph=function(u,l){return o(u.getNodeAttributes(l))},e.fromEntry=function(u,l){return o(l)}):typeof r=="function"?(e.fromAttributes=function(){throw new Error("graphology-utils/getters/createNodeValueGetter: irrelevant usage.")},e.fromGraph=function(u,l){return n(r(l,u.getNodeAttributes(l)))},e.fromEntry=function(u,l){return n(r(u,l))}):(e.fromAttributes=s,e.fromGraph=s,e.fromEntry=s),e}function Eg(r,t){var e={},n=function(u){return typeof u>"u"?t:u};typeof t=="function"&&(n=t);var o=function(u){return n(u[r])},s=function(){return n(void 0)};return typeof r=="string"?(e.fromAttributes=o,e.fromGraph=function(u,l){return o(u.getEdgeAttributes(l))},e.fromEntry=function(u,l){return o(l)},e.fromPartialEntry=e.fromEntry,e.fromMinimalEntry=e.fromEntry):typeof r=="function"?(e.fromAttributes=function(){throw new Error("graphology-utils/getters/createEdgeValueGetter: irrelevant usage.")},e.fromGraph=function(u,l){var h=u.extremities(l);return n(r(l,u.getEdgeAttributes(l),h[0],h[1],u.getNodeAttributes(h[0]),u.getNodeAttributes(h[1]),u.isUndirected(l)))},e.fromEntry=function(u,l,h,d,g,v,f){return n(r(u,l,h,d,g,v,f))},e.fromPartialEntry=function(u,l,h,d){return n(r(u,l,h,d))},e.fromMinimalEntry=function(u,l){return n(r(u,l))}):(e.fromAttributes=s,e.fromGraph=s,e.fromEntry=s,e.fromMinimalEntry=s),e}za.createNodeValueGetter=OC;za.createEdgeValueGetter=Eg;za.createEdgeWeightGetter=function(r){return Eg(r,IC)};var Ke=0,Be=1,Le=2,Se=3,zr=4,jr=5,Re=6,cf=7,_a=8,lf=9,DC=0,NC=1,GC=2,ot=0,er=1,bt=2,jn=3,vn=4,je=5,Ot=6,Sr=7,Tr=8,hf=3,gr=10,FC=3,ht=9,Au=10,MC=function(t,e,n){var o,s,u,l,h,d,g,v,f,y,x=e.length,w=n.length,A=t.adjustSizes,R=t.barnesHutTheta*t.barnesHutTheta,T,S,C,E,I,G,M,D=[];for(u=0;u<x;u+=gr)e[u+zr]=e[u+Le],e[u+jr]=e[u+Se],e[u+Le]=0,e[u+Se]=0;if(t.outboundAttractionDistribution){for(T=0,u=0;u<x;u+=gr)T+=e[u+Re];T/=x/gr}if(t.barnesHutOptimize){var ee=1/0,se=-1/0,fe=1/0,he=-1/0,te,me,Me;for(u=0;u<x;u+=gr)ee=Math.min(ee,e[u+Ke]),se=Math.max(se,e[u+Ke]),fe=Math.min(fe,e[u+Be]),he=Math.max(he,e[u+Be]);var ke=se-ee,He=he-fe;for(ke>He?(fe-=(ke-He)/2,he=fe+ke):(ee-=(He-ke)/2,se=ee+He),D[0+ot]=-1,D[0+er]=(ee+se)/2,D[0+bt]=(fe+he)/2,D[0+jn]=Math.max(se-ee,he-fe),D[0+vn]=-1,D[0+je]=-1,D[0+Ot]=0,D[0+Sr]=0,D[0+Tr]=0,o=1,u=0;u<x;u+=gr)for(s=0,Me=hf;;)if(D[s+je]>=0){e[u+Ke]<D[s+er]?e[u+Be]<D[s+bt]?te=D[s+je]:te=D[s+je]+ht:e[u+Be]<D[s+bt]?te=D[s+je]+ht*2:te=D[s+je]+ht*3,D[s+Sr]=(D[s+Sr]*D[s+Ot]+e[u+Ke]*e[u+Re])/(D[s+Ot]+e[u+Re]),D[s+Tr]=(D[s+Tr]*D[s+Ot]+e[u+Be]*e[u+Re])/(D[s+Ot]+e[u+Re]),D[s+Ot]+=e[u+Re],s=te;continue}else if(D[s+ot]<0){D[s+ot]=u;break}else{if(D[s+je]=o*ht,v=D[s+jn]/2,f=D[s+je],D[f+ot]=-1,D[f+er]=D[s+er]-v,D[f+bt]=D[s+bt]-v,D[f+jn]=v,D[f+vn]=f+ht,D[f+je]=-1,D[f+Ot]=0,D[f+Sr]=0,D[f+Tr]=0,f+=ht,D[f+ot]=-1,D[f+er]=D[s+er]-v,D[f+bt]=D[s+bt]+v,D[f+jn]=v,D[f+vn]=f+ht,D[f+je]=-1,D[f+Ot]=0,D[f+Sr]=0,D[f+Tr]=0,f+=ht,D[f+ot]=-1,D[f+er]=D[s+er]+v,D[f+bt]=D[s+bt]-v,D[f+jn]=v,D[f+vn]=f+ht,D[f+je]=-1,D[f+Ot]=0,D[f+Sr]=0,D[f+Tr]=0,f+=ht,D[f+ot]=-1,D[f+er]=D[s+er]+v,D[f+bt]=D[s+bt]+v,D[f+jn]=v,D[f+vn]=D[s+vn],D[f+je]=-1,D[f+Ot]=0,D[f+Sr]=0,D[f+Tr]=0,o+=4,e[D[s+ot]+Ke]<D[s+er]?e[D[s+ot]+Be]<D[s+bt]?te=D[s+je]:te=D[s+je]+ht:e[D[s+ot]+Be]<D[s+bt]?te=D[s+je]+ht*2:te=D[s+je]+ht*3,D[s+Ot]=e[D[s+ot]+Re],D[s+Sr]=e[D[s+ot]+Ke],D[s+Tr]=e[D[s+ot]+Be],D[te+ot]=D[s+ot],D[s+ot]=-1,e[u+Ke]<D[s+er]?e[u+Be]<D[s+bt]?me=D[s+je]:me=D[s+je]+ht:e[u+Be]<D[s+bt]?me=D[s+je]+ht*2:me=D[s+je]+ht*3,te===me)if(Me--){s=te;continue}else{Me=hf;break}D[me+ot]=u;break}}if(t.barnesHutOptimize)for(S=t.scalingRatio,u=0;u<x;u+=gr)for(s=0;;)if(D[s+je]>=0)if(G=Math.pow(e[u+Ke]-D[s+Sr],2)+Math.pow(e[u+Be]-D[s+Tr],2),y=D[s+jn],4*y*y/G<R){if(C=e[u+Ke]-D[s+Sr],E=e[u+Be]-D[s+Tr],A===!0?G>0?(M=S*e[u+Re]*D[s+Ot]/G,e[u+Le]+=C*M,e[u+Se]+=E*M):G<0&&(M=-S*e[u+Re]*D[s+Ot]/Math.sqrt(G),e[u+Le]+=C*M,e[u+Se]+=E*M):G>0&&(M=S*e[u+Re]*D[s+Ot]/G,e[u+Le]+=C*M,e[u+Se]+=E*M),s=D[s+vn],s<0)break;continue}else{s=D[s+je];continue}else{if(d=D[s+ot],d>=0&&d!==u&&(C=e[u+Ke]-e[d+Ke],E=e[u+Be]-e[d+Be],G=C*C+E*E,A===!0?G>0?(M=S*e[u+Re]*e[d+Re]/G,e[u+Le]+=C*M,e[u+Se]+=E*M):G<0&&(M=-S*e[u+Re]*e[d+Re]/Math.sqrt(G),e[u+Le]+=C*M,e[u+Se]+=E*M):G>0&&(M=S*e[u+Re]*e[d+Re]/G,e[u+Le]+=C*M,e[u+Se]+=E*M)),s=D[s+vn],s<0)break;continue}else for(S=t.scalingRatio,l=0;l<x;l+=gr)for(h=0;h<l;h+=gr)C=e[l+Ke]-e[h+Ke],E=e[l+Be]-e[h+Be],A===!0?(G=Math.sqrt(C*C+E*E)-e[l+_a]-e[h+_a],G>0?(M=S*e[l+Re]*e[h+Re]/G/G,e[l+Le]+=C*M,e[l+Se]+=E*M,e[h+Le]-=C*M,e[h+Se]-=E*M):G<0&&(M=100*S*e[l+Re]*e[h+Re],e[l+Le]+=C*M,e[l+Se]+=E*M,e[h+Le]-=C*M,e[h+Se]-=E*M)):(G=Math.sqrt(C*C+E*E),G>0&&(M=S*e[l+Re]*e[h+Re]/G/G,e[l+Le]+=C*M,e[l+Se]+=E*M,e[h+Le]-=C*M,e[h+Se]-=E*M));for(f=t.gravity/t.scalingRatio,S=t.scalingRatio,u=0;u<x;u+=gr)M=0,C=e[u+Ke],E=e[u+Be],G=Math.sqrt(Math.pow(C,2)+Math.pow(E,2)),t.strongGravityMode?G>0&&(M=S*e[u+Re]*f):G>0&&(M=S*e[u+Re]*f/G),e[u+Le]-=C*M,e[u+Se]-=E*M;for(S=1*(t.outboundAttractionDistribution?T:1),g=0;g<w;g+=FC)l=n[g+DC],h=n[g+NC],v=n[g+GC],I=Math.pow(v,t.edgeWeightInfluence),C=e[l+Ke]-e[h+Ke],E=e[l+Be]-e[h+Be],A===!0?(G=Math.sqrt(C*C+E*E)-e[l+_a]-e[h+_a],t.linLogMode?t.outboundAttractionDistribution?G>0&&(M=-S*I*Math.log(1+G)/G/e[l+Re]):G>0&&(M=-S*I*Math.log(1+G)/G):t.outboundAttractionDistribution?G>0&&(M=-S*I/e[l+Re]):G>0&&(M=-S*I)):(G=Math.sqrt(Math.pow(C,2)+Math.pow(E,2)),t.linLogMode?t.outboundAttractionDistribution?G>0&&(M=-S*I*Math.log(1+G)/G/e[l+Re]):G>0&&(M=-S*I*Math.log(1+G)/G):t.outboundAttractionDistribution?(G=1,M=-S*I/e[l+Re]):(G=1,M=-S*I)),G>0&&(e[l+Le]+=C*M,e[l+Se]+=E*M,e[h+Le]-=C*M,e[h+Se]-=E*M);var Ze,J,ge,Xe,br,sr;if(A===!0)for(u=0;u<x;u+=gr)e[u+lf]!==1&&(Ze=Math.sqrt(Math.pow(e[u+Le],2)+Math.pow(e[u+Se],2)),Ze>Au&&(e[u+Le]=e[u+Le]*Au/Ze,e[u+Se]=e[u+Se]*Au/Ze),J=e[u+Re]*Math.sqrt((e[u+zr]-e[u+Le])*(e[u+zr]-e[u+Le])+(e[u+jr]-e[u+Se])*(e[u+jr]-e[u+Se])),ge=Math.sqrt((e[u+zr]+e[u+Le])*(e[u+zr]+e[u+Le])+(e[u+jr]+e[u+Se])*(e[u+jr]+e[u+Se]))/2,Xe=.1*Math.log(1+ge)/(1+Math.sqrt(J)),br=e[u+Ke]+e[u+Le]*(Xe/t.slowDown),e[u+Ke]=br,sr=e[u+Be]+e[u+Se]*(Xe/t.slowDown),e[u+Be]=sr);else for(u=0;u<x;u+=gr)e[u+lf]!==1&&(J=e[u+Re]*Math.sqrt((e[u+zr]-e[u+Le])*(e[u+zr]-e[u+Le])+(e[u+jr]-e[u+Se])*(e[u+jr]-e[u+Se])),ge=Math.sqrt((e[u+zr]+e[u+Le])*(e[u+zr]+e[u+Le])+(e[u+jr]+e[u+Se])*(e[u+jr]+e[u+Se]))/2,Xe=e[u+cf]*Math.log(1+ge)/(1+Math.sqrt(J)),e[u+cf]=Math.min(1,Math.sqrt(Xe*(Math.pow(e[u+Le],2)+Math.pow(e[u+Se],2))/(1+Math.sqrt(J)))),br=e[u+Ke]+e[u+Le]*(Xe/t.slowDown),e[u+Ke]=br,sr=e[u+Be]+e[u+Se]*(Xe/t.slowDown),e[u+Be]=sr);return{}},Ln={},lo=10,df=3;Ln.assign=function(r){r=r||{};var t=Array.prototype.slice.call(arguments).slice(1),e,n,o;for(e=0,o=t.length;e<o;e++)if(t[e])for(n in t[e])r[n]=t[e][n];return r};Ln.validateSettings=function(r){return"linLogMode"in r&&typeof r.linLogMode!="boolean"?{message:"the `linLogMode` setting should be a boolean."}:"outboundAttractionDistribution"in r&&typeof r.outboundAttractionDistribution!="boolean"?{message:"the `outboundAttractionDistribution` setting should be a boolean."}:"adjustSizes"in r&&typeof r.adjustSizes!="boolean"?{message:"the `adjustSizes` setting should be a boolean."}:"edgeWeightInfluence"in r&&typeof r.edgeWeightInfluence!="number"?{message:"the `edgeWeightInfluence` setting should be a number."}:"scalingRatio"in r&&!(typeof r.scalingRatio=="number"&&r.scalingRatio>=0)?{message:"the `scalingRatio` setting should be a number >= 0."}:"strongGravityMode"in r&&typeof r.strongGravityMode!="boolean"?{message:"the `strongGravityMode` setting should be a boolean."}:"gravity"in r&&!(typeof r.gravity=="number"&&r.gravity>=0)?{message:"the `gravity` setting should be a number >= 0."}:"slowDown"in r&&!(typeof r.slowDown=="number"||r.slowDown>=0)?{message:"the `slowDown` setting should be a number >= 0."}:"barnesHutOptimize"in r&&typeof r.barnesHutOptimize!="boolean"?{message:"the `barnesHutOptimize` setting should be a boolean."}:"barnesHutTheta"in r&&!(typeof r.barnesHutTheta=="number"&&r.barnesHutTheta>=0)?{message:"the `barnesHutTheta` setting should be a number >= 0."}:null};Ln.graphToByteArrays=function(r,t){var e=r.order,n=r.size,o={},s,u=new Float32Array(e*lo),l=new Float32Array(n*df);return s=0,r.forEachNode(function(h,d){o[h]=s,u[s]=d.x,u[s+1]=d.y,u[s+2]=0,u[s+3]=0,u[s+4]=0,u[s+5]=0,u[s+6]=1,u[s+7]=1,u[s+8]=d.size||1,u[s+9]=d.fixed?1:0,s+=lo}),s=0,r.forEachEdge(function(h,d,g,v,f,y,x){var w=o[g],A=o[v],R=t(h,d,g,v,f,y,x);u[w+6]+=R,u[A+6]+=R,l[s]=w,l[s+1]=A,l[s+2]=R,s+=df}),{nodes:u,edges:l}};Ln.assignLayoutChanges=function(r,t,e){var n=0;r.updateEachNodeAttributes(function(o,s){return s.x=t[n],s.y=t[n+1],n+=lo,e?e(o,s):s})};Ln.readGraphPositions=function(r,t){var e=0;r.forEachNode(function(n,o){t[e]=o.x,t[e+1]=o.y,e+=lo})};Ln.collectLayoutChanges=function(r,t,e){for(var n=r.nodes(),o={},s=0,u=0,l=t.length;s<l;s+=lo){if(e){var h=Object.assign({},r.getNodeAttributes(n[u]));h.x=t[s],h.y=t[s+1],h=e(n[u],h),o[n[u]]={x:h.x,y:h.y}}else o[n[u]]={x:t[s],y:t[s+1]};u++}return o};Ln.createWorker=function(t){var e=window.URL||window.webkitURL,n=t.toString(),o=e.createObjectURL(new Blob(["("+n+").call(this);"],{type:"text/javascript"})),s=new Worker(o);return e.revokeObjectURL(o),s};var kC={linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:1,scalingRatio:1,strongGravityMode:!1,gravity:1,slowDown:1,barnesHutOptimize:!1,barnesHutTheta:.5},$C=Ii,UC=za.createEdgeWeightGetter,BC=MC,io=Ln,WC=kC;function xg(r,t,e){if(!$C(t))throw new Error("graphology-layout-forceatlas2: the given graph is not a valid graphology instance.");typeof e=="number"&&(e={iterations:e});var n=e.iterations;if(typeof n!="number")throw new Error("graphology-layout-forceatlas2: invalid number of iterations.");if(n<=0)throw new Error("graphology-layout-forceatlas2: you should provide a positive number of iterations.");var o=UC("getEdgeWeight"in e?e.getEdgeWeight:"weight").fromEntry,s=typeof e.outputReducer=="function"?e.outputReducer:null,u=io.assign({},WC,e.settings),l=io.validateSettings(u);if(l)throw new Error("graphology-layout-forceatlas2: "+l.message);var h=io.graphToByteArrays(t,o),d;for(d=0;d<n;d++)BC(u,h.nodes,h.edges);if(r){io.assignLayoutChanges(t,h.nodes,s);return}return io.collectLayoutChanges(t,h.nodes)}function zC(r){var t=typeof r=="number"?r:r.order;return{barnesHutOptimize:t>2e3,strongGravityMode:!0,gravity:.05,scalingRatio:10,slowDown:1+Math.log(t)}}var Ic=xg.bind(null,!1);Ic.assign=xg.bind(null,!0);Ic.inferSettings=zC;var jC=Ic;const HC=Vn(jC);var qC="\0",Hn="\0",ff="",Dt,Yn,Wt,fo,bi,_i,tr,Cr,wn,Rr,En,Vr,Zr,wi,Ei,Kr,vr,po,qu,kf;let YC=(kf=class{constructor(t){ze(this,po);ze(this,Dt,!0);ze(this,Yn,!1);ze(this,Wt,!1);ze(this,fo);ze(this,bi,()=>{});ze(this,_i,()=>{});ze(this,tr,{});ze(this,Cr,{});ze(this,wn,{});ze(this,Rr,{});ze(this,En,{});ze(this,Vr,{});ze(this,Zr,{});ze(this,wi,0);ze(this,Ei,0);ze(this,Kr);ze(this,vr);t&&(Qt(this,Dt,t.hasOwnProperty("directed")?t.directed:!0),Qt(this,Yn,t.hasOwnProperty("multigraph")?t.multigraph:!1),Qt(this,Wt,t.hasOwnProperty("compound")?t.compound:!1)),W(this,Wt)&&(Qt(this,Kr,{}),Qt(this,vr,{}),W(this,vr)[Hn]={})}isDirected(){return W(this,Dt)}isMultigraph(){return W(this,Yn)}isCompound(){return W(this,Wt)}setGraph(t){return Qt(this,fo,t),this}graph(){return W(this,fo)}setDefaultNodeLabel(t){return Qt(this,bi,t),typeof t!="function"&&Qt(this,bi,()=>t),this}nodeCount(){return W(this,wi)}nodes(){return Object.keys(W(this,tr))}sources(){var t=this;return this.nodes().filter(e=>Object.keys(W(t,Cr)[e]).length===0)}sinks(){var t=this;return this.nodes().filter(e=>Object.keys(W(t,Rr)[e]).length===0)}setNodes(t,e){var n=arguments,o=this;return t.forEach(function(s){n.length>1?o.setNode(s,e):o.setNode(s)}),this}setNode(t,e){return W(this,tr).hasOwnProperty(t)?(arguments.length>1&&(W(this,tr)[t]=e),this):(W(this,tr)[t]=arguments.length>1?e:W(this,bi).call(this,t),W(this,Wt)&&(W(this,Kr)[t]=Hn,W(this,vr)[t]={},W(this,vr)[Hn][t]=!0),W(this,Cr)[t]={},W(this,wn)[t]={},W(this,Rr)[t]={},W(this,En)[t]={},++Qi(this,wi)._,this)}node(t){return W(this,tr)[t]}hasNode(t){return W(this,tr).hasOwnProperty(t)}removeNode(t){var e=this;if(W(this,tr).hasOwnProperty(t)){var n=o=>e.removeEdge(W(e,Vr)[o]);delete W(this,tr)[t],W(this,Wt)&&(Lr(this,po,qu).call(this,t),delete W(this,Kr)[t],this.children(t).forEach(function(o){e.setParent(o)}),delete W(this,vr)[t]),Object.keys(W(this,Cr)[t]).forEach(n),delete W(this,Cr)[t],delete W(this,wn)[t],Object.keys(W(this,Rr)[t]).forEach(n),delete W(this,Rr)[t],delete W(this,En)[t],--Qi(this,wi)._}return this}setParent(t,e){if(!W(this,Wt))throw new Error("Cannot set parent in a non-compound graph");if(e===void 0)e=Hn;else{e+="";for(var n=e;n!==void 0;n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),Lr(this,po,qu).call(this,t),W(this,Kr)[t]=e,W(this,vr)[e][t]=!0,this}parent(t){if(W(this,Wt)){var e=W(this,Kr)[t];if(e!==Hn)return e}}children(t=Hn){if(W(this,Wt)){var e=W(this,vr)[t];if(e)return Object.keys(e)}else{if(t===Hn)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var e=W(this,wn)[t];if(e)return Object.keys(e)}successors(t){var e=W(this,En)[t];if(e)return Object.keys(e)}neighbors(t){var e=this.predecessors(t);if(e){const o=new Set(e);for(var n of this.successors(t))o.add(n);return Array.from(o.values())}}isLeaf(t){var e;return this.isDirected()?e=this.successors(t):e=this.neighbors(t),e.length===0}filterNodes(t){var e=new this.constructor({directed:W(this,Dt),multigraph:W(this,Yn),compound:W(this,Wt)});e.setGraph(this.graph());var n=this;Object.entries(W(this,tr)).forEach(function([u,l]){t(u)&&e.setNode(u,l)}),Object.values(W(this,Vr)).forEach(function(u){e.hasNode(u.v)&&e.hasNode(u.w)&&e.setEdge(u,n.edge(u))});var o={};function s(u){var l=n.parent(u);return l===void 0||e.hasNode(l)?(o[u]=l,l):l in o?o[l]:s(l)}return W(this,Wt)&&e.nodes().forEach(u=>e.setParent(u,s(u))),e}setDefaultEdgeLabel(t){return Qt(this,_i,t),typeof t!="function"&&Qt(this,_i,()=>t),this}edgeCount(){return W(this,Ei)}edges(){return Object.values(W(this,Vr))}setPath(t,e){var n=this,o=arguments;return t.reduce(function(s,u){return o.length>1?n.setEdge(s,u,e):n.setEdge(s,u),u}),this}setEdge(){var t,e,n,o,s=!1,u=arguments[0];typeof u=="object"&&u!==null&&"v"in u?(t=u.v,e=u.w,n=u.name,arguments.length===2&&(o=arguments[1],s=!0)):(t=u,e=arguments[1],n=arguments[3],arguments.length>2&&(o=arguments[2],s=!0)),t=""+t,e=""+e,n!==void 0&&(n=""+n);var l=co(W(this,Dt),t,e,n);if(W(this,Zr).hasOwnProperty(l))return s&&(W(this,Zr)[l]=o),this;if(n!==void 0&&!W(this,Yn))throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),W(this,Zr)[l]=s?o:W(this,_i).call(this,t,e,n);var h=VC(W(this,Dt),t,e,n);return t=h.v,e=h.w,Object.freeze(h),W(this,Vr)[l]=h,pf(W(this,wn)[e],t),pf(W(this,En)[t],e),W(this,Cr)[e][l]=h,W(this,Rr)[t][l]=h,Qi(this,Ei)._++,this}edge(t,e,n){var o=arguments.length===1?Lu(W(this,Dt),arguments[0]):co(W(this,Dt),t,e,n);return W(this,Zr)[o]}hasEdge(t,e,n){var o=arguments.length===1?Lu(W(this,Dt),arguments[0]):co(W(this,Dt),t,e,n);return W(this,Zr).hasOwnProperty(o)}removeEdge(t,e,n){var o=arguments.length===1?Lu(W(this,Dt),arguments[0]):co(W(this,Dt),t,e,n),s=W(this,Vr)[o];return s&&(t=s.v,e=s.w,delete W(this,Zr)[o],delete W(this,Vr)[o],gf(W(this,wn)[e],t),gf(W(this,En)[t],e),delete W(this,Cr)[e][o],delete W(this,Rr)[t][o],Qi(this,Ei)._--),this}inEdges(t,e){var n=W(this,Cr)[t];if(n){var o=Object.values(n);return e?o.filter(s=>s.v===e):o}}outEdges(t,e){var n=W(this,Rr)[t];if(n){var o=Object.values(n);return e?o.filter(s=>s.w===e):o}}nodeEdges(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},Dt=new WeakMap,Yn=new WeakMap,Wt=new WeakMap,fo=new WeakMap,bi=new WeakMap,_i=new WeakMap,tr=new WeakMap,Cr=new WeakMap,wn=new WeakMap,Rr=new WeakMap,En=new WeakMap,Vr=new WeakMap,Zr=new WeakMap,wi=new WeakMap,Ei=new WeakMap,Kr=new WeakMap,vr=new WeakMap,po=new WeakSet,qu=function(t){delete W(this,vr)[W(this,Kr)[t]][t]},kf);function pf(r,t){r[t]?r[t]++:r[t]=1}function gf(r,t){--r[t]||delete r[t]}function co(r,t,e,n){var o=""+t,s=""+e;if(!r&&o>s){var u=o;o=s,s=u}return o+ff+s+ff+(n===void 0?qC:n)}function VC(r,t,e,n){var o=""+t,s=""+e;if(!r&&o>s){var u=o;o=s,s=u}var l={v:o,w:s};return n&&(l.name=n),l}function Lu(r,t){return co(r,t.v,t.w,t.name)}var Oc=YC,ZC="2.1.12",KC={Graph:Oc,version:ZC},XC=Oc,QC={write:JC,read:rR};function JC(r){var t={options:{directed:r.isDirected(),multigraph:r.isMultigraph(),compound:r.isCompound()},nodes:eR(r),edges:tR(r)};return r.graph()!==void 0&&(t.value=structuredClone(r.graph())),t}function eR(r){return r.nodes().map(function(t){var e=r.node(t),n=r.parent(t),o={v:t};return e!==void 0&&(o.value=e),n!==void 0&&(o.parent=n),o})}function tR(r){return r.edges().map(function(t){var e=r.edge(t),n={v:t.v,w:t.w};return t.name!==void 0&&(n.name=t.name),e!==void 0&&(n.value=e),n})}function rR(r){var t=new XC(r.options).setGraph(r.value);return r.nodes.forEach(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),r.edges.forEach(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}var nR=iR;function iR(r){var t={},e=[],n;function o(s){t.hasOwnProperty(s)||(t[s]=!0,n.push(s),r.successors(s).forEach(o),r.predecessors(s).forEach(o))}return r.nodes().forEach(function(s){n=[],o(s),n.length&&e.push(n)}),e}var dt,Xr,ir,Yu,Vu,La,$f;let oR=($f=class{constructor(){ze(this,ir);ze(this,dt,[]);ze(this,Xr,{})}size(){return W(this,dt).length}keys(){return W(this,dt).map(function(t){return t.key})}has(t){return W(this,Xr).hasOwnProperty(t)}priority(t){var e=W(this,Xr)[t];if(e!==void 0)return W(this,dt)[e].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return W(this,dt)[0].key}add(t,e){var n=W(this,Xr);if(t=String(t),!n.hasOwnProperty(t)){var o=W(this,dt),s=o.length;return n[t]=s,o.push({key:t,priority:e}),Lr(this,ir,Vu).call(this,s),!0}return!1}removeMin(){Lr(this,ir,La).call(this,0,W(this,dt).length-1);var t=W(this,dt).pop();return delete W(this,Xr)[t.key],Lr(this,ir,Yu).call(this,0),t.key}decrease(t,e){var n=W(this,Xr)[t];if(e>W(this,dt)[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+W(this,dt)[n].priority+" New: "+e);W(this,dt)[n].priority=e,Lr(this,ir,Vu).call(this,n)}},dt=new WeakMap,Xr=new WeakMap,ir=new WeakSet,Yu=function(t){var e=W(this,dt),n=2*t,o=n+1,s=t;n<e.length&&(s=e[n].priority<e[s].priority?n:s,o<e.length&&(s=e[o].priority<e[s].priority?o:s),s!==t&&(Lr(this,ir,La).call(this,t,s),Lr(this,ir,Yu).call(this,s)))},Vu=function(t){for(var e=W(this,dt),n=e[t].priority,o;t!==0&&(o=t>>1,!(e[o].priority<n));)Lr(this,ir,La).call(this,t,o),t=o},La=function(t,e){var n=W(this,dt),o=W(this,Xr),s=n[t],u=n[e];n[t]=u,n[e]=s,o[u.key]=t,o[s.key]=e},$f);var Ag=oR,aR=Ag,Lg=uR,sR=()=>1;function uR(r,t,e,n){return cR(r,String(t),e||sR,n||function(o){return r.outEdges(o)})}function cR(r,t,e,n){var o={},s=new aR,u,l,h=function(d){var g=d.v!==u?d.v:d.w,v=o[g],f=e(d),y=l.distance+f;if(f<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+d+" Weight: "+f);y<v.distance&&(v.distance=y,v.predecessor=u,s.decrease(g,y))};for(r.nodes().forEach(function(d){var g=d===t?0:Number.POSITIVE_INFINITY;o[d]={distance:g},s.add(d,g)});s.size()>0&&(u=s.removeMin(),l=o[u],l.distance!==Number.POSITIVE_INFINITY);)n(u).forEach(h);return o}var lR=Lg,hR=dR;function dR(r,t,e){return r.nodes().reduce(function(n,o){return n[o]=lR(r,o,t,e),n},{})}var Sg=fR;function fR(r){var t=0,e=[],n={},o=[];function s(u){var l=n[u]={onStack:!0,lowlink:t,index:t++};if(e.push(u),r.successors(u).forEach(function(g){n.hasOwnProperty(g)?n[g].onStack&&(l.lowlink=Math.min(l.lowlink,n[g].index)):(s(g),l.lowlink=Math.min(l.lowlink,n[g].lowlink))}),l.lowlink===l.index){var h=[],d;do d=e.pop(),n[d].onStack=!1,h.push(d);while(u!==d);o.push(h)}}return r.nodes().forEach(function(u){n.hasOwnProperty(u)||s(u)}),o}var pR=Sg,gR=vR;function vR(r){return pR(r).filter(function(t){return t.length>1||t.length===1&&r.hasEdge(t[0],t[0])})}var mR=bR,yR=()=>1;function bR(r,t,e){return _R(r,t||yR,e||function(n){return r.outEdges(n)})}function _R(r,t,e){var n={},o=r.nodes();return o.forEach(function(s){n[s]={},n[s][s]={distance:0},o.forEach(function(u){s!==u&&(n[s][u]={distance:Number.POSITIVE_INFINITY})}),e(s).forEach(function(u){var l=u.v===s?u.w:u.v,h=t(u);n[s][l]={distance:h,predecessor:s}})}),o.forEach(function(s){var u=n[s];o.forEach(function(l){var h=n[l];o.forEach(function(d){var g=h[s],v=u[d],f=h[d],y=g.distance+v.distance;y<f.distance&&(f.distance=y,f.predecessor=v.predecessor)})})}),n}function Tg(r){var t={},e={},n=[];function o(s){if(e.hasOwnProperty(s))throw new Zu;t.hasOwnProperty(s)||(e[s]=!0,t[s]=!0,r.predecessors(s).forEach(o),delete e[s],n.push(s))}if(r.sinks().forEach(o),Object.keys(t).length!==r.nodeCount())throw new Zu;return n}class Zu extends Error{constructor(){super(...arguments)}}var Cg=Tg;Tg.CycleException=Zu;var vf=Cg,wR=ER;function ER(r){try{vf(r)}catch(t){if(t instanceof vf.CycleException)return!1;throw t}return!0}var Rg=xR;function xR(r,t,e){Array.isArray(t)||(t=[t]);var n=r.isDirected()?l=>r.successors(l):l=>r.neighbors(l),o=e==="post"?AR:LR,s=[],u={};return t.forEach(l=>{if(!r.hasNode(l))throw new Error("Graph does not have node: "+l);o(l,n,u,s)}),s}function AR(r,t,e,n){for(var o=[[r,!1]];o.length>0;){var s=o.pop();s[1]?n.push(s[0]):e.hasOwnProperty(s[0])||(e[s[0]]=!0,o.push([s[0],!0]),Pg(t(s[0]),u=>o.push([u,!1])))}}function LR(r,t,e,n){for(var o=[r];o.length>0;){var s=o.pop();e.hasOwnProperty(s)||(e[s]=!0,n.push(s),Pg(t(s),u=>o.push(u)))}}function Pg(r,t){for(var e=r.length;e--;)t(r[e],e,r);return r}var SR=Rg,TR=CR;function CR(r,t){return SR(r,t,"post")}var RR=Rg,PR=IR;function IR(r,t){return RR(r,t,"pre")}var OR=Oc,DR=Ag,NR=GR;function GR(r,t){var e=new OR,n={},o=new DR,s;function u(h){var d=h.v===s?h.w:h.v,g=o.priority(d);if(g!==void 0){var v=t(h);v<g&&(n[d]=s,o.decrease(d,v))}}if(r.nodeCount()===0)return e;r.nodes().forEach(function(h){o.add(h,Number.POSITIVE_INFINITY),e.setNode(h)}),o.decrease(r.nodes()[0],0);for(var l=!1;o.size()>0;){if(s=o.removeMin(),n.hasOwnProperty(s))e.setEdge(s,n[s]);else{if(l)throw new Error("Input graph is not connected: "+r);l=!0}r.nodeEdges(s).forEach(u)}return e}var FR={components:nR,dijkstra:Lg,dijkstraAll:hR,findCycles:gR,floydWarshall:mR,isAcyclic:wR,postorder:TR,preorder:PR,prim:NR,tarjan:Sg,topsort:Cg},mf=KC,yr={Graph:mf.Graph,json:QC,alg:FR,version:mf.version},MR=ja;function ja(){var r={};r._next=r._prev=r,this._sentinel=r}ja.prototype.dequeue=function(){var r=this._sentinel,t=r._prev;if(t!==r)return Ig(t),t};ja.prototype.enqueue=function(r){var t=this._sentinel;r._prev&&r._next&&Ig(r),r._next=t._next,t._next._prev=r,t._next=r,r._prev=t};ja.prototype.toString=function(){for(var r=[],t=this._sentinel,e=t._prev;e!==t;)r.push(JSON.stringify(e,kR)),e=e._prev;return"["+r.join(", ")+"]"};function Ig(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function kR(r,t){if(r!=="_next"&&r!=="_prev")return t}var $R=yr.Graph,UR=MR,BR=zR,WR=()=>1;function zR(r,t){if(r.nodeCount()<=1)return[];var e=HR(r,t||WR),n=jR(e.graph,e.buckets,e.zeroIdx);return n.flatMap(o=>r.outEdges(o.v,o.w))}function jR(r,t,e){for(var n=[],o=t[t.length-1],s=t[0],u;r.nodeCount();){for(;u=s.dequeue();)Su(r,t,e,u);for(;u=o.dequeue();)Su(r,t,e,u);if(r.nodeCount()){for(var l=t.length-2;l>0;--l)if(u=t[l].dequeue(),u){n=n.concat(Su(r,t,e,u,!0));break}}}return n}function Su(r,t,e,n,o){var s=o?[]:void 0;return r.inEdges(n.v).forEach(function(u){var l=r.edge(u),h=r.node(u.v);o&&s.push({v:u.v,w:u.w}),h.out-=l,Ku(t,e,h)}),r.outEdges(n.v).forEach(function(u){var l=r.edge(u),h=u.w,d=r.node(h);d.in-=l,Ku(t,e,d)}),r.removeNode(n.v),s}function HR(r,t){var e=new $R,n=0,o=0;r.nodes().forEach(function(l){e.setNode(l,{v:l,in:0,out:0})}),r.edges().forEach(function(l){var h=e.edge(l.v,l.w)||0,d=t(l),g=h+d;e.setEdge(l.v,l.w,g),o=Math.max(o,e.node(l.v).out+=d),n=Math.max(n,e.node(l.w).in+=d)});var s=qR(o+n+3).map(()=>new UR),u=n+1;return e.nodes().forEach(function(l){Ku(s,u,e.node(l))}),{graph:e,buckets:s,zeroIdx:u}}function Ku(r,t,e){e.out?e.in?r[e.out-e.in+t].enqueue(e):r[r.length-1].enqueue(e):r[0].enqueue(e)}function qR(r){const t=[];for(let e=0;e<r;e++)t.push(e);return t}var Og=yr.Graph,rt={addBorderNode:t2,addDummyNode:Dg,asNonCompoundGraph:VR,buildLayerMatrix:QR,intersectRect:XR,mapValues:s2,maxRank:Ng,normalizeRanks:JR,notime:i2,partition:r2,pick:a2,predecessorWeights:KR,range:Fg,removeEmptyRanks:e2,simplify:YR,successorWeights:ZR,time:n2,uniqueId:Gg,zipObject:Dc};function Dg(r,t,e,n){var o;do o=Gg(n);while(r.hasNode(o));return e.dummy=t,r.setNode(o,e),o}function YR(r){var t=new Og().setGraph(r.graph());return r.nodes().forEach(e=>t.setNode(e,r.node(e))),r.edges().forEach(e=>{var n=t.edge(e.v,e.w)||{weight:0,minlen:1},o=r.edge(e);t.setEdge(e.v,e.w,{weight:n.weight+o.weight,minlen:Math.max(n.minlen,o.minlen)})}),t}function VR(r){var t=new Og({multigraph:r.isMultigraph()}).setGraph(r.graph());return r.nodes().forEach(e=>{r.children(e).length||t.setNode(e,r.node(e))}),r.edges().forEach(e=>{t.setEdge(e,r.edge(e))}),t}function ZR(r){var t=r.nodes().map(e=>{var n={};return r.outEdges(e).forEach(o=>{n[o.w]=(n[o.w]||0)+r.edge(o).weight}),n});return Dc(r.nodes(),t)}function KR(r){var t=r.nodes().map(e=>{var n={};return r.inEdges(e).forEach(o=>{n[o.v]=(n[o.v]||0)+r.edge(o).weight}),n});return Dc(r.nodes(),t)}function XR(r,t){var e=r.x,n=r.y,o=t.x-e,s=t.y-n,u=r.width/2,l=r.height/2;if(!o&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var h,d;return Math.abs(s)*u>Math.abs(o)*l?(s<0&&(l=-l),h=l*o/s,d=l):(o<0&&(u=-u),h=u,d=u*s/o),{x:e+h,y:n+d}}function QR(r){var t=Fg(Ng(r)+1).map(()=>[]);return r.nodes().forEach(e=>{var n=r.node(e),o=n.rank;o!==void 0&&(t[o][n.order]=e)}),t}function JR(r){var t=Math.min(...r.nodes().map(e=>{var n=r.node(e).rank;return n===void 0?Number.MAX_VALUE:n}));r.nodes().forEach(e=>{var n=r.node(e);n.hasOwnProperty("rank")&&(n.rank-=t)})}function e2(r){var t=Math.min(...r.nodes().map(s=>r.node(s).rank)),e=[];r.nodes().forEach(s=>{var u=r.node(s).rank-t;e[u]||(e[u]=[]),e[u].push(s)});var n=0,o=r.graph().nodeRankFactor;Array.from(e).forEach((s,u)=>{s===void 0&&u%o!==0?--n:s!==void 0&&n&&s.forEach(l=>r.node(l).rank+=n)})}function t2(r,t,e,n){var o={width:0,height:0};return arguments.length>=4&&(o.rank=e,o.order=n),Dg(r,"border",o,t)}function Ng(r){return Math.max(...r.nodes().map(t=>{var e=r.node(t).rank;return e===void 0?Number.MIN_VALUE:e}))}function r2(r,t){var e={lhs:[],rhs:[]};return r.forEach(n=>{t(n)?e.lhs.push(n):e.rhs.push(n)}),e}function n2(r,t){var e=Date.now();try{return t()}finally{console.log(r+" time: "+(Date.now()-e)+"ms")}}function i2(r,t){return t()}let o2=0;function Gg(r){var t=++o2;return toString(r)+t}function Fg(r,t,e=1){t==null&&(t=r,r=0);let n=s=>s<t;e<0&&(n=s=>t<s);const o=[];for(let s=r;n(s);s+=e)o.push(s);return o}function a2(r,t){const e={};for(const n of t)r[n]!==void 0&&(e[n]=r[n]);return e}function s2(r,t){let e=t;return typeof t=="string"&&(e=n=>n[t]),Object.entries(r).reduce((n,[o,s])=>(n[o]=e(s,o),n),{})}function Dc(r,t){return r.reduce((e,n,o)=>(e[n]=t[o],e),{})}var u2=BR,c2=rt.uniqueId,l2={run:h2,undo:f2};function h2(r){var t=r.graph().acyclicer==="greedy"?u2(r,e(r)):d2(r);t.forEach(function(n){var o=r.edge(n);r.removeEdge(n),o.forwardName=n.name,o.reversed=!0,r.setEdge(n.w,n.v,o,c2("rev"))});function e(n){return function(o){return n.edge(o).weight}}}function d2(r){var t=[],e={},n={};function o(s){n.hasOwnProperty(s)||(n[s]=!0,e[s]=!0,r.outEdges(s).forEach(function(u){e.hasOwnProperty(u.w)?t.push(u):o(u.w)}),delete e[s])}return r.nodes().forEach(o),t}function f2(r){r.edges().forEach(function(t){var e=r.edge(t);if(e.reversed){r.removeEdge(t);var n=e.forwardName;delete e.reversed,delete e.forwardName,r.setEdge(t.w,t.v,e,n)}})}var p2=rt,g2={run:v2,undo:y2};function v2(r){r.graph().dummyChains=[],r.edges().forEach(t=>m2(r,t))}function m2(r,t){var e=t.v,n=r.node(e).rank,o=t.w,s=r.node(o).rank,u=t.name,l=r.edge(t),h=l.labelRank;if(s!==n+1){r.removeEdge(t);var d,g,v;for(v=0,++n;n<s;++v,++n)l.points=[],g={width:0,height:0,edgeLabel:l,edgeObj:t,rank:n},d=p2.addDummyNode(r,"edge",g,"_d"),n===h&&(g.width=l.width,g.height=l.height,g.dummy="edge-label",g.labelpos=l.labelpos),r.setEdge(e,d,{weight:l.weight},u),v===0&&r.graph().dummyChains.push(d),e=d;r.setEdge(e,o,{weight:l.weight},u)}}function y2(r){r.graph().dummyChains.forEach(function(t){var e=r.node(t),n=e.edgeLabel,o;for(r.setEdge(e.edgeObj,n);e.dummy;)o=r.successors(t)[0],r.removeNode(t),n.points.push({x:e.x,y:e.y}),e.dummy==="edge-label"&&(n.x=e.x,n.y=e.y,n.width=e.width,n.height=e.height),t=o,e=r.node(t)})}var Ha={longestPath:b2,slack:_2};function b2(r){var t={};function e(n){var o=r.node(n);if(t.hasOwnProperty(n))return o.rank;t[n]=!0;var s=Math.min(...r.outEdges(n).map(u=>u==null?Number.POSITIVE_INFINITY:e(u.w)-r.edge(u).minlen));return s===Number.POSITIVE_INFINITY&&(s=0),o.rank=s}r.sources().forEach(e)}function _2(r,t){return r.node(t.w).rank-r.node(t.v).rank-r.edge(t).minlen}var w2=yr.Graph,Ia=Ha.slack,Mg=E2;function E2(r){var t=new w2({directed:!1}),e=r.nodes()[0],n=r.nodeCount();t.setNode(e,{});for(var o,s;x2(t,r)<n;)o=A2(t,r),s=t.hasNode(o.v)?Ia(r,o):-Ia(r,o),L2(t,r,s);return t}function x2(r,t){function e(n){t.nodeEdges(n).forEach(function(o){var s=o.v,u=n===s?o.w:s;!r.hasNode(u)&&!Ia(t,o)&&(r.setNode(u,{}),r.setEdge(n,u,{}),e(u))})}return r.nodes().forEach(e),r.nodeCount()}function A2(r,t){return t.edges().reduce((n,o)=>{let s=Number.POSITIVE_INFINITY;return r.hasNode(o.v)!==r.hasNode(o.w)&&(s=Ia(t,o)),s<n[0]?[s,o]:n},[Number.POSITIVE_INFINITY,null])[1]}function L2(r,t,e){r.nodes().forEach(n=>t.node(n).rank+=e)}var S2=Mg,yf=Ha.slack,T2=Ha.longestPath,C2=yr.alg.preorder,R2=yr.alg.postorder,P2=rt.simplify,I2=Zn;Zn.initLowLimValues=Gc;Zn.initCutValues=Nc;Zn.calcCutValue=kg;Zn.leaveEdge=Ug;Zn.enterEdge=Bg;Zn.exchangeEdges=Wg;function Zn(r){r=P2(r),T2(r);var t=S2(r);Gc(t),Nc(t,r);for(var e,n;e=Ug(t);)n=Bg(t,r,e),Wg(t,r,e,n)}function Nc(r,t){var e=R2(r,r.nodes());e=e.slice(0,e.length-1),e.forEach(n=>O2(r,t,n))}function O2(r,t,e){var n=r.node(e),o=n.parent;r.edge(e,o).cutvalue=kg(r,t,e)}function kg(r,t,e){var n=r.node(e),o=n.parent,s=!0,u=t.edge(e,o),l=0;return u||(s=!1,u=t.edge(o,e)),l=u.weight,t.nodeEdges(e).forEach(function(h){var d=h.v===e,g=d?h.w:h.v;if(g!==o){var v=d===s,f=t.edge(h).weight;if(l+=v?f:-f,N2(r,e,g)){var y=r.edge(e,g).cutvalue;l+=v?-y:y}}}),l}function Gc(r,t){arguments.length<2&&(t=r.nodes()[0]),$g(r,{},1,t)}function $g(r,t,e,n,o){var s=e,u=r.node(n);return t[n]=!0,r.neighbors(n).forEach(function(l){t.hasOwnProperty(l)||(e=$g(r,t,e,l,n))}),u.low=s,u.lim=e++,o?u.parent=o:delete u.parent,e}function Ug(r){return r.edges().find(t=>r.edge(t).cutvalue<0)}function Bg(r,t,e){var n=e.v,o=e.w;t.hasEdge(n,o)||(n=e.w,o=e.v);var s=r.node(n),u=r.node(o),l=s,h=!1;s.lim>u.lim&&(l=u,h=!0);var d=t.edges().filter(function(g){return h===bf(r,r.node(g.v),l)&&h!==bf(r,r.node(g.w),l)});return d.reduce((g,v)=>yf(t,v)<yf(t,g)?v:g)}function Wg(r,t,e,n){var o=e.v,s=e.w;r.removeEdge(o,s),r.setEdge(n.v,n.w,{}),Gc(r),Nc(r,t),D2(r,t)}function D2(r,t){var e=r.nodes().find(o=>!t.node(o).parent),n=C2(r,e);n=n.slice(1),n.forEach(function(o){var s=r.node(o).parent,u=t.edge(o,s),l=!1;u||(u=t.edge(s,o),l=!0),t.node(o).rank=t.node(s).rank+(l?u.minlen:-u.minlen)})}function N2(r,t,e){return r.hasEdge(t,e)}function bf(r,t,e){return e.low<=t.lim&&t.lim<=e.lim}var G2=Ha,zg=G2.longestPath,F2=Mg,M2=I2,k2=$2;function $2(r){switch(r.graph().ranker){case"network-simplex":_f(r);break;case"tight-tree":B2(r);break;case"longest-path":U2(r);break;default:_f(r)}}var U2=zg;function B2(r){zg(r),F2(r)}function _f(r){M2(r)}var W2=z2;function z2(r){var t=H2(r);r.graph().dummyChains.forEach(function(e){for(var n=r.node(e),o=n.edgeObj,s=j2(r,t,o.v,o.w),u=s.path,l=s.lca,h=0,d=u[h],g=!0;e!==o.w;){if(n=r.node(e),g){for(;(d=u[h])!==l&&r.node(d).maxRank<n.rank;)h++;d===l&&(g=!1)}if(!g){for(;h<u.length-1&&r.node(d=u[h+1]).minRank<=n.rank;)h++;d=u[h]}r.setParent(e,d),e=r.successors(e)[0]}})}function j2(r,t,e,n){var o=[],s=[],u=Math.min(t[e].low,t[n].low),l=Math.max(t[e].lim,t[n].lim),h,d;h=e;do h=r.parent(h),o.push(h);while(h&&(t[h].low>u||l>t[h].lim));for(d=h,h=n;(h=r.parent(h))!==d;)s.push(h);return{path:o.concat(s.reverse()),lca:d}}function H2(r){var t={},e=0;function n(o){var s=e;r.children(o).forEach(n),t[o]={low:s,lim:e++}}return r.children().forEach(n),t}var Xu=rt,q2={run:Y2,cleanup:K2};function Y2(r){var t=Xu.addDummyNode(r,"root",{},"_root"),e=V2(r),n=Math.max(...Object.values(e))-1,o=2*n+1;r.graph().nestingRoot=t,r.edges().forEach(u=>r.edge(u).minlen*=o);var s=Z2(r)+1;r.children().forEach(function(u){jg(r,t,o,s,n,e,u)}),r.graph().nodeRankFactor=o}function jg(r,t,e,n,o,s,u){var l=r.children(u);if(!l.length){u!==t&&r.setEdge(t,u,{weight:0,minlen:e});return}var h=Xu.addBorderNode(r,"_bt"),d=Xu.addBorderNode(r,"_bb"),g=r.node(u);r.setParent(h,u),g.borderTop=h,r.setParent(d,u),g.borderBottom=d,l.forEach(function(v){jg(r,t,e,n,o,s,v);var f=r.node(v),y=f.borderTop?f.borderTop:v,x=f.borderBottom?f.borderBottom:v,w=f.borderTop?n:2*n,A=y!==x?1:o-s[u]+1;r.setEdge(h,y,{weight:w,minlen:A,nestingEdge:!0}),r.setEdge(x,d,{weight:w,minlen:A,nestingEdge:!0})}),r.parent(u)||r.setEdge(t,h,{weight:0,minlen:o+s[u]})}function V2(r){var t={};function e(n,o){var s=r.children(n);s&&s.length&&s.forEach(u=>e(u,o+1)),t[n]=o}return r.children().forEach(n=>e(n,1)),t}function Z2(r){return r.edges().reduce((t,e)=>t+r.edge(e).weight,0)}function K2(r){var t=r.graph();r.removeNode(t.nestingRoot),delete t.nestingRoot,r.edges().forEach(e=>{var n=r.edge(e);n.nestingEdge&&r.removeEdge(e)})}var X2=rt,Q2=J2;function J2(r){function t(e){var n=r.children(e),o=r.node(e);if(n.length&&n.forEach(t),o.hasOwnProperty("minRank")){o.borderLeft=[],o.borderRight=[];for(var s=o.minRank,u=o.maxRank+1;s<u;++s)wf(r,"borderLeft","_bl",e,o,s),wf(r,"borderRight","_br",e,o,s)}}r.children().forEach(t)}function wf(r,t,e,n,o,s){var u={width:0,height:0,rank:s,borderType:t},l=o[t][s-1],h=X2.addDummyNode(r,"border",u,e);o[t][s]=h,r.setParent(h,n),l&&r.setEdge(l,h,{weight:1})}var eP={adjust:tP,undo:rP};function tP(r){var t=r.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&Hg(r)}function rP(r){var t=r.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&nP(r),(t==="lr"||t==="rl")&&(iP(r),Hg(r))}function Hg(r){r.nodes().forEach(t=>Ef(r.node(t))),r.edges().forEach(t=>Ef(r.edge(t)))}function Ef(r){var t=r.width;r.width=r.height,r.height=t}function nP(r){r.nodes().forEach(t=>Tu(r.node(t))),r.edges().forEach(function(t){var e=r.edge(t);e.points.forEach(Tu),e.hasOwnProperty("y")&&Tu(e)})}function Tu(r){r.y=-r.y}function iP(r){r.nodes().forEach(t=>Cu(r.node(t))),r.edges().forEach(function(t){var e=r.edge(t);e.points.forEach(Cu),e.hasOwnProperty("x")&&Cu(e)})}function Cu(r){var t=r.x;r.x=r.y,r.y=t}var oP=rt,aP=sP;function sP(r){var t={},e=r.nodes().filter(l=>!r.children(l).length),n=Math.max(...e.map(l=>r.node(l).rank)),o=oP.range(n+1).map(()=>[]);function s(l){if(!t[l]){t[l]=!0;var h=r.node(l);o[h.rank].push(l),r.successors(l).forEach(s)}}var u=e.sort((l,h)=>r.node(l).rank-r.node(h).rank);return u.forEach(s),o}var uP=rt.zipObject,cP=lP;function lP(r,t){for(var e=0,n=1;n<t.length;++n)e+=hP(r,t[n-1],t[n]);return e}function hP(r,t,e){for(var n=uP(e,e.map((d,g)=>g)),o=t.flatMap(d=>r.outEdges(d).map(g=>({pos:n[g.w],weight:r.edge(g).weight})).sort((g,v)=>g.pos-v.pos)),s=1;s<e.length;)s<<=1;var u=2*s-1;s-=1;var l=new Array(u).fill(0),h=0;return o.forEach(d=>{var g=d.pos+s;l[g]+=d.weight;for(var v=0;g>0;)g%2&&(v+=l[g+1]),g=g-1>>1,l[g]+=d.weight;h+=d.weight*v}),h}var dP=fP;function fP(r,t=[]){return t.map(e=>{var n=r.inEdges(e);if(n.length){var o=n.reduce((s,u)=>{var l=r.edge(u),h=r.node(u.v);return{sum:s.sum+l.weight*h.order,weight:s.weight+l.weight}},{sum:0,weight:0});return{v:e,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:e}})}var pP=rt,gP=vP;function vP(r,t){var e={};r.forEach((o,s)=>{var u=e[o.v]={indegree:0,in:[],out:[],vs:[o.v],i:s};o.barycenter!==void 0&&(u.barycenter=o.barycenter,u.weight=o.weight)}),t.edges().forEach(o=>{var s=e[o.v],u=e[o.w];s!==void 0&&u!==void 0&&(u.indegree++,s.out.push(e[o.w]))});var n=Object.values(e).filter(o=>!o.indegree);return mP(n)}function mP(r){var t=[];function e(s){return function(u){u.merged||(u.barycenter===void 0||s.barycenter===void 0||u.barycenter>=s.barycenter)&&yP(s,u)}}function n(s){return function(u){u.in.push(s),--u.indegree===0&&r.push(u)}}for(;r.length;){var o=r.pop();t.push(o),o.in.reverse().forEach(e(o)),o.out.forEach(n(o))}return t.filter(s=>!s.merged).map(s=>pP.pick(s,["vs","i","barycenter","weight"]))}function yP(r,t){var e=0,n=0;r.weight&&(e+=r.barycenter*r.weight,n+=r.weight),t.weight&&(e+=t.barycenter*t.weight,n+=t.weight),r.vs=t.vs.concat(r.vs),r.barycenter=e/n,r.weight=n,r.i=Math.min(t.i,r.i),t.merged=!0}var bP=rt,_P=wP;function wP(r,t){var e=bP.partition(r,function(g){return g.hasOwnProperty("barycenter")}),n=e.lhs,o=e.rhs.sort((g,v)=>v.i-g.i),s=[],u=0,l=0,h=0;n.sort(EP(!!t)),h=xf(s,o,h),n.forEach(function(g){h+=g.vs.length,s.push(g.vs),u+=g.barycenter*g.weight,l+=g.weight,h=xf(s,o,h)});var d={vs:s.flat(!0)};return l&&(d.barycenter=u/l,d.weight=l),d}function xf(r,t,e){for(var n;t.length&&(n=t[t.length-1]).i<=e;)t.pop(),r.push(n.vs),e++;return e}function EP(r){return function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:r?e.i-t.i:t.i-e.i}}var xP=dP,AP=gP,LP=_P,SP=qg;function qg(r,t,e,n){var o=r.children(t),s=r.node(t),u=s?s.borderLeft:void 0,l=s?s.borderRight:void 0,h={};u&&(o=o.filter(x=>x!==u&&x!==l));var d=xP(r,o);d.forEach(function(x){if(r.children(x.v).length){var w=qg(r,x.v,e,n);h[x.v]=w,w.hasOwnProperty("barycenter")&&CP(x,w)}});var g=AP(d,e);TP(g,h);var v=LP(g,n);if(u&&(v.vs=[u,v.vs,l].flat(!0),r.predecessors(u).length)){var f=r.node(r.predecessors(u)[0]),y=r.node(r.predecessors(l)[0]);v.hasOwnProperty("barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+f.order+y.order)/(v.weight+2),v.weight+=2}return v}function TP(r,t){r.forEach(function(e){e.vs=e.vs.flatMap(function(n){return t[n]?t[n].vs:n})})}function CP(r,t){r.barycenter!==void 0?(r.barycenter=(r.barycenter*r.weight+t.barycenter*t.weight)/(r.weight+t.weight),r.weight+=t.weight):(r.barycenter=t.barycenter,r.weight=t.weight)}var RP=yr.Graph,PP=rt,IP=OP;function OP(r,t,e){var n=DP(r),o=new RP({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(s){return r.node(s)});return r.nodes().forEach(function(s){var u=r.node(s),l=r.parent(s);(u.rank===t||u.minRank<=t&&t<=u.maxRank)&&(o.setNode(s),o.setParent(s,l||n),r[e](s).forEach(function(h){var d=h.v===s?h.w:h.v,g=o.edge(d,s),v=g!==void 0?g.weight:0;o.setEdge(d,s,{weight:r.edge(h).weight+v})}),u.hasOwnProperty("minRank")&&o.setNode(s,{borderLeft:u.borderLeft[t],borderRight:u.borderRight[t]}))}),o}function DP(r){for(var t;r.hasNode(t=PP.uniqueId("_root")););return t}var NP=GP;function GP(r,t,e){var n={},o;e.forEach(function(s){for(var u=r.parent(s),l,h;u;){if(l=r.parent(u),l?(h=n[l],n[l]=u):(h=o,o=u),h&&h!==u){t.setEdge(h,u);return}u=l}})}var FP=aP,MP=cP,kP=SP,$P=IP,UP=NP,BP=yr.Graph,wa=rt,WP=zP;function zP(r){var t=wa.maxRank(r),e=Af(r,wa.range(1,t+1),"inEdges"),n=Af(r,wa.range(t-1,-1,-1),"outEdges"),o=FP(r);Lf(r,o);for(var s=Number.POSITIVE_INFINITY,u,l=0,h=0;h<4;++l,++h){jP(l%2?e:n,l%4>=2),o=wa.buildLayerMatrix(r);var d=MP(r,o);d<s&&(h=0,u=Object.assign({},o),s=d)}Lf(r,u)}function Af(r,t,e){return t.map(function(n){return $P(r,n,e)})}function jP(r,t){var e=new BP;r.forEach(function(n){var o=n.graph().root,s=kP(n,o,e,t);s.vs.forEach((u,l)=>n.node(u).order=l),UP(n,e,s.vs)})}function Lf(r,t){Object.values(t).forEach(e=>e.forEach((n,o)=>r.node(n).order=o))}var HP=yr.Graph,ho=rt,qP={positionX:nI};function YP(r,t){var e={};function n(o,s){var u=0,l=0,h=o.length,d=s[s.length-1];return s.forEach(function(g,v){var f=ZP(r,g),y=f?r.node(f).order:h;(f||g===d)&&(s.slice(l,v+1).forEach(function(x){r.predecessors(x).forEach(function(w){var A=r.node(w),R=A.order;(R<u||y<R)&&!(A.dummy&&r.node(x).dummy)&&Yg(e,w,x)})}),l=v+1,u=y)}),s}return t.reduce(n),e}function VP(r,t){var e={};function n(s,u,l,h,d){var g;ho.range(u,l).forEach(function(v){g=s[v],r.node(g).dummy&&r.predecessors(g).forEach(function(f){var y=r.node(f);y.dummy&&(y.order<h||y.order>d)&&Yg(e,f,g)})})}function o(s,u){var l=-1,h,d=0;return u.forEach(function(g,v){if(r.node(g).dummy==="border"){var f=r.predecessors(g);f.length&&(h=r.node(f[0]).order,n(u,d,v,l,h),d=v,l=h)}n(u,d,u.length,h,s.length)}),u}return t.reduce(o),e}function ZP(r,t){if(r.node(t).dummy)return r.predecessors(t).find(e=>r.node(e).dummy)}function Yg(r,t,e){if(t>e){var n=t;t=e,e=n}var o=r[t];o||(r[t]=o={}),o[e]=!0}function KP(r,t,e){if(t>e){var n=t;t=e,e=n}return!!r[t]&&r[t].hasOwnProperty(e)}function XP(r,t,e,n){var o={},s={},u={};return t.forEach(function(l){l.forEach(function(h,d){o[h]=h,s[h]=h,u[h]=d})}),t.forEach(function(l){var h=-1;l.forEach(function(d){var g=n(d);if(g.length){g=g.sort((w,A)=>u[w]-u[A]);for(var v=(g.length-1)/2,f=Math.floor(v),y=Math.ceil(v);f<=y;++f){var x=g[f];s[d]===d&&h<u[x]&&!KP(e,d,x)&&(s[x]=d,s[d]=o[d]=o[x],h=u[x])}}})}),{root:o,align:s}}function QP(r,t,e,n,o){var s={},u=JP(r,t,e,o),l=o?"borderLeft":"borderRight";function h(v,f){for(var y=u.nodes(),x=y.pop(),w={};x;)w[x]?v(x):(w[x]=!0,y.push(x),y=y.concat(f(x))),x=y.pop()}function d(v){s[v]=u.inEdges(v).reduce(function(f,y){return Math.max(f,s[y.v]+u.edge(y))},0)}function g(v){var f=u.outEdges(v).reduce(function(x,w){return Math.min(x,s[w.w]-u.edge(w))},Number.POSITIVE_INFINITY),y=r.node(v);f!==Number.POSITIVE_INFINITY&&y.borderType!==l&&(s[v]=Math.max(s[v],f))}return h(d,u.predecessors.bind(u)),h(g,u.successors.bind(u)),Object.keys(n).forEach(v=>s[v]=s[e[v]]),s}function JP(r,t,e,n){var o=new HP,s=r.graph(),u=iI(s.nodesep,s.edgesep,n);return t.forEach(function(l){var h;l.forEach(function(d){var g=e[d];if(o.setNode(g),h){var v=e[h],f=o.edge(v,g);o.setEdge(v,g,Math.max(u(r,d,h),f||0))}h=d})}),o}function eI(r,t){return Object.values(t).reduce((e,n)=>{var o=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY;Object.entries(n).forEach(([l,h])=>{var d=oI(r,l)/2;o=Math.max(h+d,o),s=Math.min(h-d,s)});const u=o-s;return u<e[0]&&(e=[u,n]),e},[Number.POSITIVE_INFINITY,null])[1]}function tI(r,t){var e=Object.values(t),n=Math.min(...e),o=Math.max(...e);["u","d"].forEach(function(s){["l","r"].forEach(function(u){var l=s+u,h=r[l];if(h===t)return;var d=Object.values(h);let g=n-Math.min(...d);u!=="l"&&(g=o-Math.max(...d)),g&&(r[l]=ho.mapValues(h,v=>v+g))})})}function rI(r,t){return ho.mapValues(r.ul,function(e,n){if(t)return r[t.toLowerCase()][n];var o=Object.values(r).map(s=>s[n]).sort((s,u)=>s-u);return(o[1]+o[2])/2})}function nI(r){var t=ho.buildLayerMatrix(r),e=Object.assign(YP(r,t),VP(r,t)),n={},o;["u","d"].forEach(function(u){o=u==="u"?t:Object.values(t).reverse(),["l","r"].forEach(function(l){l==="r"&&(o=o.map(v=>Object.values(v).reverse()));var h=(u==="u"?r.predecessors:r.successors).bind(r),d=XP(r,o,e,h),g=QP(r,o,d.root,d.align,l==="r");l==="r"&&(g=ho.mapValues(g,v=>-v)),n[u+l]=g})});var s=eI(r,n);return tI(n,s),rI(n,r.graph().align)}function iI(r,t,e){return function(n,o,s){var u=n.node(o),l=n.node(s),h=0,d;if(h+=u.width/2,u.hasOwnProperty("labelpos"))switch(u.labelpos.toLowerCase()){case"l":d=-u.width/2;break;case"r":d=u.width/2;break}if(d&&(h+=e?d:-d),d=0,h+=(u.dummy?t:r)/2,h+=(l.dummy?t:r)/2,h+=l.width/2,l.hasOwnProperty("labelpos"))switch(l.labelpos.toLowerCase()){case"l":d=l.width/2;break;case"r":d=-l.width/2;break}return d&&(h+=e?d:-d),d=0,h}}function oI(r,t){return r.node(t).width}var Vg=rt,aI=qP.positionX,sI=uI;function uI(r){r=Vg.asNonCompoundGraph(r),cI(r),Object.entries(aI(r)).forEach(([t,e])=>r.node(t).x=e)}function cI(r){var t=Vg.buildLayerMatrix(r),e=r.graph().ranksep,n=0;t.forEach(function(o){const s=o.reduce((u,l)=>{const h=r.node(l).height;return u>h?u:h},0);o.forEach(u=>r.node(u).y=n+s/2),n+=s+e})}var Sf=l2,Tf=g2,lI=k2,hI=rt.normalizeRanks,dI=W2,fI=rt.removeEmptyRanks,Cf=q2,pI=Q2,Rf=eP,gI=WP,vI=sI,ar=rt,mI=yr.Graph,yI=bI;function bI(r,t){var e=t&&t.debugTiming?ar.time:ar.notime;e("layout",function(){var n=e("  buildLayoutGraph",function(){return RI(r)});e("  runLayout",function(){_I(n,e)}),e("  updateInputGraph",function(){wI(r,n)})})}function _I(r,t){t("    makeSpaceForEdgeLabels",function(){PI(r)}),t("    removeSelfEdges",function(){$I(r)}),t("    acyclic",function(){Sf.run(r)}),t("    nestingGraph.run",function(){Cf.run(r)}),t("    rank",function(){lI(ar.asNonCompoundGraph(r))}),t("    injectEdgeLabelProxies",function(){II(r)}),t("    removeEmptyRanks",function(){fI(r)}),t("    nestingGraph.cleanup",function(){Cf.cleanup(r)}),t("    normalizeRanks",function(){hI(r)}),t("    assignRankMinMax",function(){OI(r)}),t("    removeEdgeLabelProxies",function(){DI(r)}),t("    normalize.run",function(){Tf.run(r)}),t("    parentDummyChains",function(){dI(r)}),t("    addBorderSegments",function(){pI(r)}),t("    order",function(){gI(r)}),t("    insertSelfEdges",function(){UI(r)}),t("    adjustCoordinateSystem",function(){Rf.adjust(r)}),t("    position",function(){vI(r)}),t("    positionSelfEdges",function(){BI(r)}),t("    removeBorderNodes",function(){kI(r)}),t("    normalize.undo",function(){Tf.undo(r)}),t("    fixupEdgeLabelCoords",function(){FI(r)}),t("    undoCoordinateSystem",function(){Rf.undo(r)}),t("    translateGraph",function(){NI(r)}),t("    assignNodeIntersects",function(){GI(r)}),t("    reversePoints",function(){MI(r)}),t("    acyclic.undo",function(){Sf.undo(r)})}function wI(r,t){r.nodes().forEach(e=>{var n=r.node(e),o=t.node(e);n&&(n.x=o.x,n.y=o.y,n.rank=o.rank,t.children(e).length&&(n.width=o.width,n.height=o.height))}),r.edges().forEach(e=>{var n=r.edge(e),o=t.edge(e);typeof n=="string"&&(n={label:n,points:[]}),n.points=o.points,o.hasOwnProperty("x")&&(n.x=o.x,n.y=o.y)}),r.graph().width=t.graph().width,r.graph().height=t.graph().height}var EI=["nodesep","edgesep","ranksep","marginx","marginy"],xI={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},AI=["acyclicer","ranker","rankdir","align"],LI=["width","height"],Pf={width:0,height:0},SI=["minlen","weight","width","height","labeloffset"],TI={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},CI=["labelpos"];function RI(r){var t=new mI({multigraph:!0,compound:!0}),e=Pu(r.graph());return t.setGraph(Object.assign({},xI,Ru(e,EI),ar.pick(e,AI))),r.nodes().forEach(n=>{var o=Pu(r.node(n));const s=Ru(o,LI);Object.keys(Pf).forEach(u=>{s[u]===void 0&&(s[u]=Pf[u])}),t.setNode(n,s),t.setParent(n,r.parent(n))}),r.edges().forEach(n=>{var o=Pu(r.edge(n));t.setEdge(n,Object.assign({},TI,Ru(o,SI),ar.pick(o,CI)))}),t}function PI(r){var t=r.graph();t.ranksep/=2,r.edges().forEach(e=>{var n=r.edge(e);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function II(r){r.edges().forEach(t=>{var e=r.edge(t);if(e.width&&e.height){var n=r.node(t.v),o=r.node(t.w),s={rank:(o.rank-n.rank)/2+n.rank,e:t};ar.addDummyNode(r,"edge-proxy",s,"_ep")}})}function OI(r){var t=0;r.nodes().forEach(e=>{var n=r.node(e);n.borderTop&&(n.minRank=r.node(n.borderTop).rank,n.maxRank=r.node(n.borderBottom).rank,t=Math.max(t,n.maxRank))}),r.graph().maxRank=t}function DI(r){r.nodes().forEach(t=>{var e=r.node(t);e.dummy==="edge-proxy"&&(r.edge(e.e).labelRank=e.rank,r.removeNode(t))})}function NI(r){var t=Number.POSITIVE_INFINITY,e=0,n=Number.POSITIVE_INFINITY,o=0,s=r.graph(),u=s.marginx||0,l=s.marginy||0;function h(d){var g=d.x,v=d.y,f=d.width,y=d.height;t=Math.min(t,g-f/2),e=Math.max(e,g+f/2),n=Math.min(n,v-y/2),o=Math.max(o,v+y/2)}r.nodes().forEach(d=>h(r.node(d))),r.edges().forEach(d=>{var g=r.edge(d);g.hasOwnProperty("x")&&h(g)}),t-=u,n-=l,r.nodes().forEach(d=>{var g=r.node(d);g.x-=t,g.y-=n}),r.edges().forEach(d=>{var g=r.edge(d);g.points.forEach(v=>{v.x-=t,v.y-=n}),g.hasOwnProperty("x")&&(g.x-=t),g.hasOwnProperty("y")&&(g.y-=n)}),s.width=e-t+u,s.height=o-n+l}function GI(r){r.edges().forEach(t=>{var e=r.edge(t),n=r.node(t.v),o=r.node(t.w),s,u;e.points?(s=e.points[0],u=e.points[e.points.length-1]):(e.points=[],s=o,u=n),e.points.unshift(ar.intersectRect(n,s)),e.points.push(ar.intersectRect(o,u))})}function FI(r){r.edges().forEach(t=>{var e=r.edge(t);if(e.hasOwnProperty("x"))switch((e.labelpos==="l"||e.labelpos==="r")&&(e.width-=e.labeloffset),e.labelpos){case"l":e.x-=e.width/2+e.labeloffset;break;case"r":e.x+=e.width/2+e.labeloffset;break}})}function MI(r){r.edges().forEach(t=>{var e=r.edge(t);e.reversed&&e.points.reverse()})}function kI(r){r.nodes().forEach(t=>{if(r.children(t).length){var e=r.node(t),n=r.node(e.borderTop),o=r.node(e.borderBottom),s=r.node(e.borderLeft[e.borderLeft.length-1]),u=r.node(e.borderRight[e.borderRight.length-1]);e.width=Math.abs(u.x-s.x),e.height=Math.abs(o.y-n.y),e.x=s.x+e.width/2,e.y=n.y+e.height/2}}),r.nodes().forEach(t=>{r.node(t).dummy==="border"&&r.removeNode(t)})}function $I(r){r.edges().forEach(t=>{if(t.v===t.w){var e=r.node(t.v);e.selfEdges||(e.selfEdges=[]),e.selfEdges.push({e:t,label:r.edge(t)}),r.removeEdge(t)}})}function UI(r){var t=ar.buildLayerMatrix(r);t.forEach(e=>{var n=0;e.forEach((o,s)=>{var u=r.node(o);u.order=s+n,(u.selfEdges||[]).forEach(l=>{ar.addDummyNode(r,"selfedge",{width:l.label.width,height:l.label.height,rank:u.rank,order:s+ ++n,e:l.e,label:l.label},"_se")}),delete u.selfEdges})})}function BI(r){r.nodes().forEach(t=>{var e=r.node(t);if(e.dummy==="selfedge"){var n=r.node(e.e.v),o=n.x+n.width/2,s=n.y,u=e.x-o,l=n.height/2;r.setEdge(e.e,e.label),r.removeNode(t),e.label.points=[{x:o+2*u/3,y:s-l},{x:o+5*u/6,y:s-l},{x:o+u,y:s},{x:o+5*u/6,y:s+l},{x:o+2*u/3,y:s+l}],e.label.x=e.x,e.label.y=e.y}})}function Ru(r,t){return ar.mapValues(ar.pick(r,t),Number)}function Pu(r){var t={};return r&&Object.entries(r).forEach(([e,n])=>{typeof e=="string"&&(e=e.toLowerCase()),t[e]=n}),t}var WI=rt,zI=yr.Graph,jI={debugOrdering:HI};function HI(r){var t=WI.buildLayerMatrix(r),e=new zI({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(function(n){e.setNode(n,{label:n}),e.setParent(n,"layer"+r.node(n).rank)}),r.edges().forEach(function(n){e.setEdge(n.v,n.w,{},n.name)}),t.forEach(function(n,o){var s="layer"+o;e.setNode(s,{rank:"same"}),n.reduce(function(u,l){return e.setEdge(u,l,{style:"invis"}),l})}),e}var qI="1.0.1-pre",YI={graphlib:yr,layout:yI,debug:jI,util:{time:rt.time,notime:rt.notime},version:qI};const If=Vn(YI),Of=10;var Zg=(r=>(r.TOP_BOTTOM="TB",r.BOTTOM_TOP="BT",r.LEFT_RIGHT="LR",r.RIGHT_LEFT="RL",r))(Zg||{});const VI=(r,t)=>{r.forEachNode(e=>{const{label:n,size:o}=r.getNodeAttributes(e);t.setNode(e,{label:n||"",width:o||Of,height:o||Of})})},ZI=(r,t)=>{r.forEachEdge(e=>{const n=Ra(e);n!==null&&t.setEdge(n.source,n.target,n.label)})},KI=(r,t)=>{VI(r,t),ZI(r,t)},XI=(r,t)=>{t.nodes().forEach(e=>{const{x:n,y:o}=t.node(e);n&&o&&e!=="ReadWrite"?(r.updateNodeAttribute(e,"x",()=>n),r.updateNodeAttribute(e,"y",()=>o)):console.warn("incomplete information for applying graphlib node position to sigma")})},QI=(r,t)=>!t||!t.size?{assign:()=>{}}:{assign:()=>{const n=new If.graphlib.Graph({directed:!0,multigraph:!0});n.setGraph({}),n.setDefaultEdgeLabel(()=>({})),n.setDefaultNodeLabel(()=>({})),KI(t,n);const o=n.graph();o.rankdir=r.graph.rankdir,o.ranksep=r.graph.ranksep,If.layout(n),XI(t,n)}},JI=r=>{HC.assign(r,{iterations:128,settings:{scalingRatio:1e3,barnesHutOptimize:!0}})},Kg=r=>{const{assign:t}=QI({graph:{rankdir:Zg.LEFT_RIGHT,ranksep:500}},r);t()},eO=(r,t)=>{const e=new dc,{nodes:n,edges:o}=r,{theme:s,darkMode:u}=t,l={labels:{labelColor:s.palette.color.primary,backgroundColor:s.palette.neutral.secondary,highlightedBackground:s.palette.color.links,highlightedText:u?s.palette.common.black:s.palette.common.white},nodeBorderColor:s.palette.color.primary,glyph:{colors:{backgroundColor:s.palette.color.primary,color:s.palette.neutral.primary},tierZeroGlyph:u?oo[ha.TIER_ZERO_DARK]:oo[ha.TIER_ZERO],ownedObjectGlyph:u?oo[ha.OWNED_OBJECT_DARK]:oo[ha.OWNED_OBJECT]}};return tO(e,n,{...t,themedOptions:l}),rO(e,o,l),PC.assign(e,{scale:1e3}),Kg(e),e},tO=(r,t,e)=>{const{themedOptions:n,customIcons:o,hideNodes:s,tagGlyphMap:u}=e;Object.keys(t).forEach(l=>{const h=t[l],d={type:"combined",label:h.label,forceLabel:!0,hidden:s,...n.labels},g=DE(h.kind,o);d.color=g.color,d.image=g.url||"",d.glyphs=[];const v=NE(h.kinds,u);v&&(d.type="glyphs",d.glyphs.push({location:Aa.TOP_RIGHT,image:v,...n.glyph.colors})),h.isTierZero&&(d.type="glyphs",d.glyphs.push({location:Aa.TOP_RIGHT,image:n.glyph.tierZeroGlyph.url||"",...n.glyph.colors})),h.isOwnedObject&&(d.type="glyphs",d.glyphs.push({location:Aa.BOTTOM_RIGHT,image:n.glyph.ownedObjectGlyph.url||"",...n.glyph.colors})),r.addNode(l,{size:25,borderColor:n.nodeBorderColor,...d})})},rO=(r,t,e)=>{const n=new Set,o=t.reduce((s,u)=>{const l=nO(u),h=Df(u);return s[l]||(s[l]=[]),n.has(h)||(n.add(h),s[l].push(u)),s},{});for(const s in o){const u=o[s].length;for(const[l,h]of o[s].entries()){const d=Df(h),g={size:3,type:"arrow",label:h.label,groupPosition:0,groupSize:1,exploreGraphId:h.exploreGraphId||d,forceLabel:!0,...e.labels},v=u>1,f=h.source===h.target,x=s.split("_")[0]===h.source?Iu.FORWARDS:Iu.BACKWARDS;v&&(g.type="curved",g.groupPosition=l,g.groupSize=u,g.direction=x),f&&(g.type="self",g.groupPosition=l,g.groupSize=u),r.addEdgeWithKey(d,h.source,h.target,g)}}},Df=r=>`${r.source}_${r.kind}_${r.target}`,nO=r=>{const t=[r.source,r.target].sort();return`${t[0]}_${t[1]}`},Nf={id:null,cancelNextClick:!1,offset:null,origin:null},iO=V.forwardRef(function({highlightedItem:t,onClickNode:e,onClickStage:n,onRightClickNode:o,showNodeLabels:s=!0,showEdgeLabels:u=!0},l){const h=Qr(G=>G.global.view.exploreLayout),d=Rc(),g=d.getGraph(),v=uT(),f=Yp(),[y,x]=V.useState(Nf),w=y.id&&g.getNodeAttributes(y.id),A=l;V.useImperativeHandle(A,()=>({zoomTo:G=>{const M=d.getNodeDisplayData(G);M&&d.getCamera().animate({x:M==null?void 0:M.x,y:M==null?void 0:M.y,ratio:1},{easing:"quadraticOut"},()=>{d.scheduleRefresh()})},resetCamera:()=>{ro(d)},runSequentialLayout:()=>{Kg(g),ro(d)},runStandardLayout:()=>{JI(g),ro(d)}}),[d,g]);const R=document.getElementById("sigma-container"),{getControlAtMidpoint:T,getLineLength:S,calculateCurveHeight:C}=xe,E=V.useCallback((G,M,D)=>{const ee=Ra(G);if(ee!==null){const se=Uu(ee.source,ee.target,d);if(se!==null){const fe={x:se.source.x,y:se.source.y},he={x:se.target.x,y:se.target.y},te=C(M.groupSize,M.groupPosition,M.direction),me=T(te,fe,he);D.control=me,D.controlInViewport=d.framedGraphToViewport(me)}}},[d,C,T]),I=V.useCallback((G,M)=>{const D=Ra(G);if(D!==null){const ee=Uu(D.source,D.target,d);if(ee!==null){const se=Di(!1,M.inverseSqrtZoomRatio,ee.source.size),fe=S(Pa(d,{x:0,y:0}),Pa(d,{x:se,y:se}));M.framedGraphNodeRadius=fe}}},[d,S]);return V.useEffect(()=>{v({enterNode:()=>{R&&(R.style.cursor="grab")},leaveNode:()=>{R&&(R.style.cursor="default")},downNode:G=>{if(G.event.original.button===hT){const M=g.getNodeAttributes(G.node);x({cancelNextClick:!1,id:G.node,offset:fT(M,d.viewportToGraph(G.event)),origin:{x:M.x,y:M.y}})}},mouseup:()=>{w&&setTimeout(()=>x(Nf),10)},mousemovebody:G=>{if(w&&y.offset){const M=d.viewportToGraph(G);cu(G);const D={x:M.x-y.offset.x,y:M.y-y.offset.y};!y.cancelNextClick&&y.origin&&dT(y.origin,D)>lT&&x({...y,cancelNextClick:!0}),g.setNodeAttribute(y.id,"x",D.x),g.setNodeAttribute(y.id,"y",D.y)}},doubleClickNode:G=>{cu(G)},clickNode:G=>{y.cancelNextClick?x({...y,cancelNextClick:!1}):e==null||e(G.node)},rightClickNode:G=>{cu(G),o==null||o(G)},updated:()=>d.refresh(),clickStage:()=>n==null?void 0:n()})},[y,y.id,y.offset,w,g,e,n,o,v,d,R]),V.useEffect(()=>{f({nodeReducer:(G,M)=>{const D=d.getCamera();return{...M,highlighted:G===t,inverseSqrtZoomRatio:1/Math.sqrt(D.ratio)}},edgeReducer:(G,M)=>{const D=d.getCamera(),ee={...M,hidden:!1,highlighted:G===t,inverseSqrtZoomRatio:1/Math.sqrt(D.ratio)};return M.type==="curved"?E(G,M,ee):M.type==="self"&&I(G,ee),ee}})},[E,t,I,f,d]),V.useLayoutEffect(()=>{f({renderEdgeLabels:w?!1:u})},[w,f,u]),V.useLayoutEffect(()=>{var G,M;A!=null&&A.current?h==="sequential"?(G=A==null?void 0:A.current)==null||G.runSequentialLayout():h==="standard"?(M=A==null?void 0:A.current)==null||M.runStandardLayout():ro(d):ro(d)},[d,h,A]),V.useLayoutEffect(()=>{f({renderLabels:s,renderEdgeLabels:u})},[f,s,u]),null}),oO=V.forwardRef(function({graph:t,highlightedItem:e,onClickNode:n,onClickEdge:o,onClickStage:s,handleContextMenu:u,showNodeLabels:l=!0,showEdgeLabels:h=!0},d){const g=Ti();return $.jsx("div",{"data-testid":"sigma-container-wrapper",onContextMenu:v=>v.preventDefault(),children:$.jsxs(cT,{id:"sigma-container",style:{position:"absolute",top:0,left:0,height:"100%",width:"100%",background:g.palette.neutral.primary},graph:t,settings:{nodeProgramClasses:{combined:HT(),glyphs:XT()},edgeProgramClasses:{curved:GT,self:kT,arrow:NT},renderEdgeLabels:h,renderLabels:l,hoverRenderer:$T,edgeLabelRenderer:IT,edgeLabelSize:12,labelSize:12,labelFont:"Roboto",labelColor:{color:g.palette.color.primary},labelRenderer:Pc,maxCameraRatio:$u,minCameraRatio:ku},children:[$.jsx(tC,{onClickEdge:o}),$.jsx(iO,{highlightedItem:e??null,onClickNode:n,onClickStage:s,onRightClickNode:u,showNodeLabels:l,showEdgeLabels:h,ref:d})]})})}),aO=r=>{if(r)return GE(r)?r.data:FE(r)},sO=()=>{const r=qf(),t=V.useMemo(()=>aO(r.data),[r.data]);return{...r,data:t}},Gf=({assetGroupId:r,assetGroupName:t})=>{const{addNotification:e}=nc(),{refetch:n}=qf(),[o,s]=V.useState(!1),{selectedItemQuery:u}=Ci(),l=Qr(Yf),h=r===l,d=Vf({mutationFn:({nodeId:w,action:A})=>Ou.updateAssetGroupSelector(r,[{selector_name:w,sid:w,action:A}]),onSuccess:()=>{n(),e("Update successful.","AssetGroupUpdateSuccess")},onError:w=>{console.error(w),e("Unknown error, group was not updated","AssetGroupUpdateError")}}),{data:g}=ME(["listAssetGroupMembers",r],()=>{var w;return Ou.listAssetGroupMembers(r,void 0,{params:{object_id:`object_id=eq:${(w=u.data)==null?void 0:w.objectId}`}}).then(A=>{var R;return(R=A.data.data)==null?void 0:R.members})}),v=()=>{u.data&&"objectId"in u.data&&d.mutate({nodeId:u.data.objectId,action:"add"})},f=()=>{u.data&&"objectId"in u.data&&d.mutate({nodeId:u.data.objectId,action:"remove"})},y=w=>{w.stopPropagation(),s(!0)},x=()=>{s(!1)};if(!g)return null;if(g.length===0)return $.jsxs($.Fragment,{children:[$.jsxs(Lt,{onClick:h?y:v,children:["Add to ",t]}),h?$.jsx(Ff,{handleCancel:x,handleApply:v,open:o,dialogContent:`Are you sure you want to add this node to ${t}? This action will initiate an analysis run to update group membership.`}):null]});if(g.length===1&&g[0].custom_member)return $.jsxs($.Fragment,{children:[$.jsxs(Lt,{onClick:h?y:f,children:["Remove from ",t]}),h?$.jsx(Ff,{handleCancel:()=>s(!1),handleApply:f,open:o,dialogContent:`Are you sure you want to remove this node from ${t}? This action will initiate an analysis run to update group membership.`}):null]})},Ff=({open:r,handleApply:t,handleCancel:e,dialogContent:n})=>$.jsxs(kE,{open:r,children:[$.jsx($E,{children:"Confirm Selection"}),$.jsx(UE,{children:n}),$.jsxs(BE,{children:[$.jsx(Ta,{variant:"tertiary",onClick:e,children:"Cancel"}),$.jsx(Ta,{variant:"primary",onClick:t,children:"Ok"})]})]}),uO=An(({className:r,...t})=>$.jsx(zE,{...t,classes:{popper:r}}))(({theme:r})=>({[`& .${jE.tooltip}`]:{color:r.palette.text.primary,backgroundColor:r.palette.background.paper,padding:0,paddingTop:"0.5rem",paddingBottom:"0.5rem",boxShadow:r.shadows[8],marginLeft:"2px !important"}})),Xg=()=>{const{addNotification:r}=nc(),{selectedItemQuery:t}=Ci(),e=()=>{t.data&&(navigator.clipboard.writeText(t.data.label),r("Name copied to clipboard","copyToClipboard"))},n=()=>{t.data&&(navigator.clipboard.writeText(t.data.objectId),r("Object ID copied to clipboard","copyToClipboard"))},o=()=>{if(t.data){const s=`MATCH (n:${t.data.kind}) WHERE n.objectid = '${t.data.objectId}' RETURN n`;navigator.clipboard.writeText(s),r("Cypher copied to clipboard","copyToClipboard")}};return $.jsx("div",{children:$.jsx(uO,{placement:"right",title:$.jsxs($.Fragment,{children:[$.jsx(Lt,{onClick:e,children:"Name"}),$.jsx(Lt,{onClick:n,children:"Object ID"}),$.jsx(Lt,{onClick:o,children:"Cypher"})]}),children:$.jsxs(Lt,{sx:{justifyContent:"space-between"},onClick:s=>s.stopPropagation(),children:["Copy ",$.jsx(ic,{icon:WE})]})})})},cO=({contextMenu:r,handleClose:t})=>{const{primarySearch:e,secondarySearch:n,setExploreParams:o}=Da(),{selectedItemQuery:s}=Ci(),{data:u}=HE("tier_management_engine"),l=Qr(qE),h=Qr(Yf),{checkPermission:d}=Zf(),g=()=>{const f=s.data;f&&Jr(f)&&o({exploreSearchTab:"pathfinding",searchType:n?"pathfinding":"node",primarySearch:f==null?void 0:f.objectId})},v=()=>{const f=e?"pathfinding":"node",y=s.data;y&&Jr(y)&&o({exploreSearchTab:"pathfinding",searchType:f,secondarySearch:y==null?void 0:y.objectId})};return $.jsxs(Ea,{open:r!==null,anchorPosition:{left:(r==null?void 0:r.mouseX)||10,top:(r==null?void 0:r.mouseY)||0},anchorReference:"anchorPosition",onClick:t,children:[$.jsx(Lt,{onClick:g,children:"Set as starting node"}),$.jsx(Lt,{onClick:v,children:"Set as ending node"}),!(u!=null&&u.enabled)&&d(Kf.GRAPH_DB_WRITE)&&[$.jsx(Gf,{assetGroupId:h,assetGroupName:"High Value"},h),$.jsx(Gf,{assetGroupId:l,assetGroupName:"Owned"},l)],$.jsx(Xg,{})]})},Mf=({assetGroupId:r,assetGroupName:t,isCurrentMember:e,removeNodePath:n,onAddNode:o=()=>{},onShowConfirmation:s=()=>{},onCancelConfirmation:u=()=>{},showConfirmationOnAdd:l=!1,confirmationOnAddMessage:h=""})=>{const d=()=>{o(r)},g=()=>{u()};return e?$.jsxs(Lt,{component:jf,to:n,children:["Remove from ",t]}):l?$.jsxs($.Fragment,{children:[$.jsxs(Lt,{onClick:s,children:["Add to ",t]}),$.jsx(lO,{onCancel:g,onAccept:d,dialogContent:h})]}):$.jsxs(Lt,{onClick:d,children:["Add to ",t]})},lO=({onCancel:r,onAccept:t,dialogContent:e})=>$.jsx(YE,{children:$.jsxs(VE,{children:[$.jsx(ZE,{children:"Confirm Selection"}),$.jsx(KE,{children:e}),$.jsxs(XE,{children:[$.jsx(Ta,{variant:"tertiary",onClick:r,children:"Cancel"}),$.jsx(Ta,{variant:"primary",onClick:t,children:"Ok"})]})]})}),hO=({contextMenu:r,onClose:t=()=>{}})=>{var R,T;const{addNotification:e}=nc(),{checkPermission:n}=Zf(),{selectedItemQuery:o}=Ci(),{setExploreParams:s,primarySearch:u,secondarySearch:l}=Da(),h=QE(),d=Vf({mutationFn:({assetGroupId:S,node:C})=>Ou.createAssetGroupTagSelector(S,{name:C.label??C.objectId,seeds:[{type:JE,value:C.objectId}]}),onSuccess:()=>{e("Node successfully added.","AssetGroupUpdateSuccess")},onError:S=>{console.error(S),e("An error occurred when adding node","AssetGroupUpdateError")}}),g=()=>{const S=o.data;S&&Jr(S)&&s({exploreSearchTab:"pathfinding",searchType:l?"pathfinding":"node",primarySearch:S==null?void 0:S.objectId})},[v,f]=V.useState(!1),y=()=>{const S=o.data;S&&Jr(S)&&s({exploreSearchTab:"pathfinding",searchType:u?"pathfinding":"node",secondarySearch:S==null?void 0:S.objectId})},x=S=>{d.mutate({assetGroupId:S,node:o.data},{onSettled:()=>{f(!1)}})},w=(R=h.data)==null?void 0:R.find(S=>S.position===1),A=(T=h.data)==null?void 0:T.find(S=>S.type===3);return h.isLoading||o.isLoading?$.jsx(Ea,{open:r!==null,anchorPosition:{left:(r==null?void 0:r.mouseX)||0,top:(r==null?void 0:r.mouseY)||0},anchorReference:"anchorPosition",onClick:t,keepMounted:!0,children:$.jsx(Lt,{disabled:!0,children:"Loading"})}):h.isError||o.isError?$.jsx(Ea,{open:r!==null,anchorPosition:{left:(r==null?void 0:r.mouseX)||0,top:(r==null?void 0:r.mouseY)||0},anchorReference:"anchorPosition",onClick:t,keepMounted:!0,children:$.jsx(Lt,{disabled:!0,children:"Unavailable"})}):$.jsx(ex,{open:v,children:$.jsxs(Ea,{open:r!==null,anchorPosition:{left:(r==null?void 0:r.mouseX)||0,top:(r==null?void 0:r.mouseY)||0},anchorReference:"anchorPosition",onClick:t,keepMounted:!0,children:[$.jsx(Lt,{onClick:g,children:"Set as starting node"}),$.jsx(Lt,{onClick:y,children:"Set as ending node"}),n(Kf.GRAPH_DB_WRITE)&&[$.jsx(Mf,{assetGroupId:w.id,assetGroupName:w.name,onAddNode:x,removeNodePath:`/${ld}/${tx}/${w.id}/${hd}`,isCurrentMember:Jr(o.data)&&o.data.isTierZero,onShowConfirmation:()=>{f(!0)},onCancelConfirmation:()=>{f(!1)},showConfirmationOnAdd:!0,confirmationOnAddMessage:`Are you sure you want to add this node to ${w.name}? This action will initiate an analysis run to update group membership.`},w.id),$.jsx(Mf,{assetGroupId:A.id,assetGroupName:A.name,onAddNode:x,removeNodePath:`/${ld}/${rx}/${A.id}/${hd}`,isCurrentMember:Jr(o.data)&&o.data.isOwnedObject},A.id)],$.jsx(Xg,{})]})})},dO=nx(r=>({menuButton:{borderRadius:r.shape.borderRadius,borderColor:"rgba(0,0,0,0.23)",color:"black",height:"35px"},icon:{height:"40px",boxSizing:"border-box",padding:r.spacing(2),fontSize:r.typography.fontSize,color:r.palette.color.primary}})),Qu={node:0,pathfinding:1,cypher:2},fO=r=>r&&r in Qu?r:"node",pO=()=>{const r=dO(),t=Ti(),e=ix(t.breakpoints.down("md")),{exploreSearchTab:n,setExploreParams:o}=Da(),s=Cx(),u=Rx(),l=Px(),h=Ix(),d=fO(n),[g,v]=V.useState(!0),f=T=>{const C=["node","pathfinding","cypher"][T],E=y(d),I=x(C);o({...E,...I})},y=T=>{const S={};return T==="node"&&(s.selectedItem||(S.primarySearch=null,u.handleSourceNodeEdited(s.searchTerm))),T==="pathfinding"&&(u.sourceSelectedItem||(S.primarySearch=null,s.editSourceNode(u.sourceSearchTerm)),u.destinationSelectedItem||(S.secondarySearch=null)),T==="cypher"&&(l.cypherQuery||(S.cypherSearch=null)),S},x=T=>{const S={};return T==="node"&&(s.selectedItem&&(S.searchType="node"),S.exploreSearchTab="node"),T==="pathfinding"&&(u.sourceSelectedItem&&u.destinationSelectedItem?S.searchType="pathfinding":(u.sourceSelectedItem||u.destinationSelectedItem)&&(S.searchType="node"),S.exploreSearchTab="pathfinding"),T==="cypher"&&(l.cypherQuery&&(S.searchType="cypher"),S.cypherSearch=dx(l.cypherQuery),S.exploreSearchTab="cypher"),S},w=Qr(T=>T.global.view.autoRunQueries),A=Xf(),R=T=>{A(hx(T))};return $.jsxs("div",{"data-testid":"explore_search-container",className:dd("h-full min-h-0 w-[410px] flex gap-4 flex-col rounded-lg shadow-[1px solid white]",{"w-[600px]":d==="cypher"&&g}),children:[$.jsxs("div",{className:"h-10 w-full flex gap-1 rounded-lg pointer-events-auto bg-[#f4f4f4] dark:bg-[#222222]","data-testid":"explore_search-container_header",children:[$.jsx(ox,{"data-testid":"explore_search-container_header_expand-collapse-button",className:r.icon,click:()=>{v(T=>!T)},children:$.jsx(ic,{icon:g?ax:sx})}),$.jsx(m1,{variant:"fullWidth",value:Qu[d],onChange:(T,S)=>f(S),onClick:()=>v(!0),className:"h-10 min-h-10 w-full",TabIndicatorProps:{className:"h-[3px]"},children:gO(e)})]}),$.jsx("div",{className:dd("hidden min-h-0  rounded-lg pointer-events-auto",{block:g,"p-2 bg-[#f4f4f4] dark:bg-[#222222]":d!=="cypher"}),children:$.jsx(vO,{tabs:[$.jsx(Ox,{nodeSearchState:s}),$.jsx(Dx,{pathfindingSearchState:u,pathfindingFilterState:h}),$.jsx(Nx,{cypherSearchState:l,autoRun:w,setAutoRun:R})],activeTab:Qu[d]})})]})},gO=r=>[{label:"Search",icon:ux},{label:"Pathfinding",icon:cx},{label:"Cypher",icon:lx}].map(({label:e,icon:n})=>$.jsx(Xx,{"data-testid":`explore_search-container_header_${e.toLowerCase()}-tab`,label:r?"":e,icon:$.jsx(ic,{icon:n}),iconPosition:"start",title:e,className:"h-10 min-h-10"},e)),vO=({tabs:r,activeTab:t})=>$.jsx($.Fragment,{children:r.map((e,n)=>t===n?$.jsx("div",{role:"tabpanel",className:"h-full",children:e},n):null)}),mO=()=>{const{selectedItem:r,selectedItemQuery:t}=Ci(),e=Ti(),n={bottom:0,top:0,marginBottom:e.spacing(2),marginTop:e.spacing(2),maxWidth:e.spacing(50),position:"absolute",right:e.spacing(2),width:e.spacing(50)};if(!r||t.isLoading)return $.jsx(hu,{sx:n,selectedNode:null,DataTable:Hx});if(t.isError)return $.jsx(hu,{DataTable:vd,sx:n,selectedNode:{graphId:r,id:"",name:"Unknown",type:"Unknown"}});if(t.data&&fx(t.data)){const o={id:r,name:t.data.label||"",data:t.data.properties||{},sourceNode:{id:t.data.source,objectId:t.data.sourceNode.objectId,name:t.data.sourceNode.label,type:t.data.sourceNode.kind},targetNode:{id:t.data.target,objectId:t.data.targetNode.objectId,name:t.data.targetNode.label,type:t.data.targetNode.kind}};return $.jsx(Gx,{sx:n,selectedEdge:o})}if(t.data&&Jr(t.data)){const o={graphId:r,id:t.data.objectId,name:t.data.label,type:t.data.kind};return $.jsx(hu,{sx:n,selectedNode:o,DataTable:vd})}},Qg=r=>{Object.entries(r).forEach(([t,e])=>{e.url||(r[t].url=oc(e.icon,{styles:{color:px,scale:Qf,"background-color":e.color}}))})},yO=r=>{Object.entries(r).forEach(([t,e])=>{e.url||(r[t].url=oc(e.icon,{styles:{color:e.iconColor??mx,scale:vx}}))})};function bO(r){return Qg(r),r}Qg(gx);yO(oo);fd.url=oc(fd.icon,{styles:{scale:Qf}});const NO=()=>{var Ze;const r=Xf(),t=Ti(),e=Fx(),n=sO(),{searchType:o}=Da(),{selectedItem:s,setSelectedItem:u,selectedItemQuery:l,clearSelectedItem:h}=Ci(),[d,g]=V.useState(),[v,f]=V.useState(null),y=V.useRef(null),x=Qr(J=>J.global.view.darkMode),w=Qr(J=>J.global.view.exploreLayout),A=Qr(J=>J.global.view.selectedExploreTableColumns),R=Qr(J=>J.global.view.isExploreTableSelected),T=yx({select:bO}),S=bx(xx,x),C=!w&&!R,[E,I]=Mx(C),G=o==="cypher"&&(R||E),[M,D]=pd(!0),[ee,se]=pd(!0),fe=V.useMemo(()=>kx(),[]),he=V.useMemo(()=>({theme:t,darkMode:x,customIcons:(T==null?void 0:T.data)??{},hideNodes:G,tagGlyphMap:S}),[t,x,T.data,G,S]);V.useEffect(()=>{if(!n.data)return;const J=n.data;if(he.hideNodes)g(void 0);else{const ge=eO(J,he);g(ge)}},[n.data,he]);const te=V.useCallback(J=>{u(J.node),f(v===null?{mouseX:J.event.x,mouseY:J.event.y}:null)},[v,f,u]),me=V.useCallback(J=>{J.id&&te({event:{x:J.x,y:J.y},node:J.id})},[te]);if(e.isLoading)return $.jsx("div",{className:"relative h-full w-full overflow-hidden","data-testid":"explore",children:$.jsx(gd,{loading:e.isLoading})});if(e.isError)return $.jsx($x,{});if(!fe)return $.jsx(Ux,{});const Me=()=>{f(null)},ke=J=>{const ge=Lx(J);r(Sx(ge))},He=J=>{var ge,Xe;if(J==="table"){r(lu(!0));return}r(Ax(J)),r(lu(!1)),J==="standard"&&((ge=y.current)==null||ge.runStandardLayout()),J==="sequential"&&((Xe=y.current)==null||Xe.runSequentialLayout())};return $.jsxs("div",{className:"relative h-full w-full overflow-hidden","data-testid":"explore",onContextMenu:J=>J.preventDefault(),children:[$.jsx(oO,{graph:d,highlightedItem:s,onClickEdge:u,onClickNode:u,onClickStage:h,handleContextMenu:te,showNodeLabels:M,showEdgeLabels:ee,ref:y}),$.jsxs("div",{className:"absolute top-0 h-full p-4 flex gap-2 justify-between flex-col pointer-events-none",children:[$.jsx(pO,{}),$.jsx(Bx,{isExploreTableSelected:R,layoutOptions:wx,selectedLayout:w??_x,onLayoutChange:He,showNodeLabels:M,onToggleNodeLabels:D,showEdgeLabels:ee,onToggleEdgeLabels:se,jsonData:n.data,onReset:()=>{var J;return(J=y.current)==null?void 0:J.resetCamera()},currentNodes:(Ze=n.data)==null?void 0:Ze.nodes,onSearchedNodeClick:J=>{var ge;J.id&&u(J.id),(ge=y==null?void 0:y.current)==null||ge.zoomTo(J.id)}})]}),$.jsx(mO,{}),$.jsx(Wx,{flagKey:"tier_management_engine",enabled:$.jsx(hO,{contextMenu:Jr(l.data)?v:null,onClose:Me}),disabled:$.jsx(cO,{contextMenu:Jr(l.data)?v:null,handleClose:Me})}),$.jsx(gd,{loading:n.isLoading}),$.jsx(y1,{open:!e.data}),G&&$.jsx(Ex,{selectedColumns:A,onManageColumnsChange:ke,onKebabMenuClick:me,onClose:()=>{I(!1),r(lu(!1))}})]})};export{NO as default};
