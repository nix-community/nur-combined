import{r as o,aa as e,dw as a,bQ as w,bR as h,ho as x,hp as R,dz as l,ab as p,bL as E}from"./index-DV5vAjQm.js";const B=({onSubmit:m,onCancel:P,loading:d=!1})=>{const[t,f]=o.useState(""),[u,j]=o.useState(!1),[r,v]=o.useState(""),[i,b]=o.useState(!1),[n,S]=o.useState(""),[c,y]=o.useState(!1),C=s=>{if(s.preventDefault(),r===n&&r!==t&&t!==""){m({secret:r,needsPasswordReset:!1,currentSecret:t});return}},T=s=>{s.preventDefault(),P()};return e.jsx("form",{onSubmit:C,children:e.jsxs(a,{container:!0,spacing:4,justifyContent:"center",children:[e.jsx(a,{item:!0,xs:12,children:e.jsxs(w,{severity:"info",children:[e.jsx(h,{children:"Your Account Password Has Expired"}),"Please provide a new password for this account to continue."]})}),i&&!x(r)&&e.jsx(a,{item:!0,xs:12,children:e.jsxs(w,{severity:"error",children:[e.jsx(h,{children:"Password Requirements"}),e.jsx("ul",{children:R.map((s,g)=>e.jsx("li",{children:s},g))})]})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(l,{id:"currentPassword",name:"currentPassword",label:"Expired password",type:"password",fullWidth:!0,variant:"outlined",value:t,error:u&&t==="",onChange:s=>f(s.target.value),helperText:u&&t===""?"Expired password is required":null,onBlur:()=>j(!0),autoFocus:!0})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(l,{id:"password",name:"password",label:"New Password",type:"password",fullWidth:!0,variant:"outlined",value:r,error:i&&(!x(r)||r===t),onChange:s=>v(s.target.value),helperText:i&&r===t?"New password must not match expired password":null,onBlur:()=>b(!0)})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(l,{id:"confirmPassword",name:"confirmPassword",label:"New Password Confirmation",type:"password",fullWidth:!0,variant:"outlined",value:n,onChange:s=>S(s.target.value),onBlur:()=>y(!0),error:c&&r!==n,helperText:c&&r!==n?"New password does not match":null})}),e.jsxs(a,{item:!0,xs:8,children:[e.jsx(p,{size:"large",type:"submit",style:{width:"100%"},disabled:d,children:d?"Resetting Password":"Reset Password"}),e.jsx(E,{mt:2,children:e.jsx(p,{variant:"tertiary",size:"large",type:"button",onClick:T,style:{width:"100%"},disabled:d,children:"Return to Login"})})]})]})})};export{B as P};
