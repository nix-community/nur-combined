pull_request_rules:
  - name: Auto merge dependabot updates
    conditions:
      - and:
          - author=dependabot[bot]
          - label=dependencies
          - label=github_actions
    actions:
      update:
      merge:
        method: squash
  - name: Auto merge custom package updates
    conditions:
      - "title~=^Chore: auto update custom package.*"
      - label=auto_update_custom_package
      - label=github_actions
      - check-success~=^Build and populate cache.*
    actions:
      merge:
        method: squash
  # for update flake.lock action
  - name: Auto merge flake.lock updates
    conditions:
      - and:
          - "title~=^chore(deps): bump flake.lock$"
          - label=auto_update_flake
          - label=github_actions
          - check-success=flake check
          - check-success=Build and populate cache
    actions:
      merge:
        method: squash
